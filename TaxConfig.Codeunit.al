codeunit 20000 "Tax Config"
{  
    procedure GetJObject(): JsonObject
    var 
        JObject: JsonObject;
    begin
        JObject.ReadFrom(GetText());
        exit(JObject);
    end;

    local procedure GetText(): Text
    var
        builder: TextBuilder;
    begin
        builder.Append('[{"Code":"TDS","TaxTypeDescription":"Tax Deduction at Source","Enable":true,"TaxEntities":[{"TableNa');
        builder.Append('me":"Location","Type":"Master"},{"TableName":"G/L Account","Type":"Master"},{"TableName":"Customer",');
        builder.Append('"Type":"Master"},{"TableName":"Vendor","Type":"Master"},{"TableName":"Item","Type":"Master"},{"Table');
        builder.Append('Name":"Purchase Header","Type":"Transaction"},{"TableName":"Purchase Line","Type":"Transaction"},{"T');
        builder.Append('ableName":"Company Information","Type":"Master"},{"TableName":"Gen. Journal Line","Type":"Master"},{');
        builder.Append('"TableName":"Assessee Code","Type":"Master"},{"TableName":"Tax Accounting Period","Type":"Master"},{');
        builder.Append('"TableName":"Customer Allowed Sections","Type":"Master"},{"TableName":"TDS Customer Concessional Cod');
        builder.Append('e","Type":"Master"},{"TableName":"Allowed Sections","Type":"Master"},{"TableName":"TDS Concessional ');
        builder.Append('Code","Type":"Master"}],"Attributes":[{"TaxType":"","Name":"State","Type":"Text","LookupTable":"Stat');
        builder.Append('e","LookupField":"Code","LookupPage":"","GroupedInSubLedger":false,"VisibleOnInterface":false,"Entit');
        builder.Append('yMapping":[{"Entity":"Location"},{"Entity":"Customer"},{"Entity":"Vendor"},{"Entity":"Company Inform');
        builder.Append('ation"}]},{"TaxType":"","Name":"PAN No.","Type":"Text","LookupTable":"","LookupField":"","LookupPage');
        builder.Append('":"","GroupedInSubLedger":false,"VisibleOnInterface":false,"EntityMapping":[{"Entity":"Customer","Ma');
        builder.Append('ppingField":"P.A.N. No."},{"Entity":"Vendor","MappingField":"P.A.N. No."}]},{"TaxType":"","Name":"TC');
        builder.Append('AN No.","Type":"Text","LookupTable":"","LookupField":"","LookupPage":"","GroupedInSubLedger":false,"');
        builder.Append('VisibleOnInterface":false,"EntityMapping":[{"Entity":"Location","MappingField":"T.C.A.N. No."},{"Ent');
        builder.Append('ity":"Company Information","MappingField":"T.C.A.N. No."},{"Entity":"Gen. Journal Line","MappingFiel');
        builder.Append('d":"T.C.A.N. No."}]},{"TaxType":"","Name":"Customer GST Registration No.","Type":"Text","LookupTable');
        builder.Append('":"","LookupField":"","LookupPage":"","GroupedInSubLedger":false,"VisibleOnInterface":false,"EntityM');
        builder.Append('apping":[{"Entity":"Customer"}]},{"TaxType":"","Name":"TAN No.","Type":"Text","LookupTable":"","Look');
        builder.Append('upField":"","LookupPage":"","GroupedInSubLedger":false,"VisibleOnInterface":false,"EntityMapping":[{');
        builder.Append('"Entity":"Location","MappingField":"T.A.N. No."},{"Entity":"Company Information","MappingField":"T.A');
        builder.Append('.N. No."},{"Entity":"Gen. Journal Line","MappingField":"T.A.N. No."}]},{"TaxType":"TDS","Name":"Asse');
        builder.Append('ssee Code","Type":"Text","LookupTable":"Assessee Code","LookupField":"Code","LookupPage":"Assessee C');
        builder.Append('odes","GroupedInSubLedger":false,"VisibleOnInterface":true,"EntityMapping":[{"Entity":"Customer","Ma');
        builder.Append('ppingField":"Assessee Code"},{"Entity":"Vendor","MappingField":"Assessee Code"}]},{"TaxType":"TDS","');
        builder.Append('Name":"Section Code","Type":"Text","LookupTable":"TDS Section","LookupField":"Code","LookupPage":"TD');
        builder.Append('S Sections","GroupedInSubLedger":true,"VisibleOnInterface":true,"EntityMapping":[{"Entity":"Purchase');
        builder.Append(' Line","MappingField":"TDS Section Code"},{"Entity":"Gen. Journal Line","MappingField":"TDS Section ');
        builder.Append('Code"}]},{"TaxType":"TDS","Name":"Concessional Code","Type":"Text","LookupTable":"Concessional Code"');
        builder.Append(',"LookupField":"Code","LookupPage":"Concessional Codes","GroupedInSubLedger":false,"VisibleOnInterfa');
        builder.Append('ce":true,"EntityMapping":[{"Entity":"TDS Customer Concessional Code","MappingField":"Concessional Co');
        builder.Append('de"},{"Entity":"TDS Concessional Code","MappingField":"Concessional Code"}]},{"TaxType":"TDS","Name"');
        builder.Append(':"State Code","Type":"Text","LookupTable":"State","LookupField":"Code","LookupPage":"States","Groupe');
        builder.Append('dInSubLedger":false,"VisibleOnInterface":false,"EntityMapping":[{"Entity":"Vendor","MappingField":"S');
        builder.Append('tate Code"}]},{"TaxType":"TDS","Name":"Nature of Remittance","Type":"Text","LookupTable":"TDS Nature');
        builder.Append(' Of Remittance","LookupField":"Code","LookupPage":"TDS Nature Of Remittances","GroupedInSubLedger":f');
        builder.Append('alse,"VisibleOnInterface":false,"EntityMapping":[{"Entity":"Purchase Line","MappingField":"Nature of');
        builder.Append(' Remittance"},{"Entity":"Gen. Journal Line","MappingField":"Nature of Remittance"}]},{"TaxType":"TDS');
        builder.Append('","Name":"Act Applicable","Type":"Text","LookupTable":"Act Applicable","LookupField":"Code","LookupP');
        builder.Append('age":"Act Applicable","GroupedInSubLedger":false,"VisibleOnInterface":false,"EntityMapping":[{"Entit');
        builder.Append('y":"Purchase Line","MappingField":"Act Applicable"},{"Entity":"Gen. Journal Line","MappingField":"Ac');
        builder.Append('t Applicable"}]},{"TaxType":"TDS","Name":"Non Resident Payment","Type":"Boolean","LookupTable":"Allo');
        builder.Append('wed Sections","LookupField":"Non Resident Payments","LookupPage":"Allowed Sections","GroupedInSubLed');
        builder.Append('ger":false,"VisibleOnInterface":false,"EntityMapping":[{"Entity":"Allowed Sections","MappingField":"');
        builder.Append('Non Resident Payments"}]},{"TaxType":"TDS","Name":"Country Code","Type":"Text","LookupTable":"Countr');
        builder.Append('y/Region","LookupField":"Code","LookupPage":"Countries/Regions","GroupedInSubLedger":false,"VisibleO');
        builder.Append('nInterface":false,"EntityMapping":[{"Entity":"Vendor","MappingField":"Country/Region Code"}]},{"TaxT');
        builder.Append('ype":"TDS","Name":"Work Tax Nature of Deduction","Type":"Text","LookupTable":"TDS Section","LookupFi');
        builder.Append('eld":"Code","LookupPage":"TDS Sections","GroupedInSubLedger":false,"VisibleOnInterface":false,"Entit');
        builder.Append('yMapping":[{"Entity":"Purchase Line","MappingField":"Work Tax Nature Of Deduction"},{"Entity":"Gen. ');
        builder.Append('Journal Line","MappingField":"Work Tax Nature Of Deduction"}]}],"AccountingPeriod":{"AccountingPerio');
        builder.Append('dCode":"TDS/TCS","AccountingPeriodDesc":"TCS/ TDS Accounting Periods"},"Components":[{"Name":"TDS","');
        builder.Append('Type":"Decimal","RoundingPrecision":1.0,"Direction":"Nearest","SkipPosting":true},{"Name":"eCESS","T');
        builder.Append('ype":"Decimal","RoundingPrecision":1.0,"Direction":"Nearest","SkipPosting":true},{"Name":"Surcharge"');
        builder.Append(',"Type":"Decimal","RoundingPrecision":1.0,"Direction":"Nearest","SkipPosting":true},{"Name":"SHE Ces');
        builder.Append('s ","Type":"Decimal","RoundingPrecision":1.0,"Direction":"Nearest","SkipPosting":true},{"Name":"Non ');
        builder.Append('PAN TDS","Type":"Decimal","RoundingPrecision":1.0,"Direction":"Nearest","SkipPosting":true},{"Name":');
        builder.Append('"Work Tax","Type":"Decimal","RoundingPrecision":1.0,"Direction":"Nearest","SkipPosting":true},{"Name');
        builder.Append('":"Total TDS Amount","Type":"Decimal","RoundingPrecision":1.0,"Direction":"Nearest","SkipPosting":fa');
        builder.Append('lse},{"Name":"TDS Base Amount","Type":"Decimal","RoundingPrecision":1.0,"Direction":"Nearest","SkipP');
        builder.Append('osting":true},{"Name":"TDS Including Surcharge","Type":"Decimal","RoundingPrecision":1.0,"Direction"');
        builder.Append(':"Nearest","SkipPosting":true}],"TaxRateColumnSetup":[{"Sequence":1,"ColumnName":"Section Code","Col');
        builder.Append('umnType":"Tax Attributes","Type":"Text"},{"Sequence":2,"ColumnName":"Assessee Code","ColumnType":"Ta');
        builder.Append('x Attributes","Type":"Text"},{"Sequence":3,"ColumnName":"Effective Date","ColumnType":"Range From","');
        builder.Append('Type":"Date"},{"Sequence":4,"ColumnName":"Concessional Code","ColumnType":"Tax Attributes","Type":"T');
        builder.Append('ext"},{"Sequence":5,"ColumnName":"Nature of Remittance","ColumnType":"Tax Attributes","Type":"Text"}');
        builder.Append(',{"Sequence":6,"ColumnName":"Act Applicable","ColumnType":"Tax Attributes","Type":"Text"},{"Sequence');
        builder.Append('":7,"ColumnName":"Country Code","ColumnType":"Tax Attributes","Type":"Text"},{"Sequence":8,"ColumnNa');
        builder.Append('me":"TDS","ColumnType":"Component","Type":"Decimal"},{"Sequence":9,"ColumnName":"Non PAN TDS","Colum');
        builder.Append('nType":"Component","Type":"Decimal"},{"Sequence":10,"ColumnName":"Surcharge","ColumnType":"Component');
        builder.Append('","Type":"Decimal"},{"Sequence":11,"ColumnName":"eCESS","ColumnType":"Component","Type":"Decimal"},{');
        builder.Append('"Sequence":12,"ColumnName":"SHE Cess ","ColumnType":"Component","Type":"Decimal"},{"Sequence":13,"Co');
        builder.Append('lumnName":"Surcharge Threshold Amount","ColumnType":"Output Information","Type":"Decimal"},{"Sequenc');
        builder.Append('e":14,"ColumnName":"TDS Threshold Amount","ColumnType":"Output Information","Type":"Decimal"},{"Sequ');
        builder.Append('ence":15,"ColumnName":"Work Tax Nature of Deduction","ColumnType":"Tax Attributes","Type":"Text"},{"');
        builder.Append('Sequence":16,"ColumnName":"Work Tax","ColumnType":"Component","Type":"Decimal"},{"Sequence":17,"Colu');
        builder.Append('mnName":"Per Contract Value","ColumnType":"Output Information","Type":"Decimal"}],"UseCases":[{"Desc');
        builder.Append('ription":"Calculation of Tax Deduction at Source on Vendor Invoice (through Purchase Order/Purchase ');
        builder.Append('Invoice).\n","TaxType":"TDS","Code":"","TaxEntity":"Purchase Line","ParentUseCase":"","PresentationO');
        builder.Append('rder":43,"Indent":0,"PostingTableName":"TDS Posting Setup","PostingTableFilters":[],"Attributes":[{"');
        builder.Append('Name":"Section Code","When":[{"ValueType":"Relation","Relation":{"TableName":"Purchase Line","TableF');
        builder.Append('ilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"Fit');
        builder.Append('erFieldName":"Document No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}},{"FiterFieldName":"Li');
        builder.Append('ne No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Purchase Line","FieldName":"Line No."}}}]}}]},{"Name":"TAN No.","When":[{"Condition":{');
        builder.Append('"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Purchase Line","FieldName":"Location Code"}},"RHS":{"Type":"Constant","Value":""}}]},"Value');
        builder.Append('Type":"Relation","Relation":{"TableName":"Company Information","TableFilters":[]}},{"Condition":{"Bo');
        builder.Append('dy":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Purchase Line","FieldName":"Location Code"}},"RHS":{"Type":"Constant","Value":""}}]},"Valu');
        builder.Append('eType":"Relation","Relation":{"TableName":"Location","TableFilters":[{"FiterFieldName":"Code","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Purchase Line","FieldName":"Location Code"}}}]}}]},{"Name":"Assessee Code","When":[{"ValueType":"Rel');
        builder.Append('ation","Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line"');
        builder.Append(',"FieldName":"Buy-from Vendor No."}}}]}}]}],"RateColumns":[],"ComputationVariables":[],"ComputationS');
        builder.Append('cript":[],"PostingVariables":[],"PostingScript":[],"Components":[],"Condition":{"Body":[]},"TaxPosti');
        builder.Append('ngSetup":[],"AttachedEvents":[]},{"Description":"Calculation of Tax Deduction at Source on Vendor In');
        builder.Append('voice where both PAN No. and Concessional Codes are not specified.\n","TaxType":"TDS","Code":"","Tax');
        builder.Append('Entity":"Purchase Line","ParentUseCase":"Calculation of Tax Deduction at Source on Vendor Invoice (t');
        builder.Append('hrough Purchase Order/Purchase Invoice).\n","PresentationOrder":44,"Indent":1,"PostingTableName":"TD');
        builder.Append('S Posting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldN');
        builder.Append('ame":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals T');
        builder.Append('o","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","Tabl');
        builder.Append('eFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNam');
        builder.Append('e":"Document No."}}}]}}}],"Attributes":[],"RateColumns":[{"Name":"Effective Date","When":[{"ValueTyp');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posting D');
        builder.Append('ate","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldN');
        builder.Append('ame":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}');
        builder.Append('}]}],"ComputationVariables":[{"Name":"TotalAmount","Datatype":"Number"},{"Name":"TDSTaxableAmount","');
        builder.Append('Datatype":"Number"},{"Name":"SurchargeBaseAmt","Datatype":"Number"},{"Name":"TDSAmount","Datatype":"');
        builder.Append('Number"},{"Name":"PrevInvAmountLCY","Datatype":"Number"},{"Name":"PrevInvAmount","Datatype":"Number"');
        builder.Append('},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":');
        builder.Append('"PreviousContractAmount","Datatype":"Number"},{"Name":"TotalInvAmountLCY","Datatype":"Number"},{"Nam');
        builder.Append('e":"TotalInvAmount","Datatype":"Number"},{"Name":"TotalInvAmtWOContractLCY","Datatype":"Number"},{"N');
        builder.Append('ame":"TotalInvAmtWOContract","Datatype":"Number"},{"Name":"PreSurchargeBaseAmt","Datatype":"Number"}');
        builder.Append(',{"Name":"TotalSurchargeBaseAmt","Datatype":"Number"},{"Name":"PositiveAmount","Datatype":"Number"},');
        builder.Append('{"Name":"PositiveAmountLCY","Datatype":"Number"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"Name":"');
        builder.Append('FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"Acco');
        builder.Append('untingDateFilter","Datatype":"String"},{"Name":"TotalCurrAmountLCY","Datatype":"Number"},{"Name":"Po');
        builder.Append('sitiveTotalCurrAmountLCY","Datatype":"Number"},{"Name":"AppliedAmount","Datatype":"Number"},{"Name":');
        builder.Append('"TotalTaxableInvAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmtWOContract","Datatype":"Numb');
        builder.Append('er"},{"Name":"BatchAmountLCY","Datatype":"Number"},{"Name":"BatchPaymentAmountLCY","Datatype":"Numbe');
        builder.Append('r"},{"Name":"BatchInvoiceAmountLCY","Datatype":"Number"},{"Name":"PositiveAmtExclGST","Datatype":"Nu');
        builder.Append('mber"},{"Name":"TaxableAmountExclApplied","Datatype":"Number"}],"ComputationScript":[{"ActivityType"');
        builder.Append(':"COMMENT","Activity":{"Comment":"Created string for current financial year"}},{"ActivityType":"SETV');
        builder.Append('ARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date","Meth');
        builder.Append('od":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Per');
        builder.Append('iod","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","');
        builder.Append('Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Tha');
        builder.Append('n Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase ');
        builder.Append('Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document');
        builder.Append(' Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"Document No."}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"Output');
        builder.Append('VariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tab');
        builder.Append('leName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"Fit');
        builder.Append('erFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilt');
        builder.Append('ers":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[');
        builder.Append(']}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant",');
        builder.Append('"Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant",');
        builder.Append('"Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldNam');
        builder.Append('e":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"E');
        builder.Append('quals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase ');
        builder.Append('Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Docum');
        builder.Append('ent No."}}}]}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"Accounting');
        builder.Append('DateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"",');
        builder.Append('"LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEn');
        builder.Append('dDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}}]}},{"ActivityType":"COMMENT","Activ');
        builder.Append('ity":{"Comment":"Total posted Invoice amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVar');
        builder.Append('iableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName"');
        builder.Append(':"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Ven');
        builder.Append('dor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record');
        builder.Append('","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"P');
        builder.Append('urchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equa');
        builder.Append('ls","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee');
        builder.Append(' Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Docume');
        builder.Append('nt Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityT');
        builder.Append('ype":"COMMENT","Activity":{"Comment":"Total posted Payment amount"}},{"ActivityType":"SETVARIABLE","');
        builder.Append('Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Method":"Sum","TableFilters":[{');
        builder.Append('"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldNa');
        builder.Append('me":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Cod');
        builder.Append('e","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Att');
        builder.Append('ributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"Fi');
        builder.Append('terFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Paymen');
        builder.Append('t"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Sum of posted payment and invoice amount"');
        builder.Append('}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PrevInvAmountLCY","Expression":"P');
        builder.Append('ostedInvoiceAmount+PostedPaymentAmount","Tokens":[{"TokenName":"PostedInvoiceAmount","TokenValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmount"}}},{"TokenName":"Pos');
        builder.Append('tedPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Pa');
        builder.Append('ymentAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted contract amount"}},');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreviousContractAmount","OutputValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice ');
        builder.Append('Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNam');
        builder.Append('e":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section ');
        builder.Append('Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Per Con');
        builder.Append('tract","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}}}},{"ActivityType":');
        builder.Append('"COMMENT","Activity":{"Comment":"Total Posted amount without contract amount"}},{"ActivityType":"NUM');
        builder.Append('ERICEXPRESSION","Activity":{"VariableName":"TotalInvAmtWOContractLCY","Expression":"TotalPostedAmoun');
        builder.Append('t-PostedContractAmount","Tokens":[{"TokenName":"PostedContractAmount","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"TotalPost');
        builder.Append('edAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAm');
        builder.Append('ountLCY"}}}]}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmountL');
        builder.Append('CY","Operator":"Plus","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevI');
        builder.Append('nvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase ');
        builder.Append('Line","FieldName":"Amount"}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Amount fro');
        builder.Append('m LCY to FCY"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Cond');
        builder.Append('itionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFi');
        builder.Append('eldName":"Currency Code","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pu');
        builder.Append('rchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName"');
        builder.Append(':"Document No."}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULA');
        builder.Append('TION","Activity":{"OutputVariableName":"TotalInvAmount","Operator":"Multiply By","LHS":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency Factor","Metho');
        builder.Append('d":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Docum');
        builder.Append('ent Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}},{"Activ');
        builder.Append('ityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmtWOContract","Operator":"Mu');
        builder.Append('ltiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOCon');
        builder.Append('tractLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","Tab');
        builder.Append('leFieldName":"Currency Factor","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fiel');
        builder.Append('dName":"Document No."}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"');
        builder.Append('PrevInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"');
        builder.Append('Purchase Header","TableFieldName":"Currency Factor","Method":"First","TableFilters":[{"FiterFieldNam');
        builder.Append('e":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Purchase Line","FieldName":"Document No."}}}]}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Acti');
        builder.Append('vityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmount","OutputValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}},{"ActivityType":"SETVA');
        builder.Append('RIABLE","Activity":{"OutputVariableName":"TotalInvAmtWOContract","OutputValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"SETVARI');
        builder.Append('ABLE","Activity":{"OutputVariableName":"PrevInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"PrevInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activity":{');
        builder.Append('"Comment":"Get applied amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Op');
        builder.Append('erator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase Hea');
        builder.Append('der","TableFieldName":"Applies-to Doc. Type","Method":"First","TableFilters":[{"FiterFieldName":"Doc');
        builder.Append('ument Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purcha');
        builder.Append('se Line","FieldName":"Document No."}}}]}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"');
        builder.Append('and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase Header');
        builder.Append('","TableFieldName":"Applies-to Doc. No.","Method":"First","TableFilters":[{"FiterFieldName":"Documen');
        builder.Append('t Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase L');
        builder.Append('ine","FieldName":"Document No."}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType');
        builder.Append('":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Met');
        builder.Append('hod":"Sum","TableFilters":[{"FiterFieldName":"Document No.","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Applies-');
        builder.Append('to Doc. No.","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line"');
        builder.Append(',"FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document N');
        builder.Append('o."}}}]}}}]}}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","C');
        builder.Append('onditionType":"Is Less Than Or Equals To","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"A');
        builder.Append('ppliedAmount"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase');
        builder.Append(' Line","FieldName":"Amount"}}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableNa');
        builder.Append('me":"TaxableAmountExclApplied","Expression":"Amount-AppliedAmount","Tokens":[{"TokenName":"Amount","');
        builder.Append('TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fi');
        builder.Append('eldName":"Amount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"AppliedAmount"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Acti');
        builder.Append('vityType":"SETVARIABLE","Activity":{"OutputVariableName":"TaxableAmountExclApplied","OutputValue":{"');
        builder.Append('Type":"Constant","Value":"0"}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable A');
        builder.Append('mount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmount","Exp');
        builder.Append('ression":"(PostedAmount+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}');
        builder.Append(',{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"AppliedAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comm');
        builder.Append('ent":"Total Taxable Amount excluding posted contract amount"}},{"ActivityType":"NUMERICEXPRESSION","');
        builder.Append('Activity":{"VariableName":"TotalTaxableInvAmtWOContract","Expression":"((PostedAmount-ContractAmt)+A');
        builder.Append('mount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmo');
        builder.Append('unt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}');
        builder.Append('}},{"TokenName":"ContractAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"PreviousContractAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activit');
        builder.Append('y":{"Comment":"Condition to calculate TDS Amount considering Threshold limit"}},{"ActivityType":"IFS');
        builder.Append('TATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":');
        builder.Append('{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilt');
        builder.Append('ers":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterF');
        builder.Append('ieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Th');
        builder.Append('reshold Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{');
        builder.Append('"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bod');
        builder.Append('y":[{"Operator":" ","ConditionType":"Is Less Than Or Equals To","LHS":{"Lookup":{"SourceType":"Varia');
        builder.Append('ble","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","Rat');
        builder.Append('eColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Conditio');
        builder.Append('n":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Column","Rat');
        builder.Append('eColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":');
        builder.Append('"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LH');
        builder.Append('S":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"');
        builder.Append('SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmtWOContract"}}}}],"ElseIf":{"Conditio');
        builder.Append('n":{"Body":[]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ');
        builder.Append('","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"Positiv');
        builder.Append('eAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract ');
        builder.Append('Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount');
        builder.Append('","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExcl');
        builder.Append('Applied"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"O');
        builder.Append('utputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":""}}}]}}}]}}}],"ElseI');
        builder.Append('f":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Col');
        builder.Append('umn","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Activ');
        builder.Append('ityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater ');
        builder.Append('Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"Activi');
        builder.Append('tyType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmount"}}}}],"ElseIf":{"Condit');
        builder.Append('ion":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableA');
        builder.Append('mount","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Ope');
        builder.Append('rator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName"');
        builder.Append(':"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS T');
        builder.Append('hreshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTax');
        builder.Append('ableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Taxable');
        builder.Append('AmountExclApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE",');
        builder.Append('"Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}},{"ActivityType":"NUMERICEXPRESSIO');
        builder.Append('N","Activity":{"VariableName":"TDSAmount","Expression":"TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenN');
        builder.Append('ame":"TDSPer","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentNam');
        builder.Append('e":"Non PAN TDS"}}},{"TokenName":"TDSTaxableAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"Outp');
        builder.Append('utVariableName":"PreSurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table",');
        builder.Append('"TableName":"TDS Entry","TableFieldName":"Surcharge Base Amount","Method":"Sum","TableFilters":[{"Fi');
        builder.Append('terFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName"');
        builder.Append(':"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Attrib');
        builder.Append('uteName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}}]}}}},{"');
        builder.Append('ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalSurchargeBaseAmt","Expression":"P');
        builder.Append('reSurchargeBaseAmt+TDSAmount","Tokens":[{"TokenName":"PreSurchargeBaseAmt","TokenValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"PreSurchargeBaseAmt"}}},{"TokenName":"TDSAmou');
        builder.Append('nt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}]}}');
        builder.Append(',{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equ');
        builder.Append('als","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","Metho');
        builder.Append('d":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Ve');
        builder.Append('ndor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},');
        builder.Append('{"FiterFieldName":"Surcharge Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value');
        builder.Append('":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activit');
        builder.Append('y":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Colu');
        builder.Append('mn","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activi');
        builder.Append('ty":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"Source');
        builder.Append('Type":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","A');
        builder.Append('ctivity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"TotalSurchargeBaseAmt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":');
        builder.Append('[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"T');
        builder.Append('ype":"Constant","Value":"0"}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVA');
        builder.Append('RIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body');
        builder.Append('":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}},{"ActivityType"');
        builder.Append(':"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}},"RHS":{"Type":"Constant","Value":"');
        builder.Append('"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName"');
        builder.Append(':"Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"');
        builder.Append('OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"TDSTaxableAmount"}}}}]}}}],"PostingVariables":[{"Name":"TDSIncludingSHECess","Datatype');
        builder.Append('":"Number"},{"Name":"TDSIncludingSurcharge","Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"Nu');
        builder.Append('mber"},{"Name":"PaymentAmt","Datatype":"Number"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name":');
        builder.Append('"TotalInvAmt","Datatype":"Number"},{"Name":"PerContract","Datatype":"Boolean"},{"Name":"PaymentAmoun');
        builder.Append('t","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"FiscalYearStartDate","');
        builder.Append('Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Dat');
        builder.Append('atype":"String"},{"Name":"TDSPer","Datatype":"Number"},{"Name":"SurchargePer","Datatype":"Number"},{');
        builder.Append('"Name":"ECessPer","Datatype":"Number"},{"Name":"SHECessPer","Datatype":"Number"}],"PostingScript":[{');
        builder.Append('"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expression":"{T');
        builder.Append('DS}+{Surcharge}+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Surc');
        builder.Append('harge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"');
        builder.Append('}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Component');
        builder.Append('Name":"Non PAN TDS"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludi');
        builder.Append('ngSurcharge","Expression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}}');
        builder.Append(',{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName"');
        builder.Append(':"Starting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFiel');
        builder.Append('dName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"E');
        builder.Append('quals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableF');
        builder.Append('ieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","Fi');
        builder.Append('lterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table",');
        builder.Append('"TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"Fit');
        builder.Append('erFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"');
        builder.Append('No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Purchase Line","FieldName":"Document No."}}}]}}},{"FiterFieldName":"New Fiscal Year","Fil');
        builder.Append('terType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABL');
        builder.Append('E","Activity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last"');
        builder.Append(',"TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Meth');
        builder.Append('od":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"F');
        builder.Append('irst","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Tha');
        builder.Append('n Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase ');
        builder.Append('Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document');
        builder.Append(' Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"Document No."}}}]}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVar');
        builder.Append('iableName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDa');
        builder.Append('te","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"FiscalYearStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"Activity');
        builder.Append('Type":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Firs');
        builder.Append('t","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No');
        builder.Append('."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFiel');
        builder.Append('dName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CA');
        builder.Append('L Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Accountin');
        builder.Append('gDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Const');
        builder.Append('ant","Value":"Invoice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Paymen');
        builder.Append('tAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFi');
        builder.Append('eldName":"Payment Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purc');
        builder.Append('hase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fiel');
        builder.Append('dName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFi');
        builder.Append('eldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPRES');
        builder.Append('SION","Activity":{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens":[{"Toke');
        builder.Append('nName":"InvoiceAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('InvoiceAmt"}}},{"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Varia');
        builder.Append('ble","VariableName":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName');
        builder.Append('":"TotalInvAmt","Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{');
        builder.Append('"TokenName":"{InvAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"TotalInvAmt"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" "');
        builder.Append(',"ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","Tabl');
        builder.Append('eFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","');
        builder.Append('FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"');
        builder.Append('TDS Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"');
        builder.Append('IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{');
        builder.Append('"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMEN');
        builder.Append('T","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup');
        builder.Append('":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""');
        builder.Append('}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Conditi');
        builder.Append('onType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body');
        builder.Append('":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"I');
        builder.Append('s Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"Acti');
        builder.Append('vityType":"SETVARIABLE","Activity":{"OutputVariableName":"PerContract","OutputValue":{"Type":"Consta');
        builder.Append('nt","Value":"true"}}}]}}]}}]}}]}}]}}],"Components":[{"ComponentName":"Non PAN TDS","Sequence":1,"For');
        builder.Append('mula":{"VariableName":"","Expression":"TDSTaxableAmount*TDSPercent/100","Tokens":[{"TokenName":"TDSP');
        builder.Append('ercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"No');
        builder.Append('n PAN TDS"}}},{"TokenName":"TDSTaxableAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ComponentName":"TDS Base Amount","Sequence":6,"F');
        builder.Append('ormula":{"VariableName":"","Expression":"TDSBaseAmount","Tokens":[{"TokenName":"TDSBaseAmount","Toke');
        builder.Append('nValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSBaseAmt"}}}]}},{"Compo');
        builder.Append('nentName":"Surcharge","Sequence":2,"Formula":{"VariableName":"","Expression":"SurchargeTaxableAmount');
        builder.Append('*SurchargePercent/100","Tokens":[{"TokenName":"SurchargePercent","TokenValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"TokenName":"SurchargeTaxableA');
        builder.Append('mount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"SurchargeBase');
        builder.Append('Amt"}}}]}},{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Expression');
        builder.Append('":"TDSAmount+SurchargeAmount+ECessAmount+SHECessAmount","Tokens":[{"TokenName":"ECessAmount","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"S');
        builder.Append('HECessAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE ');
        builder.Append('Cess "}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Compo');
        builder.Append('nent","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"eCESS","Sequence":3');
        builder.Append(',"Formula":{"VariableName":"","Expression":"(TDSAmount+SurchargeAmount)*EcessPercent/100","Tokens":[');
        builder.Append('{"TokenName":"EcessPercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent"');
        builder.Append(',"ComponentName":"eCESS"}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"S');
        builder.Append('HE Cess ","Sequence":4,"Formula":{"VariableName":"","Expression":"(TDSAmount+SurchargeAmount)*SHECes');
        builder.Append('sPercent/100","Tokens":[{"TokenName":"SHECessPercent","TokenValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Component Percent","ComponentName":"SHE Cess "}}},{"TokenName":"SurchargeAmount","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"T');
        builder.Append('DSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN ');
        builder.Append('TDS"}}}]}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}},"RHS":{"Type":"Consta');
        builder.Append('nt","Value":"Order"}},{"Operator":"or","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value');
        builder.Append('":"Invoice"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","');
        builder.Append('TableName":"Vendor","TableFieldName":"P.A.N. Status","Method":"First","TableFilters":[{"FiterFieldNa');
        builder.Append('me":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}}]}},"RHS":{"Type":"Constant","Val');
        builder.Append('ue":" "}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableNam');
        builder.Append('e":"TDS Concessional Code","TableFieldName":"Concessional Code","Method":"First","TableFilters":[{"F');
        builder.Append('iterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldNa');
        builder.Append('me":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Va');
        builder.Append('lue":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableNam');
        builder.Append('e":"Allowed Sections","TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[{"Fi');
        builder.Append('terFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName');
        builder.Append('":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","');
        builder.Append('Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Allowed Sections","TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[{"');
        builder.Append('FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldNa');
        builder.Append('me":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant"');
        builder.Append(',"Value":"No"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Val');
        builder.Append('ue":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Purchase Line","FieldName":"Work Tax Nature Of Deduction"}},"RHS":{"Type":"Constant","Va');
        builder.Append('lue":""}}]},"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","TableName":"TDS Posting Setup","');
        builder.Append('AccountSourceType":"Field","FieldName":"TDS Account","AccountingImpact":"Credit","ReverseCharge":fal');
        builder.Append('se,"ReverseAccountSourceType":"Field","ReverseChargeFieldName":"","When":[{"Condition":{"Body":[{"Op');
        builder.Append('erator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Purchase Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}}]},"ValueType"');
        builder.Append(':"Insert Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger":true,"RecordVariable":"","SubL');
        builder.Append('edgerGrpBy":"Component","InsertRecordFields":[{"FieldName":"Vendor No.","Sequence":4,"ReverseSign":f');
        builder.Append('alse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","');
        builder.Append('FieldName":"Buy-from Vendor No."}}},{"FieldName":"T.A.N. No.","Sequence":5,"ReverseSign":false,"Look');
        builder.Append('up":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"TAN No."}}},{"FieldNam');
        builder.Append('e":"Section","Sequence":6,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FieldName":"Assessee Cod');
        builder.Append('e","Sequence":7,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes');
        builder.Append('","AttributeName":"Assessee Code"}}},{"FieldName":"TDS Base Amount","Sequence":8,"ReverseSign":false');
        builder.Append(',"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{');
        builder.Append('"FieldName":"TDS %","Sequence":9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Component Percent","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Amount","Sequence":10,"Reve');
        builder.Append('rseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN');
        builder.Append(' TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":false,"Lookup":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"FieldName":"Surcharge Amount');
        builder.Append('","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Co');
        builder.Append('mponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"FieldName":"eCess');
        builder.Append(' Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Compone');
        builder.Append('nt","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"ReverseSign":false,"Lookup":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Cess "}}},{"FieldNa');
        builder.Append('me":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional Code","Sequence":17,"Reve');
        builder.Append('rseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Co');
        builder.Append('ncessional Code"}}},{"FieldName":"Concessional Form No.","Sequence":37,"ReverseSign":false,"Lookup":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","TableFieldName"');
        builder.Append(':"Certificate No.","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName');
        builder.Append('":"TDS Section Code"}}}]}}},{"FieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":false,"Looku');
        builder.Append('p":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{"FieldName');
        builder.Append('":"Nature of Remittance","Sequence":19,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Purchase Line","FieldName":"Nature of Remittance"}}},{"FieldNa');
        builder.Append('me":"Act Applicable","Sequence":20,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Purchase Line","FieldName":"Act Applicable"}}},{"FieldName":"Invoi');
        builder.Append('ce Amount","Sequence":25,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"FieldName":"Posting Date","Sequence');
        builder.Append('":3,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purcha');
        builder.Append('se Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Docum');
        builder.Append('ent Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase');
        builder.Append(' Line","FieldName":"Document No."}}}]}}},{"FieldName":"Document Type","Sequence":26,"ReverseSign":fa');
        builder.Append('lse,"Lookup":{"Type":"Constant","Value":"Invoice"}},{"FieldName":"Document No.","Sequence":2,"Revers');
        builder.Append('eSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":');
        builder.Append('"Posted Document No."}}},{"FieldName":"Account Type","Sequence":23,"ReverseSign":false,"Lookup":{"Ty');
        builder.Append('pe":"Constant","Value":"G/L Account"}},{"FieldName":"Account No.","Sequence":24,"ReverseSign":false,');
        builder.Append('"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Posting Setup","TableField');
        builder.Append('Name":"TDS Account","Method":"First","TableFilters":[{"FiterFieldName":"TDS Section","FilterType":"E');
        builder.Append('quals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase ');
        builder.Append('Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Tha');
        builder.Append('n Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase ');
        builder.Append('Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document');
        builder.Append(' Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"Document No."}}}]}}}]}}},{"FieldName":"Source Code","Sequence":28,"ReverseSign":fal');
        builder.Append('se,"Lookup":{"Type":"Constant","Value":"PURCHASES"}},{"FieldName":"TDS Amount Including Surcharge","');
        builder.Append('Sequence":22,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"TDSIncludingSurcharge"}}},{"FieldName":"Bal. TDS Including SHE CESS","Sequence":29,"Reverse');
        builder.Append('Sign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncluding');
        builder.Append('SHECess"}}},{"FieldName":"Remaining Surcharge Amount","Sequence":31,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"Remain');
        builder.Append('ing TDS Amount","Sequence":42,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Component","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Line Amount","Sequence":43,"ReverseSig');
        builder.Append('n":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Lin');
        builder.Append('e","FieldName":"Amount"}}},{"FieldName":"Total TDS Including SHE CESS","Sequence":21,"ReverseSign":f');
        builder.Append('alse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Total TDS Amount"');
        builder.Append('}}},{"FieldName":"Per Contract","Sequence":39,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"PerContract"}}},{"FieldName":"User ID","Sequence":30,"Reve');
        builder.Append('rseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Database","DatabaseVariableName":"U');
        builder.Append('serId"}}},{"FieldName":"Transaction No.","Sequence":38,"ReverseSign":false,"Lookup":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry Transaction No."}}},{"Field');
        builder.Append('Name":"Original TDS Base Amount","Sequence":27,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"Surcharge Base Amount');
        builder.Append('","Sequence":41,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Co');
        builder.Append('mponentName":"Non PAN TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"ReverseSign":false,"Lookup"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry No."}}}]}}');
        builder.Append(']}],"AttachedEvents":[{"EventName":"CallTaxEngineOnPurchaseLine","Enabled":true,"Sequence":0},{"Even');
        builder.Append('tName":"OnAfterUpdatePurchUnitPrice","Enabled":true,"Sequence":0}]},{"Description":"Calculation of T');
        builder.Append('ax Deduction at Source on Vendor Invoice where no PAN No. is specified along with Concessional Codes');
        builder.Append('.\n","TaxType":"TDS","Code":"","TaxEntity":"Purchase Line","ParentUseCase":"Calculation of Tax Deduc');
        builder.Append('tion at Source on Vendor Invoice (through Purchase Order/Purchase Invoice).\n","PresentationOrder":4');
        builder.Append('5,"Indent":1,"PostingTableName":"TDS Posting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Se');
        builder.Append('ction","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","Fi');
        builder.Append('lterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table",');
        builder.Append('"TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"Fit');
        builder.Append('erFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"');
        builder.Append('No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Purchase Line","FieldName":"Document No."}}}]}}}],"Attributes":[{"Name":"Concessional Cod');
        builder.Append('e","When":[{"ValueType":"Relation","Relation":{"TableName":"TDS Concessional Code","TableFilters":[{');
        builder.Append('"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterField');
        builder.Append('Name":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}}]}],"RateColumns":[{"Name":');
        builder.Append('"Effective Date","When":[{"ValueType":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase ');
        builder.Append('Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document');
        builder.Append(' Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"Document No."}}}]}}]}],"ComputationVariables":[{"Name":"TotalAmount","Datatype":"Nu');
        builder.Append('mber"},{"Name":"TDSTaxableAmount","Datatype":"Number"},{"Name":"SurchargeBaseAmt","Datatype":"Number');
        builder.Append('"},{"Name":"TDSAmount","Datatype":"Number"},{"Name":"PrevInvAmountLCY","Datatype":"Number"},{"Name":');
        builder.Append('"PrevInvAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"PaymentAm');
        builder.Append('ount","Datatype":"Number"},{"Name":"PreviousContractAmount","Datatype":"Number"},{"Name":"TotalInvAm');
        builder.Append('ountLCY","Datatype":"Number"},{"Name":"TotalInvAmount","Datatype":"Number"},{"Name":"TotalInvAmtWOCo');
        builder.Append('ntractLCY","Datatype":"Number"},{"Name":"TotalInvAmtWOContract","Datatype":"Number"},{"Name":"PreSur');
        builder.Append('chargeBaseAmt","Datatype":"Number"},{"Name":"TotalSurchargeBaseAmt","Datatype":"Number"},{"Name":"Po');
        builder.Append('sitiveAmount","Datatype":"Number"},{"Name":"PositiveAmountLCY","Datatype":"Number"},{"Name":"TDSBase');
        builder.Append('Amt","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDat');
        builder.Append('e","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TotalCurrAmountLC');
        builder.Append('Y","Datatype":"Number"},{"Name":"PositiveTotalCurrAmountLCY","Datatype":"Number"},{"Name":"AppliedAm');
        builder.Append('ount","Datatype":"Number"},{"Name":"TotalTaxableInvAmount","Datatype":"Number"},{"Name":"TotalTaxabl');
        builder.Append('eInvAmtWOContract","Datatype":"Number"},{"Name":"BatchAmountLCY","Datatype":"Number"},{"Name":"Batch');
        builder.Append('PaymentAmountLCY","Datatype":"Number"},{"Name":"BatchInvoiceAmountLCY","Datatype":"Number"},{"Name":');
        builder.Append('"PositiveAmtExclGST","Datatype":"Number"},{"Name":"TaxableAmountExclApplied","Datatype":"Number"}],"');
        builder.Append('ComputationScript":[{"ActivityType":"COMMENT","Activity":{"Comment":"Created string for current fina');
        builder.Append('ncial year"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","');
        builder.Append('OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","Ta');
        builder.Append('bleFieldName":"Starting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","Fil');
        builder.Append('terType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Typ');
        builder.Append('e","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS S');
        builder.Append('etup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Start');
        builder.Append('ing Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFi');
        builder.Append('lters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"Fite');
        builder.Append('rFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}},{"FiterFieldName":"New Fisc');
        builder.Append('al Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"');
        builder.Append('Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType');
        builder.Append('":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","M');
        builder.Append('ethod":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting ');
        builder.Append('Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type');
        builder.Append('","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"I');
        builder.Append('s Greater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableNam');
        builder.Append('e":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldNa');
        builder.Append('me":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","Fil');
        builder.Append('terType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Purchase Line","FieldName":"Document No."}}}]}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity');
        builder.Append('":{"OutputVariableName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"Toke');
        builder.Append('nName":"EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"FiscalYearEndDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVaria');
        builder.Append('bleName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}}]');
        builder.Append('}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted Invoice amount"}},{"ActivityType":"');
        builder.Append('SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","Ta');
        builder.Append('bleFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},');
        builder.Append('{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName"');
        builder.Append(':"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax At');
        builder.Append('tributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filt');
        builder.Append('er","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateF');
        builder.Append('ilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","');
        builder.Append('Value":"Invoice"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted Payment amount');
        builder.Append('"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amoun');
        builder.Append('t","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"P');
        builder.Append('ay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"');
        builder.Append('}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","');
        builder.Append('FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableN');
        builder.Append('ame":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Sum of');
        builder.Append(' posted payment and invoice amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName"');
        builder.Append(':"PrevInvAmountLCY","Expression":"PostedInvoiceAmount+PostedPaymentAmount","Tokens":[{"TokenName":"P');
        builder.Append('ostedInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('InvoiceAmount"}}},{"TokenName":"PostedPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Variable","VariableName":"PaymentAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment');
        builder.Append('":"Total posted contract amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"P');
        builder.Append('reviousContractAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TD');
        builder.Append('S Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor ');
        builder.Append('No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purch');
        builder.Append('ase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filte');
        builder.Append('r","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFi');
        builder.Append('lter"}}},{"FiterFieldName":"Per Contract","FilterType":"Equals","FilterValue":{"Type":"Constant","Va');
        builder.Append('lue":"true"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Posted amount without cont');
        builder.Append('ract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmtWOContract');
        builder.Append('LCY","Expression":"TotalPostedAmount-PostedContractAmount","Tokens":[{"TokenName":"PostedContractAmo');
        builder.Append('unt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContrac');
        builder.Append('tAmount"}}},{"TokenName":"TotalPostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"V');
        builder.Append('ariable","VariableName":"TotalInvAmountLCY"}}}]}},{"ActivityType":"NUMBERCALCULATION","Activity":{"O');
        builder.Append('utputVariableName":"TotalInvAmountLCY","Operator":"Plus","LHS":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Purchase Line","FieldName":"Amount"}}}},{"ActivityType":"COMMENT","Activit');
        builder.Append('y":{"Comment":"Converted Amount from LCY to FCY"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condit');
        builder.Append('ion":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","Ta');
        builder.Append('bleName":"Purchase Header","TableFieldName":"Currency Code","Method":"First","TableFilters":[{"Fiter');
        builder.Append('FieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No');
        builder.Append('.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Purchase Line","FieldName":"Document No."}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Bo');
        builder.Append('dy":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmount","Operator');
        builder.Append('":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmo');
        builder.Append('untLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","Table');
        builder.Append('FieldName":"Currency Factor","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","Fil');
        builder.Append('terType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldN');
        builder.Append('ame":"Document No."}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"To');
        builder.Append('talInvAmtWOContract","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"TotalInvAmtWOContractLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table"');
        builder.Append(',"TableName":"Purchase Header","TableFieldName":"Currency Factor","Method":"First","TableFilters":[{');
        builder.Append('"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldNam');
        builder.Append('e":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record');
        builder.Append('","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}},{"ActivityType":"NUMBERCALCULATION"');
        builder.Append(',"Activity":{"OutputVariableName":"PrevInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency Factor","Method":"Fir');
        builder.Append('st","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Typ');
        builder.Append('e"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}}],"ElseIf":{"Co');
        builder.Append('ndition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalIn');
        builder.Append('vAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAm');
        builder.Append('ountLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmtWOContract",');
        builder.Append('"OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContra');
        builder.Append('ctLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PrevInvAmount","OutputVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}}]}}},{"A');
        builder.Append('ctivityType":"COMMENT","Activity":{"Comment":"Get applied amount"}},{"ActivityType":"IFSTATEMENT","A');
        builder.Append('ctivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType');
        builder.Append('":"Table","TableName":"Purchase Header","TableFieldName":"Applies-to Doc. Type","Method":"First","Ta');
        builder.Append('bleFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{');
        builder.Append('"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}},"RHS":{"Type":"Constant');
        builder.Append('","Value":"Payment"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"');
        builder.Append('Table","TableName":"Purchase Header","TableFieldName":"Applies-to Doc. No.","Method":"First","TableF');
        builder.Append('ilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"Fit');
        builder.Append('erFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}},"RHS":{"Type":"Constant","V');
        builder.Append('alue":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount",');
        builder.Append('"OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","Tab');
        builder.Append('leFieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName":"Document No.","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase');
        builder.Append(' Header","TableFieldName":"Applies-to Doc. No.","Method":"First","TableFilters":[{"FiterFieldName":"');
        builder.Append('Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pur');
        builder.Append('chase Line","FieldName":"Document No."}}}]}}},{"FiterFieldName":"Total TDS Including SHE CESS","Filt');
        builder.Append('erType":"Not Equals","FilterValue":{"Type":"Constant","Value":""}}]}}}}]}},{"ActivityType":"IFSTATEM');
        builder.Append('ENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"AppliedAmount"}},"RHS":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}]},"Body":[{"ActivityType":');
        builder.Append('"NUMERICEXPRESSION","Activity":{"VariableName":"TaxableAmountExclApplied","Expression":"Amount-Appli');
        builder.Append('edAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmount","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}}]}}],"Else');
        builder.Append('If":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":');
        builder.Append('"TaxableAmountExclApplied","OutputValue":{"Type":"Constant","Value":"0"}}}]}}},{"ActivityType":"COMM');
        builder.Append('ENT","Activity":{"Comment":"Total Taxable Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{');
        builder.Append('"VariableName":"TotalTaxableInvAmount","Expression":"(PostedAmount+Amount)-AppliedAmount","Tokens":[');
        builder.Append('{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"PostedAmount","');
        builder.Append('TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},');
        builder.Append('{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount excluding posted contract amou');
        builder.Append('nt"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmtWOContract",');
        builder.Append('"Expression":"((PostedAmount-ContractAmt)+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","To');
        builder.Append('kenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fiel');
        builder.Append('dName":"Amount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"ContractAmt","TokenValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"Posted');
        builder.Append('Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmoun');
        builder.Append('t"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Condition to calculate TDS Amount consider');
        builder.Append('ing Threshold limit"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ');
        builder.Append('","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","Tab');
        builder.Append('leFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line",');
        builder.Append('"FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":');
        builder.Append('"TDS Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":');
        builder.Append('"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than Or Equa');
        builder.Append('ls To","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"Activi');
        builder.Append('tyType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals",');
        builder.Append('"LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Consta');
        builder.Append('nt","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator');
        builder.Append('":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"Tot');
        builder.Append('alInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Thres');
        builder.Append('hold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxable');
        builder.Append('Amount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxabl');
        builder.Append('eInvAmtWOContract"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"IFSTATEMENT","Act');
        builder.Append('ivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"PositiveAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{');
        builder.Append('"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Typ');
        builder.Append('e":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":');
        builder.Append('"Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type');
        builder.Append('":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{');
        builder.Append('"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableN');
        builder.Append('ame":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"');
        builder.Append('TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"T');
        builder.Append('DSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"To');
        builder.Append('talTaxableInvAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","A');
        builder.Append('ctivity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":"0"}}}]}}');
        builder.Append('}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Look');
        builder.Append('up":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABL');
        builder.Append('E","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body"');
        builder.Append(':[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","Outp');
        builder.Append('utValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied');
        builder.Append('"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSAmount","Expression":"T');
        builder.Append('DSTaxableAmt*TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Component Percent","ComponentName":"Non PAN TDS"}}},{"TokenName":"TDSTaxableAmt","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"Ac');
        builder.Append('tivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreSurchargeBaseAmt","OutputValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Surcharge Base ');
        builder.Append('Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNam');
        builder.Append('e":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section ');
        builder.Append('Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Da');
        builder.Append('te","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"AccountingDateFilter"}}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableNa');
        builder.Append('me":"TotalSurchargeBaseAmt","Expression":"PreSurchargeBaseAmt+TDSAmount","Tokens":[{"TokenName":"Pre');
        builder.Append('SurchargeBaseAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Pr');
        builder.Append('eSurchargeBaseAmt"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"TDSAmount"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"');
        builder.Append('Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"A');
        builder.Append('llowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purcha');
        builder.Append('se Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Surcharge Overlook","FilterType":"Equa');
        builder.Append('ls","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Bo');
        builder.Append('dy":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":');
        builder.Append('"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"B');
        builder.Append('ody":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType"');
        builder.Append(':"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RH');
        builder.Append('S":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}');
        builder.Append(']},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","Output');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalSurchargeBaseAmt"}}}}');
        builder.Append('],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariabl');
        builder.Append('eName":"SurchargeBaseAmt","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}],"ElseIf":{"Condition"');
        builder.Append(':{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAm');
        builder.Append('t","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}');
        builder.Append('}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVaria');
        builder.Append('bleName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"TDSAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operato');
        builder.Append('r":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableA');
        builder.Append('mount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"');
        builder.Append('OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Purchase Line","FieldName":"Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}}]}}}],"PostingVariable');
        builder.Append('s":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"Name":"TDSIncludingSurcharge","Datatype":"N');
        builder.Append('umber"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":"PaymentAmt","Datatype":"Number"},{"Name":');
        builder.Append('"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","Datatype":"Number"},{"Name":"PerContract",');
        builder.Append('"Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype');
        builder.Append('":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":');
        builder.Append('"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TDSPer","Datatype":"Number"},{"');
        builder.Append('Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPer","Datatype":"Number"},{"Name":"SHECessPe');
        builder.Append('r","Datatype":"Number"},{"Name":"VendorNo","Datatype":"String"}],"PostingScript":[{"ActivityType":"N');
        builder.Append('UMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expression":"{TDS}+{Surcharge}+{');
        builder.Append('eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Surcharge}","TokenVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":');
        builder.Append('"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TD');
        builder.Append('S"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSurcharge","Exp');
        builder.Append('ression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ActivityType":');
        builder.Append('"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date",');
        builder.Append('"Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accountin');
        builder.Append('g Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Ty');
        builder.Append('pe","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Les');
        builder.Append('s Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Ac');
        builder.Append('tivity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","Tabl');
        builder.Append('eFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"F');
        builder.Append('irst","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First",');
        builder.Append('"TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or E');
        builder.Append('quals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. J');
        builder.Append('ournal Line","FieldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"Outp');
        builder.Append('utVariableName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"');
        builder.Append('EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"FiscalYearStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableNam');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"Act');
        builder.Append('ivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":');
        builder.Append('"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vend');
        builder.Append('or No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"Fite');
        builder.Append('rFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType');
        builder.Append('":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Acco');
        builder.Append('untingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Constant","Value":"Invoice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"P');
        builder.Append('aymentAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","Ta');
        builder.Append('bleFieldName":"Payment Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line",');
        builder.Append('"FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"Fi');
        builder.Append('terFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUMERICE');
        builder.Append('XPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens":[{');
        builder.Append('"TokenName":"InvoiceAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"InvoiceAmt"}}},{"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Variabl');
        builder.Append('eName":"TotalInvAmt","Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"');
        builder.Append('}}},{"TokenName":"{InvAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variabl');
        builder.Append('eName":"TotalInvAmt"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator');
        builder.Append('":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections",');
        builder.Append('"TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","Filter');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNa');
        builder.Append('me":"TDS Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityTy');
        builder.Append('pe":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","L');
        builder.Append('HS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTA');
        builder.Append('TEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"L');
        builder.Append('ookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Valu');
        builder.Append('e":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Co');
        builder.Append('nditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},');
        builder.Append('"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},');
        builder.Append('"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTyp');
        builder.Append('e":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{');
        builder.Append('"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PerContract","OutputValue":{"Type":"C');
        builder.Append('onstant","Value":"true"}}}]}}]}}]}}]}}]}}],"Components":[{"ComponentName":"Non PAN TDS","Sequence":1');
        builder.Append(',"Formula":{"VariableName":"","Expression":"TDSTaxableAmount*TDSPercent/100","Tokens":[{"TokenName":');
        builder.Append('"TDSPercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName');
        builder.Append('":"Non PAN TDS"}}},{"TokenName":"TDSTaxableAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ComponentName":"TDS Base Amount","Sequence"');
        builder.Append(':6,"Formula":{"VariableName":"","Expression":"TDSBaseAmount","Tokens":[{"TokenName":"TDSBaseAmount",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSBaseAmt"}}}]}},{"');
        builder.Append('ComponentName":"Surcharge","Sequence":2,"Formula":{"VariableName":"","Expression":"SurchargeTaxableA');
        builder.Append('mount*SurchargePercent/100","Tokens":[{"TokenName":"SurchargePercent","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"TokenName":"SurchargeTax');
        builder.Append('ableAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Surcharg');
        builder.Append('eBaseAmt"}}}]}},{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Expre');
        builder.Append('ssion":"TDSAmount+SurchargeAmount+ECessAmount+SHECessAmount","Tokens":[{"TokenName":"ECessAmount","T');
        builder.Append('okenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenNam');
        builder.Append('e":"SHECessAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":');
        builder.Append('"SHE Cess "}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"eCESS","Sequen');
        builder.Append('ce":3,"Formula":{"VariableName":"","Expression":"(TDSAmount+SurchargeAmount)*EcessPercent/100","Toke');
        builder.Append('ns":[{"TokenName":"EcessPercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Per');
        builder.Append('cent","ComponentName":"eCESS"}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ComponentNam');
        builder.Append('e":"SHE Cess ","Sequence":4,"Formula":{"VariableName":"","Expression":"(TDSAmount+SurchargeAmount)*S');
        builder.Append('HECessPercent/100","Tokens":[{"TokenName":"SHECessPercent","TokenValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Component Percent","ComponentName":"SHE Cess "}}},{"TokenName":"SurchargeAmount","Token');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenNam');
        builder.Append('e":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non');
        builder.Append(' PAN TDS"}}}]}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}},"RHS":{"Type":"C');
        builder.Append('onstant","Value":"Order"}},{"Operator":"or","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"');
        builder.Append('Current Record","TableName":"Purchase Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","');
        builder.Append('Value":"Invoice"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Tab');
        builder.Append('le","TableName":"Vendor","TableFieldName":"P.A.N. Status","Method":"First","TableFilters":[{"FiterFi');
        builder.Append('eldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}}]}},"RHS":{"Type":"Constant"');
        builder.Append(',"Value":" "}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table",');
        builder.Append('"TableName":"TDS Concessional Code","TableFieldName":"Concessional Code","Method":"First","TableFilt');
        builder.Append('ers":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"Fit');
        builder.Append('erFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Cons');
        builder.Append('tant","Value":""}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Tab');
        builder.Append('le","TableName":"Vendor","TableFieldName":"P.A.N. No.","Method":"First","TableFilters":[{"FiterField');
        builder.Append('Name":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}}]}},"RHS":{"Type":"Constant","V');
        builder.Append('alue":" "}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Allowed Sections","TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[{"');
        builder.Append('FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldNa');
        builder.Append('me":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant"');
        builder.Append(',"Value":"No"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Val');
        builder.Append('ue":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Purchase Line","FieldName":"Work Tax Nature Of Deduction"}},"RHS":{"Type":"Constant","Va');
        builder.Append('lue":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableNam');
        builder.Append('e":"Allowed Sections","TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[{"Fi');
        builder.Append('terFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName');
        builder.Append('":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","');
        builder.Append('Value":""}}]},"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","TableName":"TDS Posting Setup"');
        builder.Append(',"AccountSourceType":"Field","FieldName":"TDS Account","AccountingImpact":"Credit","ReverseCharge":f');
        builder.Append('alse,"ReverseAccountSourceType":"Field","ReverseChargeFieldName":"","When":[{"Condition":{"Body":[{"');
        builder.Append('Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Purchase Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}}]},"ValueTyp');
        builder.Append('e":"Insert Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger":true,"RecordVariable":"","Su');
        builder.Append('bLedgerGrpBy":"Component","InsertRecordFields":[{"FieldName":"Vendor No.","Sequence":4,"ReverseSign"');
        builder.Append(':false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line"');
        builder.Append(',"FieldName":"Buy-from Vendor No."}}},{"FieldName":"T.A.N. No.","Sequence":5,"ReverseSign":false,"Lo');
        builder.Append('okup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"TAN No."}}},{"FieldN');
        builder.Append('ame":"Section","Sequence":6,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FieldName":"Assessee C');
        builder.Append('ode","Sequence":7,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attribut');
        builder.Append('es","AttributeName":"Assessee Code"}}},{"FieldName":"TDS Base Amount","Sequence":8,"ReverseSign":fal');
        builder.Append('se,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}}');
        builder.Append(',{"FieldName":"TDS %","Sequence":9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Component Percent","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Amount","Sequence":10,"Re');
        builder.Append('verseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non P');
        builder.Append('AN TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"FieldName":"Surcharge Amou');
        builder.Append('nt","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","');
        builder.Append('ComponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSign":false,"Lookup":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"FieldName":"eCe');
        builder.Append('ss Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Compo');
        builder.Append('nent","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"ReverseSign":false,"Lookup');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Cess "}}},{"Field');
        builder.Append('Name":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional Code","Sequence":17,"Re');
        builder.Append('verseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"');
        builder.Append('Concessional Code"}}},{"FieldName":"Concessional Form No.","Sequence":37,"ReverseSign":false,"Lookup');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","TableFieldNam');
        builder.Append('e":"Certificate No.","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"E');
        builder.Append('quals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase ');
        builder.Append('Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","Filter');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNa');
        builder.Append('me":"TDS Section Code"}}}]}}},{"FieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":false,"Loo');
        builder.Append('kup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{"FieldNa');
        builder.Append('me":"Nature of Remittance","Sequence":19,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Purchase Line","FieldName":"Nature of Remittance"}}},{"Field');
        builder.Append('Name":"Invoice Amount","Sequence":25,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"FieldName":"Posting Dat');
        builder.Append('e","Sequence":3,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterField');
        builder.Append('Name":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Purchase Line","FieldName":"Document No."}}}]}}},{"FieldName":"Document Type","Sequence":26,"Rev');
        builder.Append('erseSign":false,"Lookup":{"Type":"Constant","Value":"Invoice"}},{"FieldName":"Document No.","Sequenc');
        builder.Append('e":2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVa');
        builder.Append('riableName":"Posted Document No."}}},{"FieldName":"Account Type","Sequence":23,"ReverseSign":false,"');
        builder.Append('Lookup":{"Type":"Constant","Value":"G/L Account"}},{"FieldName":"Account No.","Sequence":24,"Reverse');
        builder.Append('Sign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Posting Setup"');
        builder.Append(',"TableFieldName":"TDS Account","Method":"First","TableFilters":[{"FiterFieldName":"TDS Section","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":');
        builder.Append('"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName');
        builder.Append('":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldNam');
        builder.Append('e":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Purchase Line","FieldName":"Document No."}}}]}}}]}}},{"FieldName":"Source Code","Sequence":28,"Reve');
        builder.Append('rseSign":false,"Lookup":{"Type":"Constant","Value":"PURCHASES"}},{"FieldName":"TDS Amount Including ');
        builder.Append('Surcharge","Sequence":22,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Varia');
        builder.Append('ble","VariableName":"TDSIncludingSurcharge"}}},{"FieldName":"Bal. TDS Including SHE CESS","Sequence"');
        builder.Append(':29,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('TDSIncludingSHECess"}}},{"FieldName":"Remaining Surcharge Amount","Sequence":31,"ReverseSign":false,');
        builder.Append('"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldN');
        builder.Append('ame":"Remaining TDS Amount","Sequence":42,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Component","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Line Amount","Sequence":43');
        builder.Append(',"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Purchase Line","FieldName":"Amount"}}},{"FieldName":"Total TDS Including SHE CESS","Sequence":21,"Re');
        builder.Append('verseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Total');
        builder.Append(' TDS Amount"}}},{"FieldName":"Per Contract","Sequence":39,"ReverseSign":false,"Lookup":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"PerContract"}}},{"FieldName":"User ID","Sequen');
        builder.Append('ce":30,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Database","DatabaseVari');
        builder.Append('ableName":"UserId"}}},{"FieldName":"Transaction No.","Sequence":38,"ReverseSign":false,"Lookup":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry Transaction No.');
        builder.Append('"}}},{"FieldName":"Original TDS Base Amount","Sequence":27,"ReverseSign":false,"Lookup":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"Surcharge');
        builder.Append(' Base Amount","Sequence":41,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Co');
        builder.Append('mponent","ComponentName":"Non PAN TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"ReverseSign":fa');
        builder.Append('lse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entr');
        builder.Append('y No."}}}]}}]}],"AttachedEvents":[{"EventName":"CallTaxEngineOnPurchaseLine","Enabled":true,"Sequenc');
        builder.Append('e":0},{"EventName":"OnAfterUpdatePurchUnitPrice","Enabled":true,"Sequence":0}]},{"Description":"Calc');
        builder.Append('ulation of Tax Deduction at Source on Vendor Invoice where  PAN No. is specified without Concessiona');
        builder.Append('l Codes.\n","TaxType":"TDS","Code":"","TaxEntity":"Purchase Line","ParentUseCase":"Calculation of Ta');
        builder.Append('x Deduction at Source on Vendor Invoice (through Purchase Order/Purchase Invoice).\n","PresentationO');
        builder.Append('rder":46,"Indent":1,"PostingTableName":"TDS Posting Setup","PostingTableFilters":[{"FiterFieldName":');
        builder.Append('"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Da');
        builder.Append('te","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters"');
        builder.Append(':[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterField');
        builder.Append('Name":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}],"Attributes":[{"Name":"Assessee ');
        builder.Append('Code","When":[{"ValueType":"Relation","Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldN');
        builder.Append('ame":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}}]}}]},{"Name":"PAN No.","When":[');
        builder.Append('{"ValueType":"Relation","Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Purchase Line","FieldName":"Buy-from Vendor No."}}}]}}]}],"RateColumns":[{"Name":"Effective Date"');
        builder.Append(',"When":[{"ValueType":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFi');
        builder.Append('eldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pur');
        builder.Append('chase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":');
        builder.Append('"Document No."}}}]}}]}],"ComputationVariables":[{"Name":"TotalAmount","Datatype":"Number"},{"Name":"');
        builder.Append('TDSTaxableAmount","Datatype":"Number"},{"Name":"SurchargeBaseAmt","Datatype":"Number"},{"Name":"TDSA');
        builder.Append('mount","Datatype":"Number"},{"Name":"PrevInvAmountLCY","Datatype":"Number"},{"Name":"PrevInvAmount",');
        builder.Append('"Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"PaymentAmount","Datatype"');
        builder.Append(':"Number"},{"Name":"PreviousContractAmount","Datatype":"Number"},{"Name":"TotalInvAmountLCY","Dataty');
        builder.Append('pe":"Number"},{"Name":"TotalInvAmount","Datatype":"Number"},{"Name":"TotalInvAmtWOContractLCY","Data');
        builder.Append('type":"Number"},{"Name":"TotalInvAmtWOContract","Datatype":"Number"},{"Name":"PreSurchargeBaseAmt","');
        builder.Append('Datatype":"Number"},{"Name":"TotalSurchargeBaseAmt","Datatype":"Number"},{"Name":"PositiveAmount","D');
        builder.Append('atatype":"Number"},{"Name":"PositiveAmountLCY","Datatype":"Number"},{"Name":"TDSBaseAmt","Datatype":');
        builder.Append('"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"D');
        builder.Append('ate"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TotalCurrAmountLCY","Datatype":"N');
        builder.Append('umber"},{"Name":"PositiveTotalCurrAmountLCY","Datatype":"Number"},{"Name":"AppliedAmount","Datatype"');
        builder.Append(':"Number"},{"Name":"TotalTaxableInvAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmtWOContrac');
        builder.Append('t","Datatype":"Number"},{"Name":"BatchAmountLCY","Datatype":"Number"},{"Name":"BatchPaymentAmountLCY');
        builder.Append('","Datatype":"Number"},{"Name":"BatchInvoiceAmountLCY","Datatype":"Number"},{"Name":"PositiveAmtExcl');
        builder.Append('GST","Datatype":"Number"},{"Name":"TaxableAmountExclApplied","Datatype":"Number"},{"Name":"Transacti');
        builder.Append('onNo","Datatype":"Number"}],"ComputationScript":[{"ActivityType":"COMMENT","Activity":{"Comment":"Cr');
        builder.Append('eated string for current financial year"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariable');
        builder.Append('Name":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName');
        builder.Append('":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last","TableFilters":[{"FiterFi');
        builder.Append('eldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters"');
        builder.Append(':[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}');
        builder.Append(']}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posting Da');
        builder.Append('te","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","Filter');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNa');
        builder.Append('me":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}');
        builder.Append('},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value"');
        builder.Append(':"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":');
        builder.Append('"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","O');
        builder.Append('utputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","Tab');
        builder.Append('leFieldName":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type",');
        builder.Append('"TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setu');
        builder.Append('p","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fisc');
        builder.Append('al Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":');
        builder.Append('"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":');
        builder.Append('"Ending Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","');
        builder.Append('TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}}');
        builder.Append(',{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}]}}}},{"ActivityType"');
        builder.Append(':"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter","Expression":"{StartDate');
        builder.Append('}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}},{"TokenName":"StartDate","');
        builder.Append('FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"FiscalYearStartDate"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted Invoic');
        builder.Append('e amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","OutputVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoi');
        builder.Append('ce Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Field');
        builder.Append('Name":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Secti');
        builder.Append('on Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting');
        builder.Append(' Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment"');
        builder.Append(':"Total posted Payment amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Pay');
        builder.Append('mentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","T');
        builder.Append('ableFieldName":"Payment Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","');
        builder.Append('FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"Fit');
        builder.Append('erFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"COMMENT",');
        builder.Append('"Activity":{"Comment":"Sum of posted payment and invoice amount"}},{"ActivityType":"NUMERICEXPRESSIO');
        builder.Append('N","Activity":{"VariableName":"PrevInvAmountLCY","Expression":"PostedInvoiceAmount+PostedPaymentAmou');
        builder.Append('nt","Tokens":[{"TokenName":"PostedInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"InvoiceAmount"}}},{"TokenName":"PostedPaymentAmount","TokenValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}}]}},{"ActivityType":"');
        builder.Append('COMMENT","Activity":{"Comment":"Total posted contract amount"}},{"ActivityType":"SETVARIABLE","Activ');
        builder.Append('ity":{"OutputVariableName":"PreviousContractAmount","OutputValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters');
        builder.Append('":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFie');
        builder.Append('ldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Posting ');
        builder.Append('Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"AccountingDateFilter"}}},{"FiterFieldName":"Per Contract","FilterType":"Equals","Filter');
        builder.Append('Value":{"Type":"Constant","Value":"true"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Tot');
        builder.Append('al Posted amount without contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Variabl');
        builder.Append('eName":"TotalInvAmtWOContractLCY","Expression":"TotalPostedAmount-PostedContractAmount","Tokens":[{"');
        builder.Append('TokenName":"PostedContractAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"PreviousContractAmount"}}},{"TokenName":"TotalPostedAmount","TokenValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}]}},{"ActivityType":"NUMB');
        builder.Append('ERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmountLCY","Operator":"Plus","LHS":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}},{"Act');
        builder.Append('ivityType":"COMMENT","Activity":{"Comment":"Converted Amount from LCY to FCY"}},{"ActivityType":"IFS');
        builder.Append('TATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Look');
        builder.Append('up":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency Code","Method":"F');
        builder.Append('irst","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document T');
        builder.Append('ype"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}},"RHS":{"Type":');
        builder.Append('"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableNam');
        builder.Append('e":"TotalInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable');
        builder.Append('","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Purchase Header","TableFieldName":"Currency Factor","Method":"First","TableFilters":[{"FiterFi');
        builder.Append('eldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No."');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Purchase Line","FieldName":"Document No."}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activi');
        builder.Append('ty":{"OutputVariableName":"TotalInvAmtWOContract","Operator":"Multiply By","LHS":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}},"RHS":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency Factor","Meth');
        builder.Append('od":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Docu');
        builder.Append('ment Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}},{"Acti');
        builder.Append('vityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PrevInvAmount","Operator":"Multiply ');
        builder.Append('By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RH');
        builder.Append('S":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"C');
        builder.Append('urrency Factor","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Documen');
        builder.Append('t No."}}}]}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{');
        builder.Append('"OutputVariableName":"TotalInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"TotalInvAmountLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableN');
        builder.Append('ame":"TotalInvAmtWOContract","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNam');
        builder.Append('e":"PrevInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('PrevInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Get applied amount"}},{"A');
        builder.Append('ctivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals"');
        builder.Append(',"LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Applies-to Do');
        builder.Append('c. Type","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fi');
        builder.Append('eldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}');
        builder.Append('}}]}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType":"Not Equals","L');
        builder.Append('HS":{"Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Applies-to Doc. ');
        builder.Append('No.","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldN');
        builder.Append('ame":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}');
        builder.Append('},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputV');
        builder.Append('ariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableNam');
        builder.Append('e":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFi');
        builder.Append('eldName":"Document No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Table","TableName":"Purchase Header","TableFieldName":"Applies-to Doc. No.","Method":"First","Table');
        builder.Append('Filters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"Fi');
        builder.Append('terFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}},{"FiterFieldName":"TDS Se');
        builder.Append('ction Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}}}}]}},{"ActivityType":"IFSTATEM');
        builder.Append('ENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"AppliedAmount"}},"RHS":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}]},"Body":[{"ActivityType":');
        builder.Append('"NUMERICEXPRESSION","Activity":{"VariableName":"TaxableAmountExclApplied","Expression":"Amount-Appli');
        builder.Append('edAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmount","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}}]}},{"Acti');
        builder.Append('vityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Conditi');
        builder.Append('on":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TaxableAmoun');
        builder.Append('tExclApplied","OutputValue":{"Type":"Constant","Value":"0"}}}]}}},{"ActivityType":"COMMENT","Activit');
        builder.Append('y":{"Comment":"Total Taxable Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName');
        builder.Append('":"TotalTaxableInvAmount","Expression":"(PostedAmount+Amount)-AppliedAmount","Tokens":[{"TokenName":');
        builder.Append('"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase');
        builder.Append(' Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"PostedAmount","TokenValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityTyp');
        builder.Append('e":"COMMENT","Activity":{"Comment":"Total Taxable Amount excluding posted contract amount"}},{"Activ');
        builder.Append('ityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmtWOContract","Expression":');
        builder.Append('"((PostedAmount-ContractAmt)+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amoun');
        builder.Append('t"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"AppliedAmount"}}},{"TokenName":"ContractAmt","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"PostedAmount","Toke');
        builder.Append('nValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"Ac');
        builder.Append('tivityType":"COMMENT","Activity":{"Comment":"Condition to calculate TDS Amount considering Threshold');
        builder.Append(' limit"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionT');
        builder.Append('ype":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":');
        builder.Append('"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"');
        builder.Append('Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section ');
        builder.Append('Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"Type":"Constan');
        builder.Append('t","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT"');
        builder.Append(',"Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than Or Equals To","LHS":');
        builder.Append('{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFST');
        builder.Append('ATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Looku');
        builder.Append('p":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":"');
        builder.Append('"}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condit');
        builder.Append('ionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLC');
        builder.Append('Y"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}');
        builder.Append('}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","Outp');
        builder.Append('utValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmtWOCont');
        builder.Append('ract"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Cond');
        builder.Append('ition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"PositiveAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","');
        builder.Append('RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputV');
        builder.Append('ariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType');
        builder.Append('":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant"');
        builder.Append(',"Value":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS');
        builder.Append('":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant",');
        builder.Append('"Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ');
        builder.Append('","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalIn');
        builder.Append('vAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold');
        builder.Append(' Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmou');
        builder.Append('nt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxableInv');
        builder.Append('Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Ou');
        builder.Append('tputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}]}}}],"ElseI');
        builder.Append('f":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('olumn","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"TaxableAmountExclApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}},{"A');
        builder.Append('ctivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSAmount","Expression":"TDSTaxableAmt*');
        builder.Append('TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Co');
        builder.Append('mponent Percent","ComponentName":"TDS"}}},{"TokenName":"TDSTaxableAmt","TokenValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ActivityType":"SETVARIA');
        builder.Append('BLE","Activity":{"OutputVariableName":"PreSurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Surcharge Base Amount","Method":"Sum');
        builder.Append('","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No.');
        builder.Append('"}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterField');
        builder.Append('Name":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"T');
        builder.Append('ax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL');
        builder.Append(' Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Accounting');
        builder.Append('DateFilter"}}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalSurchargeBa');
        builder.Append('seAmt","Expression":"PreSurchargeBaseAmt+TDSAmount","Tokens":[{"TokenName":"PreSurchargeBaseAmt","To');
        builder.Append('kenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreSurchargeBaseAmt"}}}');
        builder.Append(',{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableN');
        builder.Append('ame":"TDSAmount"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ');
        builder.Append('","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","Tab');
        builder.Append('leFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line",');
        builder.Append('"FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":');
        builder.Append('"TDS Section Code"}}},{"FiterFieldName":"Surcharge Overlook","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":');
        builder.Append('"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":');
        builder.Append('{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType"');
        builder.Append(':"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","L');
        builder.Append('HS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"Activity');
        builder.Append('Type":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"TotalSurchargeBaseAmt"}}}}],"ElseIf":{"Conditio');
        builder.Append('n":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBase');
        builder.Append('Amt","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}}],"ElseIf":{"Condit');
        builder.Append('ion":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBa');
        builder.Append('seAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}');
        builder.Append('}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType');
        builder.Append('":"Not Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}},"RHS":{"');
        builder.Append('Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNam');
        builder.Append('e":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDS');
        builder.Append('TaxableAmount"}}}}]}}],"PostingVariables":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"Name');
        builder.Append('":"TDSIncludingSurcharge","Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":"Pa');
        builder.Append('ymentAmt","Datatype":"Number"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","Dat');
        builder.Append('atype":"Number"},{"Name":"PerContract","Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"Num');
        builder.Append('ber"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},');
        builder.Append('{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{');
        builder.Append('"Name":"TDSPer","Datatype":"Number"},{"Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPer",');
        builder.Append('"Datatype":"Number"},{"Name":"SHECessPer","Datatype":"Number"},{"Name":"AppliedAmount","Datatype":"N');
        builder.Append('umber"},{"Name":"LineAmount","Datatype":"Number"},{"Name":"Applied","Datatype":"Boolean"}],"PostingS');
        builder.Append('cript":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expres');
        builder.Append('sion":"{TDS}+{Surcharge}+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","Token');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenNam');
        builder.Append('e":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"S');
        builder.Append('urcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","');
        builder.Append('ComponentName":"TDS"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSInclud');
        builder.Append('ingSurcharge","Expression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}"');
        builder.Append(',"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"Acti');
        builder.Append('vityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Start');
        builder.Append('ing Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":');
        builder.Append('"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldNam');
        builder.Append('e":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterTyp');
        builder.Append('e":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterField');
        builder.Append('Name":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Purchase Line","FieldName":"Document No."}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Act');
        builder.Append('ivity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","Table');
        builder.Append('Filters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"Fi');
        builder.Append('rst","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","');
        builder.Append('TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Eq');
        builder.Append('uals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header"');
        builder.Append(',"TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fi');
        builder.Append('eldName":"Document No."}}}]}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableNa');
        builder.Append('me":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","Fo');
        builder.Append('rmatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"FiscalYearStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"ActivityType":"');
        builder.Append('SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"First","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{');
        builder.Append('"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":');
        builder.Append('"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Att');
        builder.Append('ributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filte');
        builder.Append('r","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFi');
        builder.Append('lter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","V');
        builder.Append('alue":"Invoice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmt","');
        builder.Append('OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName');
        builder.Append('":"Payment Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":');
        builder.Append('"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName');
        builder.Append('":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Va');
        builder.Append('riable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Tab');
        builder.Append('le","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","TableFilter');
        builder.Append('s":[{"FiterFieldName":"Document No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Applies-to Doc. No.","Method":"');
        builder.Append('First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document ');
        builder.Append('Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}]}}}},{"Activ');
        builder.Append('ityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+Payme');
        builder.Append('ntAmt","Tokens":[{"TokenName":"InvoiceAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"InvoiceAmt"}}},{"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Variable","VariableName":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","A');
        builder.Append('ctivity":{"VariableName":"TotalInvAmt","Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","F');
        builder.Append('ieldName":"Amount"}}},{"TokenName":"{InvAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TotalInvAmt"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{');
        builder.Append('"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"');
        builder.Append('Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purch');
        builder.Append('ase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"B');
        builder.Append('ody":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType"');
        builder.Append(':"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"Ac');
        builder.Append('tivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Great');
        builder.Append('er Than","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type');
        builder.Append('":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{');
        builder.Append('"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Thres');
        builder.Append('hold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator"');
        builder.Append(':" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"Tota');
        builder.Append('lAmtLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Val');
        builder.Append('ue"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PerContract","Outpu');
        builder.Append('tValue":{"Type":"Constant","Value":"true"}}}]}}]}}]}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity"');
        builder.Append(':{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"T');
        builder.Append('able","TableName":"Purchase Header","TableFieldName":"Applies-to Doc. No.","Method":"First","TableFi');
        builder.Append('lters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"Fite');
        builder.Append('rFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}},"RHS":{"Type":"Constant","Va');
        builder.Append('lue":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Applied","Output');
        builder.Append('Value":{"Type":"Constant","Value":"true"}}}]}}],"Components":[{"ComponentName":"SHE Cess ","Sequence');
        builder.Append('":4,"Formula":{"VariableName":"","Expression":"(TDSAmount+SurchargeAmount)*SHECessPercent/100","Toke');
        builder.Append('ns":[{"TokenName":"SHECessPercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component P');
        builder.Append('ercent","ComponentName":"SHE Cess "}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ComponentName"');
        builder.Append(':"TDS Base Amount","Sequence":6,"Formula":{"VariableName":"","Expression":"TDSBaseAmount","Tokens":[');
        builder.Append('{"TokenName":"TDSBaseAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"TDSBaseAmt"}}}]}},{"ComponentName":"TDS","Sequence":1,"Formula":{"VariableName":"","Express');
        builder.Append('ion":"TDSTaxableAmount*TDSPercent/100","Tokens":[{"TokenName":"TDSPercent","TokenValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"TokenName":"TDSTaxableAmo');
        builder.Append('unt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmoun');
        builder.Append('t"}}}]}},{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Expression":');
        builder.Append('"TDSAmount+SurchargeAmount+ECessAmount+SHECessAmount","Tokens":[{"TokenName":"ECessAmount","TokenVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"SHE');
        builder.Append('CessAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Ce');
        builder.Append('ss "}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Compone');
        builder.Append('nt","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ComponentName":"eCESS","Sequence":3,"Formula"');
        builder.Append(':{"VariableName":"","Expression":"(TDSAmount+SurchargeAmount)*EcessPercent/100","Tokens":[{"TokenNam');
        builder.Append('e":"EcessPercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","Componen');
        builder.Append('tName":"eCESS"}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ComponentName":"Surcharge","Sequenc');
        builder.Append('e":2,"Formula":{"VariableName":"","Expression":"SurchargeTaxableAmount*SurchargePercent/100","Tokens');
        builder.Append('":[{"TokenName":"SurchargePercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component P');
        builder.Append('ercent","ComponentName":"Surcharge"}}},{"TokenName":"SurchargeTaxableAmount","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"SurchargeBaseAmt"}}}]}}],"Condition":{"Body');
        builder.Append('":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Purchase Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Order"}},{"Operat');
        builder.Append('or":"or","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purcha');
        builder.Append('se Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}},{"Operator":"and');
        builder.Append('","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldNam');
        builder.Append('e":"P.A.N. Status","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fi');
        builder.Append('eldName":"Buy-from Vendor No."}}}]}},"RHS":{"Type":"Constant","Value":" "}},{"Operator":"and","Condi');
        builder.Append('tionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","TableF');
        builder.Append('ieldName":"Concessional Code","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line"');
        builder.Append(',"FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","Condi');
        builder.Append('tionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"');
        builder.Append('P.A.N. No.","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName');
        builder.Append('":"Buy-from Vendor No."}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType');
        builder.Append('":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"No');
        builder.Append('n Resident Payments","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase L');
        builder.Append('ine","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fiel');
        builder.Append('dName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":"No"}},{"Operator":"and","Condition');
        builder.Append('Type":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName');
        builder.Append('":"Work Tax Nature Of Deduction"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","Conditio');
        builder.Append('nType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fiel');
        builder.Append('dName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}}]},"TaxPostingSetup":[{"ComponentNa');
        builder.Append('me":"Total TDS Amount","TableName":"TDS Posting Setup","AccountSourceType":"Field","FieldName":"TDS ');
        builder.Append('Account","AccountingImpact":"Credit","ReverseCharge":false,"ReverseAccountSourceType":"Field","Rever');
        builder.Append('seChargeFieldName":"","When":[{"Condition":{"Body":[]},"ValueType":"Insert Record","InsertRecord":{"');
        builder.Append('TableName":"TDS Entry","RunTrigger":true,"RecordVariable":"","SubLedgerGrpBy":"Component","InsertRec');
        builder.Append('ordFields":[{"FieldName":"Vendor No.","Sequence":4,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}');
        builder.Append('},{"FieldName":"T.A.N. No.","Sequence":5,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Tax Attributes","AttributeName":"TAN No."}}},{"FieldName":"Section","Sequence":6,"Reverse');
        builder.Append('Sign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase ');
        builder.Append('Line","FieldName":"TDS Section Code"}}},{"FieldName":"Assessee Code","Sequence":7,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}');
        builder.Append('}},{"FieldName":"TDS Base Amount","Sequence":8,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"TDS %","Sequence":9,"');
        builder.Append('ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentNa');
        builder.Append('me":"TDS"}}},{"FieldName":"TDS Amount","Sequence":10,"ReverseSign":false,"Lookup":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Component","ComponentName":"TDS"}}},{"FieldName":"Surcharge %","Sequence":11,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentN');
        builder.Append('ame":"Surcharge"}}},{"FieldName":"Surcharge Amount","Sequence":12,"ReverseSign":false,"Lookup":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"eCess %"');
        builder.Append(',"Sequence":13,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Perce');
        builder.Append('nt","ComponentName":"eCESS"}}},{"FieldName":"eCess Amount","Sequence":14,"ReverseSign":false,"Lookup');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"FieldName":"SHE C');
        builder.Append('ess %","Sequence":15,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component');
        builder.Append(' Percent","ComponentName":"SHE Cess "}}},{"FieldName":"SHE Cess Amount","Sequence":16,"ReverseSign":');
        builder.Append('false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"');
        builder.Append('FieldName":"Concessional Code","Sequence":17,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Tax Attributes","AttributeName":"Concessional Code"}}},{"FieldName":"Concessional For');
        builder.Append('m No.","Sequence":37,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","T');
        builder.Append('ableName":"TDS Concessional Code","TableFieldName":"Certificate No.","Method":"First","TableFilters"');
        builder.Append(':[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFi');
        builder.Append('eldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}}},{"FieldName":"Deductee');
        builder.Append(' PAN No.","Sequence":18,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax At');
        builder.Append('tributes","AttributeName":"PAN No."}}},{"FieldName":"Nature of Remittance","Sequence":19,"ReverseSig');
        builder.Append('n":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Lin');
        builder.Append('e","FieldName":"Nature of Remittance"}}},{"FieldName":"Act Applicable","Sequence":20,"ReverseSign":f');
        builder.Append('alse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","');
        builder.Append('FieldName":"Act Applicable"}}},{"FieldName":"Invoice Amount","Sequence":25,"ReverseSign":false,"Look');
        builder.Append('up":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName"');
        builder.Append(':"Amount"}}},{"FieldName":"Posting Date","Sequence":3,"ReverseSign":false,"Lookup":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Method');
        builder.Append('":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Docume');
        builder.Append('nt Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}},{"FieldNa');
        builder.Append('me":"Document Type","Sequence":26,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"Invoice"}');
        builder.Append('},{"FieldName":"Document No.","Sequence":2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Posting Field","PostingVariableName":"Posted Document No."}}},{"FieldName":"Account Typ');
        builder.Append('e","Sequence":23,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"G/L Account"}},{"FieldName');
        builder.Append('":"Account No.","Sequence":24,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Table","TableName":"TDS Posting Setup","TableFieldName":"TDS Account","Method":"First","TableFilters');
        builder.Append('":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFie');
        builder.Append('ldName":"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"');
        builder.Append('First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document ');
        builder.Append('Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}]}}},{"FieldN');
        builder.Append('ame":"Source Code","Sequence":28,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"PURCHASES"');
        builder.Append('}},{"FieldName":"TDS Amount Including Surcharge","Sequence":22,"ReverseSign":false,"Lookup":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSurcharge"}}},{"FieldName":"B');
        builder.Append('al. TDS Including SHE CESS","Sequence":29,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Applied","Sequence":44,"');
        builder.Append('ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Appli');
        builder.Append('ed"}}},{"FieldName":"Remaining Surcharge Amount","Sequence":31,"ReverseSign":false,"Lookup":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"Remaining T');
        builder.Append('DS Amount","Sequence":42,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Compo');
        builder.Append('nent","ComponentName":"TDS"}}},{"FieldName":"Total TDS Including SHE CESS","Sequence":21,"ReverseSig');
        builder.Append('n":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Total TDS Amo');
        builder.Append('unt"}}},{"FieldName":"Per Contract","Sequence":39,"ReverseSign":false,"Lookup":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"PerContract"}}},{"FieldName":"User ID","Sequence":30,"');
        builder.Append('ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Database","DatabaseVariableName');
        builder.Append('":"UserId"}}},{"FieldName":"Transaction No.","Sequence":38,"ReverseSign":false,"Lookup":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry Transaction No."}}},{"F');
        builder.Append('ieldName":"Original TDS Base Amount","Sequence":27,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"Surcharge Base Am');
        builder.Append('ount","Sequence":41,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component"');
        builder.Append(',"ComponentName":"TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry No."}}}]}}]}],');
        builder.Append('"AttachedEvents":[{"EventName":"CallTaxEngineOnPurchaseLine","Enabled":true,"Sequence":0},{"EventNam');
        builder.Append('e":"OnAfterUpdatePurchUnitPrice","Enabled":true,"Sequence":0}]},{"Description":"Calculation of Tax D');
        builder.Append('eduction at Source on Vendor Invoice where PAN No. is specified along with Concessional Codes.\n","T');
        builder.Append('axType":"TDS","Code":"","TaxEntity":"Purchase Line","ParentUseCase":"Calculation of Tax Deduction at');
        builder.Append(' Source on Vendor Invoice (through Purchase Order/Purchase Invoice).\n","PresentationOrder":47,"Inde');
        builder.Append('nt":1,"PostingTableName":"TDS Posting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterTyp');
        builder.Append('e":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterField');
        builder.Append('Name":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Purchase Line","FieldName":"Document No."}}}]}}}],"Attributes":[{"Name":"Concessional Code","Whe');
        builder.Append('n":[{"ValueType":"Relation","Relation":{"TableName":"TDS Concessional Code","TableFilters":[{"FiterF');
        builder.Append('ieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"');
        builder.Append('Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record');
        builder.Append('","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}}]},{"Name":"Assessee Code","When":');
        builder.Append('[{"ValueType":"Relation","Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Purchase Line","FieldName":"Buy-from Vendor No."}}}]}}]},{"Name":"PAN No.","When":[{"ValueType":');
        builder.Append('"Relation","Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase L');
        builder.Append('ine","FieldName":"Buy-from Vendor No."}}}]}}]}],"RateColumns":[{"Name":"Effective Date","When":[{"Va');
        builder.Append('lueType":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Pos');
        builder.Append('ting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","');
        builder.Append('FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No.');
        builder.Append('"}}}]}}]}],"ComputationVariables":[{"Name":"TotalAmount","Datatype":"Number"},{"Name":"TDSTaxableAmo');
        builder.Append('unt","Datatype":"Number"},{"Name":"SurchargeBaseAmt","Datatype":"Number"},{"Name":"TDSAmount","Datat');
        builder.Append('ype":"Number"},{"Name":"PrevInvAmountLCY","Datatype":"Number"},{"Name":"PrevInvAmount","Datatype":"N');
        builder.Append('umber"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"PaymentAmount","Datatype":"Number"},{"');
        builder.Append('Name":"PreviousContractAmount","Datatype":"Number"},{"Name":"TotalInvAmountLCY","Datatype":"Number"}');
        builder.Append(',{"Name":"TotalInvAmount","Datatype":"Number"},{"Name":"TotalInvAmtWOContractLCY","Datatype":"Number');
        builder.Append('"},{"Name":"TotalInvAmtWOContract","Datatype":"Number"},{"Name":"PreSurchargeBaseAmt","Datatype":"Nu');
        builder.Append('mber"},{"Name":"TotalSurchargeBaseAmt","Datatype":"Number"},{"Name":"PositiveAmount","Datatype":"Num');
        builder.Append('ber"},{"Name":"PositiveAmountLCY","Datatype":"Number"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"N');
        builder.Append('ame":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name"');
        builder.Append(':"AccountingDateFilter","Datatype":"String"},{"Name":"TotalCurrAmountLCY","Datatype":"Number"},{"Nam');
        builder.Append('e":"PositiveTotalCurrAmountLCY","Datatype":"Number"},{"Name":"AppliedAmount","Datatype":"Number"},{"');
        builder.Append('Name":"TotalTaxableInvAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmtWOContract","Datatype"');
        builder.Append(':"Number"},{"Name":"BatchAmountLCY","Datatype":"Number"},{"Name":"BatchPaymentAmountLCY","Datatype":');
        builder.Append('"Number"},{"Name":"BatchInvoiceAmountLCY","Datatype":"Number"},{"Name":"PositiveAmtExclGST","Datatyp');
        builder.Append('e":"Number"},{"Name":"TaxableAmountExclApplied","Datatype":"Number"}],"ComputationScript":[{"Activit');
        builder.Append('yType":"COMMENT","Activity":{"Comment":"Created string for current financial year"}},{"ActivityType"');
        builder.Append(':"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date"');
        builder.Append(',"Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounti');
        builder.Append('ng Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax T');
        builder.Append('ype","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Le');
        builder.Append('ss Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Pur');
        builder.Append('chase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Do');
        builder.Append('cument Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purch');
        builder.Append('ase Line","FieldName":"Document No."}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"');
        builder.Append('OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table');
        builder.Append('","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":');
        builder.Append('[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilt');
        builder.Append('ers":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Cons');
        builder.Append('tant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Cons');
        builder.Append('tant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFi');
        builder.Append('eldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pur');
        builder.Append('chase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":');
        builder.Append('"Document No."}}}]}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"Acco');
        builder.Append('untingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatStrin');
        builder.Append('g":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Fiscal');
        builder.Append('YearEndDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}}]}},{"ActivityType":"COMMENT",');
        builder.Append('"Activity":{"Comment":"Total posted Invoice amount"}},{"ActivityType":"SETVARIABLE","Activity":{"Out');
        builder.Append('putVariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tabl');
        builder.Append('eName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName');
        builder.Append('":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"As');
        builder.Append('sessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"');
        builder.Append('Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"Act');
        builder.Append('ivityType":"COMMENT","Activity":{"Comment":"Total posted Payment amount"}},{"ActivityType":"SETVARIA');
        builder.Append('BLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Method":"Sum","TableFilte');
        builder.Append('rs":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterF');
        builder.Append('ieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assess');
        builder.Append('ee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes');
        builder.Append('","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}');
        builder.Append('},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"');
        builder.Append('Payment"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Sum of posted payment and invoice a');
        builder.Append('mount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PrevInvAmountLCY","Expressi');
        builder.Append('on":"PostedInvoiceAmount+PostedPaymentAmount","Tokens":[{"TokenName":"PostedInvoiceAmount","TokenVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmount"}}},{"TokenName');
        builder.Append('":"PostedPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"PaymentAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted contract amou');
        builder.Append('nt"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreviousContractAmount","Outpu');
        builder.Append('tValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"In');
        builder.Append('voice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fi');
        builder.Append('eldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Se');
        builder.Append('ction Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"P');
        builder.Append('er Contract","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}}}},{"Activity');
        builder.Append('Type":"COMMENT","Activity":{"Comment":"Total Posted amount without contract amount"}},{"ActivityType');
        builder.Append('":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmtWOContractLCY","Expression":"TotalPoste');
        builder.Append('dAmount-PostedContractAmount","Tokens":[{"TokenName":"PostedContractAmount","TokenValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"Tot');
        builder.Append('alPostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Tota');
        builder.Append('lInvAmountLCY"}}}]}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvA');
        builder.Append('mountLCY","Operator":"Plus","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":');
        builder.Append('"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pur');
        builder.Append('chase Line","FieldName":"Amount"}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Amou');
        builder.Append('nt from LCY to FCY"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" "');
        builder.Append(',"ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase Header","T');
        builder.Append('ableFieldName":"Currency Code","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fiel');
        builder.Append('dName":"Document No."}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERC');
        builder.Append('ALCULATION","Activity":{"OutputVariableName":"TotalInvAmount","Operator":"Multiply By","LHS":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency Factor",');
        builder.Append('"Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":');
        builder.Append('"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}},{');
        builder.Append('"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmtWOContract","Operato');
        builder.Append('r":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAm');
        builder.Append('tWOContractLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header');
        builder.Append('","TableFieldName":"Currency Factor","Method":"First","TableFilters":[{"FiterFieldName":"Document Ty');
        builder.Append('pe","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line"');
        builder.Append(',"FieldName":"Document No."}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableN');
        builder.Append('ame":"PrevInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Purchase Header","TableFieldName":"Currency Factor","Method":"First","TableFilters":[{"FiterFi');
        builder.Append('eldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No."');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Purchase Line","FieldName":"Document No."}}}]}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmount","OutputValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}},{"ActivityType":');
        builder.Append('"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmtWOContract","OutputValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"S');
        builder.Append('ETVARIABLE","Activity":{"OutputVariableName":"PrevInvAmount","OutputValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activ');
        builder.Append('ity":{"Comment":"Get applied amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body"');
        builder.Append(':[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purcha');
        builder.Append('se Header","TableFieldName":"Applies-to Doc. Type","Method":"First","TableFilters":[{"FiterFieldName');
        builder.Append('":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Purchase Line","FieldName":"Document No."}}}]}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Opera');
        builder.Append('tor":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase ');
        builder.Append('Header","TableFieldName":"Applies-to Doc. No.","Method":"First","TableFilters":[{"FiterFieldName":"D');
        builder.Append('ocument Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purc');
        builder.Append('hase Line","FieldName":"Document No."}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Activi');
        builder.Append('tyType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply');
        builder.Append('","Method":"Sum","TableFilters":[{"FiterFieldName":"Document No.","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Ap');
        builder.Append('plies-to Doc. No.","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase');
        builder.Append(' Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Docu');
        builder.Append('ment No."}}}]}}}]}}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":');
        builder.Append('" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"AppliedA');
        builder.Append('mount"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line",');
        builder.Append('"FieldName":"Amount"}}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"Ta');
        builder.Append('xableAmountExclApplied","Expression":"Amount-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName');
        builder.Append('":"Amount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"AppliedAmount"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityTyp');
        builder.Append('e":"SETVARIABLE","Activity":{"OutputVariableName":"TaxableAmountExclApplied","OutputValue":{"Type":"');
        builder.Append('Constant","Value":"0"}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount"}');
        builder.Append('},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmount","Expression');
        builder.Append('":"(PostedAmount+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"Toke');
        builder.Append('nName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"AppliedAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"T');
        builder.Append('otal Taxable Amount excluding posted contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activit');
        builder.Append('y":{"VariableName":"TotalTaxableInvAmtWOContract","Expression":"((PostedAmount-ContractAmt)+Amount)-');
        builder.Append('AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmount","T');
        builder.Append('okenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"To');
        builder.Append('kenName":"ContractAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"PreviousContractAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Co');
        builder.Append('mment":"Condition to calculate TDS Amount considering Threshold limit"}},{"ActivityType":"IFSTATEMEN');
        builder.Append('T","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"Sourc');
        builder.Append('eType":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{');
        builder.Append('"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldNam');
        builder.Append('e":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Threshold');
        builder.Append(' Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":');
        builder.Append('"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"O');
        builder.Append('perator":" ","ConditionType":"Is Less Than Or Equals To","LHS":{"Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumn');
        builder.Append('Name":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bo');
        builder.Append('dy":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumn');
        builder.Append('Name":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTAT');
        builder.Append('EMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARI');
        builder.Append('ABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Variable","VariableName":"TotalTaxableInvAmtWOContract"}}}}],"ElseIf":{"Condition":{"Bo');
        builder.Append('dy":[]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Cond');
        builder.Append('itionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount');
        builder.Append('LCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}');
        builder.Append('}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","Outp');
        builder.Append('utValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied');
        builder.Append('"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVa');
        builder.Append('riableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Co');
        builder.Append('ndition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Column","R');
        builder.Append('ateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType');
        builder.Append('":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","');
        builder.Append('LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType"');
        builder.Append(':"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmount"}}}}],"ElseIf":{"Condition":{"');
        builder.Append('Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount",');
        builder.Append('"OutputValue":{"Type":"Constant","Value":"0"}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":');
        builder.Append('" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevI');
        builder.Append('nvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshol');
        builder.Append('d Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmo');
        builder.Append('unt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountE');
        builder.Append('xclApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","Act');
        builder.Append('ivity":{"VariableName":"TDSAmount","Expression":"TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenName":"T');
        builder.Append('DSPer","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS');
        builder.Append('"}}},{"TokenName":"TDSTaxableAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"TDSTaxableAmount"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName"');
        builder.Append(':"PreSurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TD');
        builder.Append('S Entry","TableFieldName":"Surcharge Base Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"');
        builder.Append('Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","Fil');
        builder.Append('terType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"E');
        builder.Append('quals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Asses');
        builder.Append('see Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}}]}}}},{"ActivityType":"');
        builder.Append('NUMERICEXPRESSION","Activity":{"VariableName":"TotalSurchargeBaseAmt","Expression":"PreSurchargeBase');
        builder.Append('Amt+TDSAmount","Tokens":[{"TokenName":"PreSurchargeBaseAmt","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"PreSurchargeBaseAmt"}}},{"TokenName":"TDSAmount","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}]}},{"ActivityType');
        builder.Append('":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lo');
        builder.Append('okup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"');
        builder.Append('FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldNam');
        builder.Append('e":"Surcharge Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"');
        builder.Append('RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition"');
        builder.Append(':{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumn');
        builder.Append('Name":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition');
        builder.Append('":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable');
        builder.Append('","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateC');
        builder.Append('olumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Outp');
        builder.Append('utVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"TotalSurchargeBaseAmt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType');
        builder.Append('":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Constant"');
        builder.Append(',"Value":"0"}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TDSAmount"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityTy');
        builder.Append('pe":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT",');
        builder.Append('"Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"TDSTaxableAmount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{');
        builder.Append('"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}}],');
        builder.Append('"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableN');
        builder.Append('ame":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"T');
        builder.Append('DSTaxableAmount"}}}}]}}}],"PostingVariables":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"N');
        builder.Append('ame":"TDSIncludingSurcharge","Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":');
        builder.Append('"PaymentAmt","Datatype":"Number"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","');
        builder.Append('Datatype":"Number"},{"Name":"PerContract","Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"');
        builder.Append('Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date');
        builder.Append('"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"');
        builder.Append('},{"Name":"TDSPer","Datatype":"Number"},{"Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPe');
        builder.Append('r","Datatype":"Number"},{"Name":"SHECessPer","Datatype":"Number"}],"PostingScript":[{"ActivityType":');
        builder.Append('"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expression":"{TDS}+{Surcharge}');
        builder.Append('+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Surcharge}","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName');
        builder.Append('":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]');
        builder.Append('}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSurcharge","Expressio');
        builder.Append('n":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ActivityType":"SETVARIABLE",');
        builder.Append('"Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last');
        builder.Append('","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Met');
        builder.Append('hod":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"');
        builder.Append('First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equa');
        builder.Append('ls To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","');
        builder.Append('TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fiel');
        builder.Append('dName":"Document No."}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableN');
        builder.Append('ame":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"');
        builder.Append('Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldNa');
        builder.Append('me":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tab');
        builder.Append('le","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"F');
        builder.Append('iterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"T');
        builder.Append('able","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},');
        builder.Append('{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"');
        builder.Append('false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"');
        builder.Append('false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posti');
        builder.Append('ng Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fi');
        builder.Append('eldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}');
        builder.Append('}}]}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilte');
        builder.Append('r","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVa');
        builder.Append('riableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}');
        builder.Append('}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"ActivityType":"SETVARIABLE","Activity":');
        builder.Append('{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Ta');
        builder.Append('bleName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"First","TableFilters":[{"FiterField');
        builder.Append('Name":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Sectio');
        builder.Append('n","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName"');
        builder.Append(':"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldNam');
        builder.Append('e":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{');
        builder.Append('"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmt","OutputValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Meth');
        builder.Append('od":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to ');
        builder.Append('Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"');
        builder.Append('FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","Filter');
        builder.Append('Type":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName');
        builder.Append('":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens":[{"TokenName":"InvoiceAmt","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmt"}}},{"TokenName":"Pa');
        builder.Append('ymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmt');
        builder.Append('"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression":"{');
        builder.Append('Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"{InvAmt}","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}}}]}},{"Activit');
        builder.Append('yType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS"');
        builder.Append(':{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist"');
        builder.Append(',"TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}');
        builder.Append('}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFie');
        builder.Append('ldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}');
        builder.Append(']}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condi');
        builder.Append('tion":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumn');
        builder.Append('Name":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bo');
        builder.Append('dy":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Column","RateC');
        builder.Append('olumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"I');
        builder.Append('FSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT');
        builder.Append('","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"PerContract","OutputValue":{"Type":"Constant","Value":"true"}}}]}}]}}]}}]');
        builder.Append('}}]}}],"Components":[{"ComponentName":"eCESS","Sequence":3,"Formula":{"VariableName":"","Expression"');
        builder.Append(':"(TDSAmount+SurchargeAmount)*EcessPercent/100","Tokens":[{"TokenName":"EcessPercent","TokenValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"TokenName":"');
        builder.Append('SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"S');
        builder.Append('urcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Componen');
        builder.Append('t","ComponentName":"TDS"}}}]}},{"ComponentName":"TDS","Sequence":1,"Formula":{"VariableName":"","Exp');
        builder.Append('ression":"TDSTaxableAmount*TDSPercent/100","Tokens":[{"TokenName":"TDSPercent","TokenValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"TokenName":"TDSTaxabl');
        builder.Append('eAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableA');
        builder.Append('mount"}}}]}},{"ComponentName":"TDS Base Amount","Sequence":6,"Formula":{"VariableName":"","Expressio');
        builder.Append('n":"TDSBaseAmount","Tokens":[{"TokenName":"TDSBaseAmount","TokenValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"TDSBaseAmt"}}}]}},{"ComponentName":"SHE Cess ","Sequence":4,"F');
        builder.Append('ormula":{"VariableName":"","Expression":"(TDSAmount+SurchargeAmount)*SHECessPercent/100","Tokens":[{');
        builder.Append('"TokenName":"SHECessPercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent');
        builder.Append('","ComponentName":"SHE Cess "}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ComponentName":"Surc');
        builder.Append('harge","Sequence":2,"Formula":{"VariableName":"","Expression":"SurchargeTaxableAmount*SurchargePerce');
        builder.Append('nt/100","Tokens":[{"TokenName":"SurchargePercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Component Percent","ComponentName":"Surcharge"}}},{"TokenName":"SurchargeTaxableAmount","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"SurchargeBaseAmt"}}}]}},{"Co');
        builder.Append('mponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Expression":"TDSAmount+Su');
        builder.Append('rchargeAmount+ECessAmount+SHECessAmount","Tokens":[{"TokenName":"ECessAmount","TokenValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"SHECessAmount","');
        builder.Append('TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"Tok');
        builder.Append('enName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Componen');
        builder.Append('tName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Component","ComponentName":"TDS"}}}]}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equal');
        builder.Append('s","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document ');
        builder.Append('Type"}},"RHS":{"Type":"Constant","Value":"Order"}},{"Operator":"or","ConditionType":"Equals","LHS":{');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}},"R');
        builder.Append('HS":{"Type":"Constant","Value":"Invoice"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup');
        builder.Append('":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"P.A.N. Status","Method":"First","Tabl');
        builder.Append('eFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}}]}},"RHS');
        builder.Append('":{"Type":"Constant","Value":" "}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"');
        builder.Append('SourceType":"Table","TableName":"TDS Concessional Code","TableFieldName":"Concessional Code","Method');
        builder.Append('":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from ');
        builder.Append('Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}}');
        builder.Append(',"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup');
        builder.Append('":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"P.A.N. No.","Method":"First","TableFi');
        builder.Append('lters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}}]}},"RHS":{');
        builder.Append('"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}},"RHS":{"Type":');
        builder.Append('"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Purchase Line","FieldName":"Work Tax Nature Of Deduction"}},"RHS":{"Type"');
        builder.Append(':"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"T');
        builder.Append('able","TableName":"Allowed Sections","TableFieldName":"Non Resident Payments","Method":"First","Tabl');
        builder.Append('eFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{');
        builder.Append('"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Typ');
        builder.Append('e":"Constant","Value":"No"}}]},"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","TableName":"T');
        builder.Append('DS Posting Setup","AccountSourceType":"Field","FieldName":"TDS Account","AccountingImpact":"Credit",');
        builder.Append('"ReverseCharge":false,"ReverseAccountSourceType":"Field","ReverseChargeFieldName":"","When":[{"Condi');
        builder.Append('tion":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Purchase Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value"');
        builder.Append(':""}}]},"ValueType":"Insert Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger":true,"Recor');
        builder.Append('dVariable":"","SubLedgerGrpBy":"Component","InsertRecordFields":[{"FieldName":"Vendor No.","Sequence');
        builder.Append('":4,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FieldName":"T.A.N. No.","Sequence":5,"Rever');
        builder.Append('seSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"TAN');
        builder.Append(' No."}}},{"FieldName":"Section","Sequence":6,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"Field');
        builder.Append('Name":"Assessee Code","Sequence":7,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FieldName":"TDS Base Amount","Sequence":8,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TD');
        builder.Append('S Base Amount"}}},{"FieldName":"TDS %","Sequence":9,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"FieldName":"TDS Amount","Sequenc');
        builder.Append('e":10,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentNam');
        builder.Append('e":"TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":false,"Lookup":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"FieldName":"Surcharge Amo');
        builder.Append('unt","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component",');
        builder.Append('"ComponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"FieldName":"eC');
        builder.Append('ess Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Comp');
        builder.Append('onent","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"ReverseSign":false,"Looku');
        builder.Append('p":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Cess "}}},{"Fiel');
        builder.Append('dName":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional Code","Sequence":17,"R');
        builder.Append('everseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":');
        builder.Append('"Concessional Code"}}},{"FieldName":"Concessional Form No.","Sequence":37,"ReverseSign":false,"Looku');
        builder.Append('p":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","TableFieldNa');
        builder.Append('me":"Certificate No.","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase');
        builder.Append(' Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldN');
        builder.Append('ame":"TDS Section Code"}}}]}}},{"FieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":false,"Lo');
        builder.Append('okup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{"FieldN');
        builder.Append('ame":"Nature of Remittance","Sequence":19,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Purchase Line","FieldName":"Nature of Remittance"}}},{"Fiel');
        builder.Append('dName":"Act Applicable","Sequence":20,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Purchase Line","FieldName":"Act Applicable"}}},{"FieldName":"In');
        builder.Append('voice Amount","Sequence":25,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"FieldName":"Posting Date","Seque');
        builder.Append('nce":3,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Pur');
        builder.Append('chase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Do');
        builder.Append('cument Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purch');
        builder.Append('ase Line","FieldName":"Document No."}}}]}}},{"FieldName":"Document Type","Sequence":26,"ReverseSign"');
        builder.Append(':false,"Lookup":{"Type":"Constant","Value":"Invoice"}},{"FieldName":"Document No.","Sequence":2,"Rev');
        builder.Append('erseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableNam');
        builder.Append('e":"Posted Document No."}}},{"FieldName":"Account Type","Sequence":23,"ReverseSign":false,"Lookup":{');
        builder.Append('"Type":"Constant","Value":"G/L Account"}},{"FieldName":"Account No.","Sequence":24,"ReverseSign":fal');
        builder.Append('se,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Posting Setup","TableFi');
        builder.Append('eldName":"TDS Account","Method":"First","TableFilters":[{"FiterFieldName":"TDS Section","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purcha');
        builder.Append('se Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less ');
        builder.Append('Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purcha');
        builder.Append('se Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Docum');
        builder.Append('ent Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase');
        builder.Append(' Line","FieldName":"Document No."}}}]}}}]}}},{"FieldName":"Source Code","Sequence":28,"ReverseSign":');
        builder.Append('false,"Lookup":{"Type":"Constant","Value":"PURCHASES"}},{"FieldName":"TDS Amount Including Surcharge');
        builder.Append('","Sequence":22,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Var');
        builder.Append('iableName":"TDSIncludingSurcharge"}}},{"FieldName":"Bal. TDS Including SHE CESS","Sequence":29,"Reve');
        builder.Append('rseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSInclud');
        builder.Append('ingSHECess"}}},{"FieldName":"Remaining Surcharge Amount","Sequence":31,"ReverseSign":false,"Lookup":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"Rem');
        builder.Append('aining TDS Amount","Sequence":42,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Component","ComponentName":"TDS"}}},{"FieldName":"TDS Line Amount","Sequence":43,"ReverseSign":fa');
        builder.Append('lse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","F');
        builder.Append('ieldName":"Amount"}}},{"FieldName":"Total TDS Including SHE CESS","Sequence":21,"ReverseSign":false,');
        builder.Append('"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Total TDS Amount"}}},{');
        builder.Append('"FieldName":"Per Contract","Sequence":39,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Variable","VariableName":"PerContract"}}},{"FieldName":"User ID","Sequence":30,"ReverseSi');
        builder.Append('gn":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Database","DatabaseVariableName":"UserId');
        builder.Append('"}}},{"FieldName":"Transaction No.","Sequence":38,"ReverseSign":false,"Lookup":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry Transaction No."}}},{"FieldName"');
        builder.Append(':"Original TDS Base Amount","Sequence":27,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"Surcharge Base Amount","Se');
        builder.Append('quence":41,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Compone');
        builder.Append('ntName":"TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"ReverseSign":false,"Lookup":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry No."}}}]}}]}],"Attached');
        builder.Append('Events":[{"EventName":"CallTaxEngineOnPurchaseLine","Enabled":true,"Sequence":0},{"EventName":"OnAft');
        builder.Append('erUpdatePurchUnitPrice","Enabled":true,"Sequence":0}]},{"Description":"Calculation of Tax Deduction ');
        builder.Append('at Source on Non-Resident Vendor Invoice (through Purchase Order/Purchase Invoice).\n","TaxType":"TD');
        builder.Append('S","Code":"","TaxEntity":"Purchase Line","ParentUseCase":"","PresentationOrder":204,"Indent":0,"Post');
        builder.Append('ingTableName":"TDS Posting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purch');
        builder.Append('ase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less');
        builder.Append(' Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purch');
        builder.Append('ase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Docu');
        builder.Append('ment Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchas');
        builder.Append('e Line","FieldName":"Document No."}}}]}}}],"Attributes":[{"Name":"Act Applicable","When":[{"ValueTyp');
        builder.Append('e":"Relation","Relation":{"TableName":"Purchase Line","TableFilters":[{"FiterFieldName":"Document Ty');
        builder.Append('pe","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"Document No.","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purch');
        builder.Append('ase Line","FieldName":"Document No."}}},{"FiterFieldName":"Line No.","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName');
        builder.Append('":"Line No."}}}]}}]},{"Name":"Country Code","When":[{"ValueType":"Relation","Relation":{"TableName":');
        builder.Append('"Vendor","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor N');
        builder.Append('o."}}}]}}]},{"Name":"Assessee Code","When":[{"ValueType":"Relation","Relation":{"TableName":"Vendor"');
        builder.Append(',"TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}}]}');
        builder.Append('}]},{"Name":"Nature of Remittance","When":[{"ValueType":"Relation","Relation":{"TableName":"Purchase');
        builder.Append(' Line","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document ');
        builder.Append('Type"}}},{"FiterFieldName":"Document No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}},{"Fiter');
        builder.Append('FieldName":"Line No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Purchase Line","FieldName":"Line No."}}}]}}]},{"Name":"Section Code","Wh');
        builder.Append('en":[{"ValueType":"Relation","Relation":{"TableName":"Purchase Line","TableFilters":[{"FiterFieldNam');
        builder.Append('e":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"Document N');
        builder.Append('o.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Purchase Line","FieldName":"Document No."}}},{"FiterFieldName":"Line No.","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase L');
        builder.Append('ine","FieldName":"Line No."}}}]}}]},{"Name":"TAN No.","When":[{"Condition":{"Body":[{"Operator":" ",');
        builder.Append('"ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"Location Code"}},"RHS":{"Type":"Constant","Value":""}}]},"ValueType":"Relation","Re');
        builder.Append('lation":{"TableName":"Location","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Field');
        builder.Append('Name":"Location Code"}}}]}},{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Location Code"}},"RHS');
        builder.Append('":{"Type":"Constant","Value":""}}]},"ValueType":"Relation","Relation":{"TableName":"Company Informat');
        builder.Append('ion","TableFilters":[]}}]},{"Name":"Non Resident Payment","When":[{"ValueType":"Relation","Relation"');
        builder.Append(':{"TableName":"Allowed Sections","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line",');
        builder.Append('"FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName');
        builder.Append('":"TDS Section Code"}}}]}}]}],"RateColumns":[],"ComputationVariables":[],"ComputationScript":[],"Pos');
        builder.Append('tingVariables":[],"PostingScript":[],"Components":[],"Condition":{"Body":[]},"TaxPostingSetup":[{"Co');
        builder.Append('mponentName":"Total TDS Amount","TableName":"TDS Posting Setup","AccountSourceType":"Field","FieldNa');
        builder.Append('me":"TDS Account","AccountingImpact":"Debit","ReverseCharge":false,"ReverseAccountSourceType":"Field');
        builder.Append('","ReverseChargeFieldName":"","When":[]}],"AttachedEvents":[]},{"Description":"Calculation of Tax De');
        builder.Append('duction at Source on Non-Resident Vendor Invoice where both PAN No. and Concessional Codes are not s');
        builder.Append('pecified.\n","TaxType":"TDS","Code":"","TaxEntity":"Purchase Line","ParentUseCase":"Calculation of T');
        builder.Append('ax Deduction at Source on Non-Resident Vendor Invoice (through Purchase Order/Purchase Invoice).\n",');
        builder.Append('"PresentationOrder":205,"Indent":1,"PostingTableName":"TDS Posting Setup","PostingTableFilters":[{"F');
        builder.Append('iterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName');
        builder.Append('":"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First"');
        builder.Append(',"TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}');
        builder.Append('}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}],"Attributes":[],"');
        builder.Append('RateColumns":[{"Name":"Effective Date","When":[{"ValueType":"Lookup","Lookup":{"SourceType":"Table",');
        builder.Append('"TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"Fit');
        builder.Append('erFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"');
        builder.Append('No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Purchase Line","FieldName":"Document No."}}}]}}]}],"ComputationVariables":[{"Name":"Total');
        builder.Append('Amount","Datatype":"Number"},{"Name":"TDSTaxableAmount","Datatype":"Number"},{"Name":"SurchargeBaseA');
        builder.Append('mt","Datatype":"Number"},{"Name":"TDSAmount","Datatype":"Number"},{"Name":"PrevInvAmountLCY","Dataty');
        builder.Append('pe":"Number"},{"Name":"PrevInvAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Numbe');
        builder.Append('r"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"PreviousContractAmount","Datatype":"Number');
        builder.Append('"},{"Name":"TotalInvAmountLCY","Datatype":"Number"},{"Name":"TotalInvAmount","Datatype":"Number"},{"');
        builder.Append('Name":"TotalInvAmtWOContractLCY","Datatype":"Number"},{"Name":"TotalInvAmtWOContract","Datatype":"Nu');
        builder.Append('mber"},{"Name":"PreSurchargeBaseAmt","Datatype":"Number"},{"Name":"TotalSurchargeBaseAmt","Datatype"');
        builder.Append(':"Number"},{"Name":"PositiveAmount","Datatype":"Number"},{"Name":"PositiveAmountLCY","Datatype":"Num');
        builder.Append('ber"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"N');
        builder.Append('ame":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Na');
        builder.Append('me":"TotalCurrAmountLCY","Datatype":"Number"},{"Name":"PositiveTotalCurrAmountLCY","Datatype":"Numbe');
        builder.Append('r"},{"Name":"AppliedAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmount","Datatype":"Number"');
        builder.Append('},{"Name":"TotalTaxableInvAmtWOContract","Datatype":"Number"},{"Name":"BatchAmountLCY","Datatype":"N');
        builder.Append('umber"},{"Name":"BatchPaymentAmountLCY","Datatype":"Number"},{"Name":"BatchInvoiceAmountLCY","Dataty');
        builder.Append('pe":"Number"},{"Name":"PositiveAmtExclGST","Datatype":"Number"},{"Name":"TaxableAmountExclApplied","');
        builder.Append('Datatype":"Number"}],"ComputationScript":[{"ActivityType":"COMMENT","Activity":{"Comment":"Created s');
        builder.Append('tring for current financial year"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"');
        builder.Append('FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax ');
        builder.Append('Accounting Period","TableFieldName":"Starting Date","Method":"Last","TableFilters":[{"FiterFieldName');
        builder.Append('":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table');
        builder.Append('","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"Fit');
        builder.Append('erFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tab');
        builder.Append('le","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"');
        builder.Append('FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Me');
        builder.Append('thod":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Do');
        builder.Append('cument Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}},{"Fit');
        builder.Append('erFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"');
        builder.Append('}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"');
        builder.Append('}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","OutputVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableField');
        builder.Append('Name":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableF');
        builder.Append('ieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","Tab');
        builder.Append('leFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending');
        builder.Append(' Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFi');
        builder.Append('lters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"Fite');
        builder.Append('rFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}]}}}},{"ActivityType":"STRIN');
        builder.Append('GEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter","Expression":"{StartDate}..{End');
        builder.Append('Date}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}},{"TokenName":"StartDate","FormatS');
        builder.Append('tring":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Fi');
        builder.Append('scalYearStartDate"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted Invoice amoun');
        builder.Append('t"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","OutputValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amou');
        builder.Append('nt","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"');
        builder.Append('Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code');
        builder.Append('"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date",');
        builder.Append('"FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total');
        builder.Append(' posted Payment amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmo');
        builder.Append('unt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFie');
        builder.Append('ldName":"Payment Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchas');
        builder.Append('e Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","Filter');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNa');
        builder.Append('me":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterField');
        builder.Append('Name":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"COMMENT","Activi');
        builder.Append('ty":{"Comment":"Sum of posted payment and invoice amount"}},{"ActivityType":"NUMERICEXPRESSION","Act');
        builder.Append('ivity":{"VariableName":"PrevInvAmountLCY","Expression":"PostedInvoiceAmount+PostedPaymentAmount","To');
        builder.Append('kens":[{"TokenName":"PostedInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"InvoiceAmount"}}},{"TokenName":"PostedPaymentAmount","TokenValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}}]}},{"ActivityType":"COMMENT');
        builder.Append('","Activity":{"Comment":"Total posted contract amount"}},{"ActivityType":"SETVARIABLE","Activity":{"');
        builder.Append('OutputVariableName":"PreviousContractAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"Fi');
        builder.Append('terFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName"');
        builder.Append(':"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Posting Date","');
        builder.Append('FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableN');
        builder.Append('ame":"AccountingDateFilter"}}},{"FiterFieldName":"Per Contract","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Constant","Value":"true"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Post');
        builder.Append('ed amount without contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":');
        builder.Append('"TotalInvAmtWOContractLCY","Expression":"TotalPostedAmount-PostedContractAmount","Tokens":[{"TokenNa');
        builder.Append('me":"PostedContractAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"PreviousContractAmount"}}},{"TokenName":"TotalPostedAmount","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}]}},{"ActivityType":"NUMBERCALCU');
        builder.Append('LATION","Activity":{"OutputVariableName":"TotalInvAmountLCY","Operator":"Plus","LHS":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}},{"ActivityTy');
        builder.Append('pe":"COMMENT","Activity":{"Comment":"Converted Amount from LCY to FCY"}},{"ActivityType":"IFSTATEMEN');
        builder.Append('T","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"S');
        builder.Append('ourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency Code","Method":"First","');
        builder.Append('TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}}');
        builder.Append(',{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}},"RHS":{"Type":"Consta');
        builder.Append('nt","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"Tot');
        builder.Append('alInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"P');
        builder.Append('urchase Header","TableFieldName":"Currency Factor","Method":"First","TableFilters":[{"FiterFieldName');
        builder.Append('":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Purchase Line","FieldName":"Document No."}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"O');
        builder.Append('utputVariableName":"TotalInvAmtWOContract","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}},"RHS":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency Factor","Method":"Fi');
        builder.Append('rst","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Ty');
        builder.Append('pe"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}},{"ActivityTyp');
        builder.Append('e":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PrevInvAmount","Operator":"Multiply By","LH');
        builder.Append('S":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency');
        builder.Append(' Factor","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fi');
        builder.Append('eldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}');
        builder.Append('}}]}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Output');
        builder.Append('VariableName":"TotalInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Var');
        builder.Append('iableName":"TotalInvAmountLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"T');
        builder.Append('otalInvAmtWOContract","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Pre');
        builder.Append('vInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInv');
        builder.Append('AmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Get applied amount"}},{"Activity');
        builder.Append('Type":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":');
        builder.Append('{"Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Applies-to Doc. Type');
        builder.Append('","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName');
        builder.Append('":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}},"');
        builder.Append('RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"L');
        builder.Append('ookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Applies-to Doc. No.","M');
        builder.Append('ethod":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"D');
        builder.Append('ocument Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}},"RHS"');
        builder.Append(':{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariable');
        builder.Append('Name":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Ven');
        builder.Append('dor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName');
        builder.Append('":"Document No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table"');
        builder.Append(',"TableName":"Purchase Header","TableFieldName":"Applies-to Doc. No.","Method":"First","TableFilters');
        builder.Append('":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFiel');
        builder.Append('dName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}]}}}}]}},{"ActivityType":"IFSTATE');
        builder.Append('MENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup');
        builder.Append('":{"SourceType":"Variable","VariableName":"AppliedAmount"}},"RHS":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}]},"Body":[{"ActivityType"');
        builder.Append(':"NUMERICEXPRESSION","Activity":{"VariableName":"TaxableAmountExclApplied","Expression":"Amount-Appl');
        builder.Append('iedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmount","Token');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}}]}}],"Els');
        builder.Append('eIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName"');
        builder.Append(':"TaxableAmountExclApplied","OutputValue":{"Type":"Constant","Value":"0"}}}]}}},{"ActivityType":"COM');
        builder.Append('MENT","Activity":{"Comment":"Total Taxable Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":');
        builder.Append('{"VariableName":"TotalTaxableInvAmount","Expression":"(PostedAmount+Amount)-AppliedAmount","Tokens":');
        builder.Append('[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"PostedAmount",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}}');
        builder.Append(',{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount excluding posted contract amo');
        builder.Append('unt"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmtWOContract"');
        builder.Append(',"Expression":"((PostedAmount-ContractAmt)+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","T');
        builder.Append('okenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fie');
        builder.Append('ldName":"Amount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"ContractAmt","TokenValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"Poste');
        builder.Append('dAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmou');
        builder.Append('nt"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Condition to calculate TDS Amount conside');
        builder.Append('ring Threshold limit"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":"');
        builder.Append(' ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","Ta');
        builder.Append('bleFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line"');
        builder.Append(',"FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName"');
        builder.Append(':"TDS Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType"');
        builder.Append(':"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than Or Equ');
        builder.Append('als To","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"Activ');
        builder.Append('ityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals"');
        builder.Append(',"LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Const');
        builder.Append('ant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operato');
        builder.Append('r":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"To');
        builder.Append('talInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Thre');
        builder.Append('shold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxabl');
        builder.Append('eAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxab');
        builder.Append('leInvAmtWOContract"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"IFSTATEMENT","Ac');
        builder.Append('tivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"So');
        builder.Append('urceType":"Variable","VariableName":"PositiveAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activ');
        builder.Append('ity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Ty');
        builder.Append('pe":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType"');
        builder.Append(':"Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Typ');
        builder.Append('e":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[');
        builder.Append('{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":');
        builder.Append('"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"');
        builder.Append('TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"T');
        builder.Append('otalTaxableInvAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","');
        builder.Append('Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":"0"}}}]}');
        builder.Append('}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIAB');
        builder.Append('LE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body');
        builder.Append('":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","Out');
        builder.Append('putValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplie');
        builder.Append('d"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSAmount","Expression":"');
        builder.Append('TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Component Percent","ComponentName":"Non PAN TDS"}}},{"TokenName":"TDSTaxableAmt","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"A');
        builder.Append('ctivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreSurchargeBaseAmt","OutputValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Surcharge Base');
        builder.Append(' Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","Filter');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNa');
        builder.Append('me":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section');
        builder.Append(' Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting D');
        builder.Append('ate","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Var');
        builder.Append('iableName":"AccountingDateFilter"}}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableN');
        builder.Append('ame":"TotalSurchargeBaseAmt","Expression":"PreSurchargeBaseAmt+TDSAmount","Tokens":[{"TokenName":"Pr');
        builder.Append('eSurchargeBaseAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"P');
        builder.Append('reSurchargeBaseAmt"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"TDSAmount"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{');
        builder.Append('"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"');
        builder.Append('Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purch');
        builder.Append('ase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Surcharge Overlook","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"B');
        builder.Append('ody":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType"');
        builder.Append(':"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"');
        builder.Append('Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType');
        builder.Append('":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"R');
        builder.Append('HS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}');
        builder.Append('}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","Outpu');
        builder.Append('tValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalSurchargeBaseAmt"}}}');
        builder.Append('}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariab');
        builder.Append('leName":"SurchargeBaseAmt","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}],"ElseIf":{"Condition');
        builder.Append('":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseA');
        builder.Append('mt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]');
        builder.Append('}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVari');
        builder.Append('ableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"TDSAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operat');
        builder.Append('or":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TDSTaxable');
        builder.Append('Amount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{');
        builder.Append('"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Purchase Line","FieldName":"Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":');
        builder.Append('[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}}]}}}],"PostingVariabl');
        builder.Append('es":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"Name":"TDSIncludingSurcharge","Datatype":"');
        builder.Append('Number"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":"PaymentAmt","Datatype":"Number"},{"Name"');
        builder.Append(':"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","Datatype":"Number"},{"Name":"PerContract"');
        builder.Append(',"Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Datatyp');
        builder.Append('e":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype"');
        builder.Append(':"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TDSPer","Datatype":"Number"},{');
        builder.Append('"Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPer","Datatype":"Number"},{"Name":"SHECessP');
        builder.Append('er","Datatype":"Number"},{"Name":"VendorNo","Datatype":"String"}],"PostingScript":[{"ActivityType":"');
        builder.Append('NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expression":"{TDS}+{Surcharge}+');
        builder.Append('{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Surcharge}","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName"');
        builder.Append(':"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN T');
        builder.Append('DS"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSurcharge","Ex');
        builder.Append('pression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ActivityType"');
        builder.Append(':"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date"');
        builder.Append(',"Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounti');
        builder.Append('ng Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax T');
        builder.Append('ype","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Le');
        builder.Append('ss Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Pur');
        builder.Append('chase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Do');
        builder.Append('cument Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purch');
        builder.Append('ase Line","FieldName":"Document No."}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"');
        builder.Append('OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table');
        builder.Append('","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":');
        builder.Append('[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilt');
        builder.Append('ers":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Cons');
        builder.Append('tant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Cons');
        builder.Append('tant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFi');
        builder.Append('eldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pur');
        builder.Append('chase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":');
        builder.Append('"Document No."}}}]}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"Acco');
        builder.Append('untingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatStrin');
        builder.Append('g":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Fiscal');
        builder.Append('YearStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"ActivityType":"SETVARIAB');
        builder.Append('LE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"First","TableFilters');
        builder.Append('":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFie');
        builder.Append('ldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee');
        builder.Append(' Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes",');
        builder.Append('"AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},');
        builder.Append('{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"In');
        builder.Append('voice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmt","OutputVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Paymen');
        builder.Append('t Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fiel');
        builder.Append('dName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Sect');
        builder.Append('ion Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Postin');
        builder.Append('g Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity"');
        builder.Append(':{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens":[{"TokenName":"InvoiceA');
        builder.Append('mt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmt"}}},{');
        builder.Append('"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt",');
        builder.Append('"Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"{In');
        builder.Append('vAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}');
        builder.Append('}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType"');
        builder.Append(':"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","');
        builder.Append('Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-');
        builder.Append('to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code');
        builder.Append('"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","');
        builder.Append('Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Ac');
        builder.Append('tivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Colu');
        builder.Append('mn","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"');
        builder.Append('Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":');
        builder.Append('"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"A');
        builder.Append('ctivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less');
        builder.Append(' Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityTyp');
        builder.Append('e":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than",');
        builder.Append('"LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVA');
        builder.Append('RIABLE","Activity":{"OutputVariableName":"PerContract","OutputValue":{"Type":"Constant","Value":"tru');
        builder.Append('e"}}}]}}]}}]}}]}}]}}],"Components":[{"ComponentName":"TDS Base Amount","Sequence":6,"Formula":{"Vari');
        builder.Append('ableName":"","Expression":"TDSBaseAmount","Tokens":[{"TokenName":"TDSBaseAmount","TokenValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSBaseAmt"}}}]}},{"ComponentName":"eCE');
        builder.Append('SS","Sequence":3,"Formula":{"VariableName":"","Expression":"(TDSAmount+SurchargeAmount)*EcessPercent');
        builder.Append('/100","Tokens":[{"TokenName":"EcessPercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Co');
        builder.Append('mponent Percent","ComponentName":"eCESS"}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","Tok');
        builder.Append('enValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"C');
        builder.Append('omponentName":"SHE Cess ","Sequence":4,"Formula":{"VariableName":"","Expression":"(TDSAmount+Surchar');
        builder.Append('geAmount)*SHECessPercent/100","Tokens":[{"TokenName":"SHECessPercent","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Cess "}}},{"TokenName":"SurchargeAmo');
        builder.Append('unt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}}');
        builder.Append(',{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Componen');
        builder.Append('tName":"Non PAN TDS"}}}]}},{"ComponentName":"Surcharge","Sequence":2,"Formula":{"VariableName":"","E');
        builder.Append('xpression":"SurchargeTaxableAmount*SurchargePercent/100","Tokens":[{"TokenName":"SurchargePercent","');
        builder.Append('TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}');
        builder.Append('}},{"TokenName":"SurchargeTaxableAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Varia');
        builder.Append('ble","VariableName":"SurchargeBaseAmt"}}}]}},{"ComponentName":"Non PAN TDS","Sequence":1,"Formula":{');
        builder.Append('"VariableName":"","Expression":"TDSTaxableAmount*TDSPercent/100","Tokens":[{"TokenName":"TDSPercent"');
        builder.Append(',"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Non PAN T');
        builder.Append('DS"}}},{"TokenName":"TDSTaxableAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"TDSTaxableAmount"}}}]}},{"ComponentName":"Total TDS Amount","Sequence":5,"Formula');
        builder.Append('":{"VariableName":"","Expression":"TDSAmount+SurchargeAmount+ECessAmount+SHECessAmount","Tokens":[{"');
        builder.Append('TokenName":"ECessAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Component');
        builder.Append('Name":"eCESS"}}},{"TokenName":"SHECessAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Component","ComponentName":"SHE Cess "}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","Token');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}}],"Con');
        builder.Append('dition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Purchase Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Ord');
        builder.Append('er"}},{"Operator":"or","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Purchase Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}},{"');
        builder.Append('Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vend');
        builder.Append('or","TableFieldName":"P.A.N. Status","Method":"First","TableFilters":[{"FiterFieldName":"No.","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Purchase Line","FieldName":"Buy-from Vendor No."}}}]}},"RHS":{"Type":"Constant","Value":" "}},{"Oper');
        builder.Append('ator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor",');
        builder.Append('"TableFieldName":"P.A.N. No.","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchas');
        builder.Append('e Line","FieldName":"Buy-from Vendor No."}}}]}},"RHS":{"Type":"Constant","Value":" "}},{"Operator":"');
        builder.Append('and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"TDS Concessional Co');
        builder.Append('de","TableFieldName":"Concessional Code","Method":"First","TableFilters":[{"FiterFieldName":"Vendor ');
        builder.Append('No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"Section","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pur');
        builder.Append('chase Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"');
        builder.Append('and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","');
        builder.Append('TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[{"FiterFieldName":"Vendor N');
        builder.Append('o","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"TDS Section","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"P');
        builder.Append('urchase Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":"Yes"}},{"Operat');
        builder.Append('or":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"P');
        builder.Append('urchase Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"an');
        builder.Append('d","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purchase Lin');
        builder.Append('e","FieldName":"Work Tax Nature Of Deduction"}},"RHS":{"Type":"Constant","Value":""}}]},"TaxPostingS');
        builder.Append('etup":[{"ComponentName":"Total TDS Amount","TableName":"TDS Posting Setup","AccountSourceType":"Fiel');
        builder.Append('d","FieldName":"TDS Account","AccountingImpact":"Credit","ReverseCharge":false,"ReverseAccountSource');
        builder.Append('Type":"Field","ReverseChargeFieldName":"","When":[{"Condition":{"Body":[{"Operator":" ","ConditionTy');
        builder.Append('pe":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNa');
        builder.Append('me":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}}]},"ValueType":"Insert Record","Insert');
        builder.Append('Record":{"TableName":"TDS Entry","RunTrigger":true,"RecordVariable":"","SubLedgerGrpBy":"Component",');
        builder.Append('"InsertRecordFields":[{"FieldName":"Vendor No.","Sequence":4,"ReverseSign":false,"Lookup":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Ven');
        builder.Append('dor No."}}},{"FieldName":"T.A.N. No.","Sequence":5,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Tax Attributes","AttributeName":"TAN No."}}},{"FieldName":"Section","Sequence":');
        builder.Append('6,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Purchase Line","FieldName":"TDS Section Code"}}},{"FieldName":"Assessee Code","Sequence":7,"Reverse');
        builder.Append('Sign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Asses');
        builder.Append('see Code"}}},{"FieldName":"TDS Base Amount","Sequence":8,"ReverseSign":false,"Lookup":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"TDS %","Seq');
        builder.Append('uence":9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","C');
        builder.Append('omponentName":"TDS"}}},{"FieldName":"TDS Amount","Sequence":10,"ReverseSign":false,"Lookup":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"FieldName":"Surcharge');
        builder.Append(' %","Sequence":11,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Pe');
        builder.Append('rcent","ComponentName":"Surcharge"}}},{"FieldName":"Surcharge Amount","Sequence":12,"ReverseSign":fa');
        builder.Append('lse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"Fi');
        builder.Append('eldName":"eCess %","Sequence":13,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Component Percent","ComponentName":"eCESS"}}},{"FieldName":"eCess Amount","Sequence":14,"ReverseS');
        builder.Append('ign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{');
        builder.Append('"FieldName":"SHE Cess %","Sequence":15,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Component Percent","ComponentName":"SHE Cess "}}},{"FieldName":"SHE Cess Amount","Sequence"');
        builder.Append(':16,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName"');
        builder.Append(':"SHE Cess "}}},{"FieldName":"Concessional Code","Sequence":17,"ReverseSign":false,"Lookup":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Concessional Code"}}},{"FieldName"');
        builder.Append(':"Deductee PAN No.","Sequence":18,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Tax Attributes","AttributeName":"PAN No."}}},{"FieldName":"Non Resident Payments","Sequence":40,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Allowed Se');
        builder.Append('ctions","TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[{"FiterFieldName":');
        builder.Append('"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"TDS Section');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Purchase Line","FieldName":"TDS Section Code"}}}]}}},{"FieldName":"Nature of Remittance","Se');
        builder.Append('quence":19,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Purchase Line","FieldName":"Nature of Remittance"}}},{"FieldName":"Act Applicable","Sequen');
        builder.Append('ce":20,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Purchase Line","FieldName":"Act Applicable"}}},{"FieldName":"Invoice Amount","Sequence":25,"Re');
        builder.Append('verseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purc');
        builder.Append('hase Line","FieldName":"Amount"}}},{"FieldName":"Posting Date","Sequence":3,"ReverseSign":false,"Loo');
        builder.Append('kup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":');
        builder.Append('"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equa');
        builder.Append('ls","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Lin');
        builder.Append('e","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document');
        builder.Append(' No."}}}]}}},{"FieldName":"Document Type","Sequence":26,"ReverseSign":false,"Lookup":{"Type":"Consta');
        builder.Append('nt","Value":"Invoice"}},{"FieldName":"Document No.","Sequence":2,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"Posted Document No."}}},{"F');
        builder.Append('ieldName":"Account Type","Sequence":23,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"G/L ');
        builder.Append('Account"}},{"FieldName":"Account No.","Sequence":24,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Table","TableName":"TDS Posting Setup","TableFieldName":"TDS Account","Method"');
        builder.Append(':"First","TableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Secti');
        builder.Append('on Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Po');
        builder.Append('sting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line",');
        builder.Append('"FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No');
        builder.Append('."}}}]}}}]}}},{"FieldName":"Country Code","Sequence":37,"ReverseSign":false,"Lookup":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Country Code"}}},{"FieldName":"Source Cod');
        builder.Append('e","Sequence":28,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"PURCHASES"}},{"FieldName":');
        builder.Append('"TDS Amount Including Surcharge","Sequence":22,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Variable","VariableName":"TDSIncludingSurcharge"}}},{"FieldName":"Bal. TDS Includin');
        builder.Append('g SHE CESS","Sequence":29,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Remaining Surcharge Amount","Sequence":3');
        builder.Append('1,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"');
        builder.Append('Surcharge"}}},{"FieldName":"Remaining TDS Amount","Sequence":44,"ReverseSign":false,"Lookup":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Line');
        builder.Append(' Amount","Sequence":45,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"FieldName":"Total TDS Including SHE C');
        builder.Append('ESS","Sequence":21,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component",');
        builder.Append('"ComponentName":"Total TDS Amount"}}},{"FieldName":"Per Contract","Sequence":42,"ReverseSign":false,');
        builder.Append('"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PerContract"}}},{"FieldN');
        builder.Append('ame":"User ID","Sequence":30,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"D');
        builder.Append('atabase","DatabaseVariableName":"UserId"}}},{"FieldName":"Transaction No.","Sequence":41,"ReverseSig');
        builder.Append('n":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L');
        builder.Append(' Entry Transaction No."}}},{"FieldName":"Original TDS Base Amount","Sequence":27,"ReverseSign":false');
        builder.Append(',"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{');
        builder.Append('"FieldName":"Currency Code","Sequence":38,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Purchase Line","FieldName":"Currency Code"}}},{"FieldName":');
        builder.Append('"Currency Factor","Sequence":39,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Table","TableName":"Purchase Header","TableFieldName":"Currency Factor","Method":"First","TableFil');
        builder.Append('ters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"Fiter');
        builder.Append('FieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}},{"FieldName":"Surcharge Base');
        builder.Append(' Amount","Sequence":46,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Compone');
        builder.Append('nt","ComponentName":"Non PAN TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"ReverseSign":false,"');
        builder.Append('Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry No.');
        builder.Append('"}}}]}}]}],"AttachedEvents":[{"EventName":"CallTaxEngineOnPurchaseLine","Enabled":true,"Sequence":0}');
        builder.Append(',{"EventName":"OnAfterUpdatePurchUnitPrice","Enabled":true,"Sequence":0}]},{"Description":"Calculati');
        builder.Append('on of Tax Deduction at Source on Non-Resident Vendor Invoice where no PAN No. is specified along wit');
        builder.Append('h Concessional Codes.\n","TaxType":"TDS","Code":"","TaxEntity":"Purchase Line","ParentUseCase":"Calc');
        builder.Append('ulation of Tax Deduction at Source on Non-Resident Vendor Invoice (through Purchase Order/Purchase I');
        builder.Append('nvoice).\n","PresentationOrder":206,"Indent":1,"PostingTableName":"TDS Posting Setup","PostingTableF');
        builder.Append('ilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"Fi');
        builder.Append('terFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Met');
        builder.Append('hod":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Doc');
        builder.Append('ument Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}],"Attr');
        builder.Append('ibutes":[{"Name":"Concessional Code","When":[{"ValueType":"Relation","Relation":{"TableName":"TDS Co');
        builder.Append('ncessional Code","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Bu');
        builder.Append('y-from Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code');
        builder.Append('"}}}]}}]}],"RateColumns":[{"Name":"Effective Date","When":[{"ValueType":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFil');
        builder.Append('ters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"Fiter');
        builder.Append('FieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}]}],"ComputationVariables":[{"');
        builder.Append('Name":"TotalAmount","Datatype":"Number"},{"Name":"TDSTaxableAmount","Datatype":"Number"},{"Name":"Su');
        builder.Append('rchargeBaseAmt","Datatype":"Number"},{"Name":"TDSAmount","Datatype":"Number"},{"Name":"PrevInvAmount');
        builder.Append('LCY","Datatype":"Number"},{"Name":"PrevInvAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Data');
        builder.Append('type":"Number"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"PreviousContractAmount","Datat');
        builder.Append('ype":"Number"},{"Name":"TotalInvAmountLCY","Datatype":"Number"},{"Name":"TotalInvAmount","Datatype":');
        builder.Append('"Number"},{"Name":"TotalInvAmtWOContractLCY","Datatype":"Number"},{"Name":"TotalInvAmtWOContract","D');
        builder.Append('atatype":"Number"},{"Name":"PreSurchargeBaseAmt","Datatype":"Number"},{"Name":"TotalSurchargeBaseAmt');
        builder.Append('","Datatype":"Number"},{"Name":"PositiveAmount","Datatype":"Number"},{"Name":"PositiveAmountLCY","Da');
        builder.Append('tatype":"Number"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype"');
        builder.Append(':"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"S');
        builder.Append('tring"},{"Name":"TotalCurrAmountLCY","Datatype":"Number"},{"Name":"PositiveTotalCurrAmountLCY","Data');
        builder.Append('type":"Number"},{"Name":"AppliedAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmount","Dataty');
        builder.Append('pe":"Number"},{"Name":"TotalTaxableInvAmtWOContract","Datatype":"Number"},{"Name":"BatchAmountLCY","');
        builder.Append('Datatype":"Number"},{"Name":"BatchPaymentAmountLCY","Datatype":"Number"},{"Name":"BatchInvoiceAmount');
        builder.Append('LCY","Datatype":"Number"},{"Name":"PositiveAmtExclGST","Datatype":"Number"},{"Name":"TaxableAmountEx');
        builder.Append('clApplied","Datatype":"Number"}],"ComputationScript":[{"ActivityType":"COMMENT","Activity":{"Comment');
        builder.Append('":"Created string for current financial year"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVar');
        builder.Append('iableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tabl');
        builder.Append('eName":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last","TableFilters":[{"Fi');
        builder.Append('terFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFil');
        builder.Append('ters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":');
        builder.Append('[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equals To","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posti');
        builder.Append('ng Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fi');
        builder.Append('eldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}');
        builder.Append('}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","V');
        builder.Append('alue":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Va');
        builder.Append('lue":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDat');
        builder.Append('e","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period"');
        builder.Append(',"TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax T');
        builder.Append('ype","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS');
        builder.Append(' Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New');
        builder.Append(' Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldN');
        builder.Append('ame":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldN');
        builder.Append('ame":"Ending Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"Fir');
        builder.Append('st","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Typ');
        builder.Append('e"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}]}}}},{"Activity');
        builder.Append('Type":"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter","Expression":"{Star');
        builder.Append('tDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVariableName":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}},{"TokenName":"StartDa');
        builder.Append('te","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"FiscalYearStartDate"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted I');
        builder.Append('nvoice amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","Out');
        builder.Append('putValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"');
        builder.Append('Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","');
        builder.Append('FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS ');
        builder.Append('Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Po');
        builder.Append('sting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Com');
        builder.Append('ment":"Total posted Payment amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName"');
        builder.Append(':"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entr');
        builder.Append('y","TableFieldName":"Payment Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},');
        builder.Append('{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"COMM');
        builder.Append('ENT","Activity":{"Comment":"Sum of posted payment and invoice amount"}},{"ActivityType":"NUMERICEXPR');
        builder.Append('ESSION","Activity":{"VariableName":"PrevInvAmountLCY","Expression":"PostedInvoiceAmount+PostedPaymen');
        builder.Append('tAmount","Tokens":[{"TokenName":"PostedInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"InvoiceAmount"}}},{"TokenName":"PostedPaymentAmount","TokenValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}}]}},{"ActivityTy');
        builder.Append('pe":"COMMENT","Activity":{"Comment":"Total posted contract amount"}},{"ActivityType":"SETVARIABLE","');
        builder.Append('Activity":{"OutputVariableName":"PreviousContractAmount","OutputValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFi');
        builder.Append('lters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"Fit');
        builder.Append('erFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Pos');
        builder.Append('ting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable');
        builder.Append('","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Per Contract","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Constant","Value":"true"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment"');
        builder.Append(':"Total Posted amount without contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Va');
        builder.Append('riableName":"TotalInvAmtWOContractLCY","Expression":"TotalPostedAmount-PostedContractAmount","Tokens');
        builder.Append('":[{"TokenName":"PostedContractAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"PreviousContractAmount"}}},{"TokenName":"TotalPostedAmount","TokenValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}]}},{"ActivityType":');
        builder.Append('"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmountLCY","Operator":"Plus","LHS":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}},');
        builder.Append('{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Amount from LCY to FCY"}},{"ActivityType"');
        builder.Append(':"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency Code","Metho');
        builder.Append('d":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Docum');
        builder.Append('ent Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}},"RHS":{"T');
        builder.Append('ype":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariab');
        builder.Append('leName":"TotalInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table","T');
        builder.Append('ableName":"Purchase Header","TableFieldName":"Currency Factor","Method":"First","TableFilters":[{"Fi');
        builder.Append('terFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":');
        builder.Append('"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Purchase Line","FieldName":"Document No."}}}]}}}},{"ActivityType":"NUMBERCALCULATION","A');
        builder.Append('ctivity":{"OutputVariableName":"TotalInvAmtWOContract","Operator":"Multiply By","LHS":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}},"RHS":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency Factor",');
        builder.Append('"Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":');
        builder.Append('"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}},{');
        builder.Append('"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PrevInvAmount","Operator":"Mult');
        builder.Append('iply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}');
        builder.Append('},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldNam');
        builder.Append('e":"Currency Factor","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purcha');
        builder.Append('se Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Do');
        builder.Append('cument No."}}}]}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"TotalInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Va');
        builder.Append('riable","VariableName":"TotalInvAmountLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVari');
        builder.Append('ableName":"TotalInvAmtWOContract","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariab');
        builder.Append('leName":"PrevInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"PrevInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Get applied amount"}');
        builder.Append('},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Eq');
        builder.Append('uals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Applies-');
        builder.Append('to Doc. Type","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line');
        builder.Append('","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document ');
        builder.Append('No."}}}]}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType":"Not Equal');
        builder.Append('s","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Applies-to ');
        builder.Append('Doc. No.","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","F');
        builder.Append('ieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."');
        builder.Append('}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Ou');
        builder.Append('tputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tab');
        builder.Append('leName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"Fi');
        builder.Append('terFieldName":"Document No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Table","TableName":"Purchase Header","TableFieldName":"Applies-to Doc. No.","Method":"First","');
        builder.Append('TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}}');
        builder.Append(',{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}]}}}}]}},{"ActivityTy');
        builder.Append('pe":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","L');
        builder.Append('HS":{"Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}},"RHS":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}]},"Body":[{"A');
        builder.Append('ctivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TaxableAmountExclApplied","Expression":');
        builder.Append('"Amount-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"AppliedAm');
        builder.Append('ount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"');
        builder.Append('}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputV');
        builder.Append('ariableName":"TaxableAmountExclApplied","OutputValue":{"Type":"Constant","Value":"0"}}}]}}},{"Activi');
        builder.Append('tyType":"COMMENT","Activity":{"Comment":"Total Taxable Amount"}},{"ActivityType":"NUMERICEXPRESSION"');
        builder.Append(',"Activity":{"VariableName":"TotalTaxableInvAmount","Expression":"(PostedAmount+Amount)-AppliedAmoun');
        builder.Append('t","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmount","TokenValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"Po');
        builder.Append('stedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvA');
        builder.Append('mount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount excluding posted ');
        builder.Append('contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAm');
        builder.Append('tWOContract","Expression":"((PostedAmount-ContractAmt)+Amount)-AppliedAmount","Tokens":[{"TokenName"');
        builder.Append(':"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchas');
        builder.Append('e Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"ContractAmt","TokenValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"Token');
        builder.Append('Name":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":');
        builder.Append('"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Condition to calculate TDS Am');
        builder.Append('ount considering Threshold limit"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{');
        builder.Append('"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed S');
        builder.Append('ections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pu');
        builder.Append('rchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line"');
        builder.Append(',"FieldName":"TDS Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"A');
        builder.Append('ctivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less');
        builder.Append(' Than Or Equals To","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RH');
        builder.Append('S":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Bo');
        builder.Append('dy":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":');
        builder.Append('"Not Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"');
        builder.Append('Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body');
        builder.Append('":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnNam');
        builder.Append('e":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName');
        builder.Append('":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName"');
        builder.Append(':"TotalTaxableInvAmtWOContract"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"IFST');
        builder.Append('ATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}},"RHS":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARI');
        builder.Append('ABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Condition":{"Body":');
        builder.Append('[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","Outpu');
        builder.Append('tValue":{"Type":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","Co');
        builder.Append('nditionType":"Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}');
        builder.Append(',"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Conditio');
        builder.Append('n":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","Rate');
        builder.Append('ColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVar');
        builder.Append('iableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"TotalTaxableInvAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SE');
        builder.Append('TVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Val');
        builder.Append('ue":"0"}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than"');
        builder.Append(',"LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType');
        builder.Append('":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}}],"ElseIf":{"Condi');
        builder.Append('tion":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxable');
        builder.Append('Amount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmou');
        builder.Append('ntExclApplied"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSAmount","E');
        builder.Append('xpression":"TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component Percent","ComponentName":"Non PAN TDS"}}},{"TokenName":"TDSTaxable');
        builder.Append('Amt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmoun');
        builder.Append('t"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreSurchargeBaseAmt","Outpu');
        builder.Append('tValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Su');
        builder.Append('rcharge Base Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":');
        builder.Append('"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName');
        builder.Append('":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Va');
        builder.Append('riable","VariableName":"AccountingDateFilter"}}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity"');
        builder.Append(':{"VariableName":"TotalSurchargeBaseAmt","Expression":"PreSurchargeBaseAmt+TDSAmount","Tokens":[{"To');
        builder.Append('kenName":"PreSurchargeBaseAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"PreSurchargeBaseAmt"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"TDSAmount"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"');
        builder.Append('Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","');
        builder.Append('TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName"');
        builder.Append(':"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Surcharge Overlook","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Valu');
        builder.Append('e":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Co');
        builder.Append('nditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLC');
        builder.Append('Y"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Am');
        builder.Append('ount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","C');
        builder.Append('onditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmo');
        builder.Append('untLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Thresho');
        builder.Append('ld Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBas');
        builder.Append('eAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalSurcharg');
        builder.Append('eBaseAmt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"');
        builder.Append('OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}],"ElseIf"');
        builder.Append(':{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Su');
        builder.Append('rchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDS');
        builder.Append('Amount"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":');
        builder.Append('{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"TDSAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bod');
        builder.Append('y":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName"');
        builder.Append(':"TDSTaxableAmount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE",');
        builder.Append('"Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}}],"ElseIf":{"Condition":{"Body"');
        builder.Append(':[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}}]}}}],"Po');
        builder.Append('stingVariables":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"Name":"TDSIncludingSurcharge",');
        builder.Append('"Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":"PaymentAmt","Datatype":"Numb');
        builder.Append('er"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","Datatype":"Number"},{"Name":"');
        builder.Append('PerContract","Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"InvoiceAmou');
        builder.Append('nt","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate');
        builder.Append('","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TDSPer","Datatype"');
        builder.Append(':"Number"},{"Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPer","Datatype":"Number"},{"Nam');
        builder.Append('e":"SHECessPer","Datatype":"Number"},{"Name":"VendorNo","Datatype":"String"}],"PostingScript":[{"Act');
        builder.Append('ivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expression":"{TDS}+');
        builder.Append('{Surcharge}+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Surcharg');
        builder.Append('e}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},');
        builder.Append('{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName');
        builder.Append('":"Non PAN TDS"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSu');
        builder.Append('rcharge","Expression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","Tok');
        builder.Append('enValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"A');
        builder.Append('ctivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"St');
        builder.Append('arting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldNam');
        builder.Append('e":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableField');
        builder.Append('Name":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","Filter');
        builder.Append('Type":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tab');
        builder.Append('leName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFi');
        builder.Append('eldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No."');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Purchase Line","FieldName":"Document No."}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","');
        builder.Append('Activity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","Ta');
        builder.Append('bleFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":');
        builder.Append('"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First');
        builder.Append('","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or');
        builder.Append(' Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Head');
        builder.Append('er","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Typ');
        builder.Append('e","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line",');
        builder.Append('"FieldName":"Document No."}}}]}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariabl');
        builder.Append('eName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate",');
        builder.Append('"FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableN');
        builder.Append('ame":"FiscalYearStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"ActivityType');
        builder.Append('":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"First","');
        builder.Append('TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}');
        builder.Append('},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldNam');
        builder.Append('e":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax ');
        builder.Append('Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Fi');
        builder.Append('lter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDat');
        builder.Append('eFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant"');
        builder.Append(',"Value":"Invoice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmt');
        builder.Append('","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldN');
        builder.Append('ame":"Payment Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase');
        builder.Append(' Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNam');
        builder.Append('e":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldN');
        builder.Append('ame":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPRESSION');
        builder.Append('","Activity":{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens":[{"TokenNam');
        builder.Append('e":"InvoiceAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Invo');
        builder.Append('iceAmt"}}},{"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable"');
        builder.Append(',"VariableName":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"T');
        builder.Append('otalInvAmt","Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"Tok');
        builder.Append('enName":"{InvAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"T');
        builder.Append('otalInvAmt"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Co');
        builder.Append('nditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFie');
        builder.Append('ldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fiel');
        builder.Append('dName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS ');
        builder.Append('Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFST');
        builder.Append('ATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","');
        builder.Append('Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"');
        builder.Append('SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]}');
        builder.Append(',"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTy');
        builder.Append('pe":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{');
        builder.Append('"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Gr');
        builder.Append('eater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"Activity');
        builder.Append('Type":"SETVARIABLE","Activity":{"OutputVariableName":"PerContract","OutputValue":{"Type":"Constant",');
        builder.Append('"Value":"true"}}}]}}]}}]}}]}}]}}],"Components":[{"ComponentName":"SHE Cess ","Sequence":4,"Formula":');
        builder.Append('{"VariableName":"","Expression":"(TDSAmount+SurchargeAmount)*SHECessPercent/100","Tokens":[{"TokenNa');
        builder.Append('me":"SHECessPercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","Compo');
        builder.Append('nentName":"SHE Cess "}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"TDS ');
        builder.Append('Base Amount","Sequence":6,"Formula":{"VariableName":"","Expression":"TDSBaseAmount","Tokens":[{"Toke');
        builder.Append('nName":"TDSBaseAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"TDSBaseAmt"}}}]}},{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","');
        builder.Append('Expression":"TDSAmount+SurchargeAmount+ECessAmount+SHECessAmount","Tokens":[{"TokenName":"ECessAmoun');
        builder.Append('t","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"Tok');
        builder.Append('enName":"SHECessAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentN');
        builder.Append('ame":"SHE Cess "}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"Surcharge');
        builder.Append('","Sequence":2,"Formula":{"VariableName":"","Expression":"SurchargeTaxableAmount*SurchargePercent/10');
        builder.Append('0","Tokens":[{"TokenName":"SurchargePercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('omponent Percent","ComponentName":"Surcharge"}}},{"TokenName":"SurchargeTaxableAmount","TokenValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"SurchargeBaseAmt"}}}]}},{"Compone');
        builder.Append('ntName":"eCESS","Sequence":3,"Formula":{"VariableName":"","Expression":"(TDSAmount+SurchargeAmount)*');
        builder.Append('EcessPercent/100","Tokens":[{"TokenName":"EcessPercent","TokenValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Component Percent","ComponentName":"eCESS"}}},{"TokenName":"SurchargeAmount","TokenValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDS');
        builder.Append('Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TD');
        builder.Append('S"}}}]}},{"ComponentName":"Non PAN TDS","Sequence":1,"Formula":{"VariableName":"","Expression":"TDST');
        builder.Append('axableAmount*TDSPercent/100","Tokens":[{"TokenName":"TDSPercent","TokenValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Component Percent","ComponentName":"Non PAN TDS"}}},{"TokenName":"TDSTaxableAmoun');
        builder.Append('t","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"');
        builder.Append('}}}]}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant",');
        builder.Append('"Value":"Order"}},{"Operator":"or","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Purchase Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"I');
        builder.Append('nvoice"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","Tabl');
        builder.Append('eName":"Vendor","TableFieldName":"P.A.N. Status","Method":"First","TableFilters":[{"FiterFieldName":');
        builder.Append('"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}}]}},"RHS":{"Type":"Constant","Value":');
        builder.Append('" "}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableNam');
        builder.Append('e":"Vendor","TableFieldName":"P.A.N. No.","Method":"First","TableFilters":[{"FiterFieldName":"No.","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Purchase Line","FieldName":"Buy-from Vendor No."}}}]}},"RHS":{"Type":"Constant","Value":" "}},{');
        builder.Append('"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"TDS');
        builder.Append(' Concessional Code","TableFieldName":"Concessional Code","Method":"First","TableFilters":[{"FiterFie');
        builder.Append('ldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"Se');
        builder.Append('ction","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""');
        builder.Append('}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"All');
        builder.Append('owed Sections","TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[{"FiterFiel');
        builder.Append('dName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"TDS ');
        builder.Append('Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record');
        builder.Append('","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":');
        builder.Append('"Yes"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Purchase Line","FieldName":"Work Tax Nature Of Deduction"}},"RHS":{"Type":"Constant","Val');
        builder.Append('ue":""}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Purchase Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}');
        builder.Append('}]},"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","TableName":"TDS Posting Setup","AccountS');
        builder.Append('ourceType":"Field","FieldName":"TDS Account","AccountingImpact":"Credit","ReverseCharge":false,"Reve');
        builder.Append('rseAccountSourceType":"Field","ReverseChargeFieldName":"","When":[{"Condition":{"Body":[{"Operator":');
        builder.Append('" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purchas');
        builder.Append('e Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}}]},"ValueType":"Insert');
        builder.Append(' Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger":true,"RecordVariable":"","SubLedgerGrp');
        builder.Append('By":"Component","InsertRecordFields":[{"FieldName":"Vendor No.","Sequence":4,"ReverseSign":false,"Lo');
        builder.Append('okup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNam');
        builder.Append('e":"Buy-from Vendor No."}}},{"FieldName":"T.A.N. No.","Sequence":5,"ReverseSign":false,"Lookup":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"TAN No."}}},{"FieldName":"Sect');
        builder.Append('ion","Sequence":6,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FieldName":"Assessee Code","Sequ');
        builder.Append('ence":7,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Attri');
        builder.Append('buteName":"Assessee Code"}}},{"FieldName":"TDS Base Amount","Sequence":8,"ReverseSign":false,"Lookup');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldNa');
        builder.Append('me":"TDS %","Sequence":9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Compo');
        builder.Append('nent Percent","ComponentName":"TDS"}}},{"FieldName":"TDS Amount","Sequence":10,"ReverseSign":false,"');
        builder.Append('Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"Field');
        builder.Append('Name":"Surcharge %","Sequence":11,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Component Percent","ComponentName":"Non PAN TDS"}}},{"FieldName":"Surcharge Amount","Sequence":1');
        builder.Append('2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"');
        builder.Append('Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"FieldName":"eCess Amount","Sequ');
        builder.Append('ence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Component');
        builder.Append('Name":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"ReverseSign":false,"Lookup":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Cess "}}},{"FieldName":"SHE Cess ');
        builder.Append('Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Componen');
        builder.Append('t","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional Code","Sequence":17,"ReverseSign":false');
        builder.Append(',"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Concessional Cod');
        builder.Append('e"}}},{"FieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{"FieldName":"Non Resident Paymen');
        builder.Append('ts","Sequence":35,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tabl');
        builder.Append('eName":"Allowed Sections","TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[');
        builder.Append('{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterField');
        builder.Append('Name":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}}},{"FieldName":"Nature ');
        builder.Append('of Remittance","Sequence":19,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Purchase Line","FieldName":"Nature of Remittance"}}},{"FieldName":"Act A');
        builder.Append('pplicable","Sequence":20,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"Act Applicable"}}},{"FieldName":"Invoice Amount"');
        builder.Append(',"Sequence":25,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Purchase Line","FieldName":"Amount"}}},{"FieldName":"Posting Date","Sequence":3,"Rever');
        builder.Append('seSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header"');
        builder.Append(',"TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fi');
        builder.Append('eldName":"Document No."}}}]}}},{"FieldName":"Document Type","Sequence":26,"ReverseSign":false,"Looku');
        builder.Append('p":{"Type":"Constant","Value":"Invoice"}},{"FieldName":"Document No.","Sequence":2,"ReverseSign":fal');
        builder.Append('se,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"Posted Do');
        builder.Append('cument No."}}},{"FieldName":"Account Type","Sequence":23,"ReverseSign":false,"Lookup":{"Type":"Const');
        builder.Append('ant","Value":"G/L Account"}},{"FieldName":"Account No.","Sequence":24,"ReverseSign":false,"Lookup":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Posting Setup","TableFieldName":"TDS');
        builder.Append(' Account","Method":"First","TableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","Fi');
        builder.Append('lterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fie');
        builder.Append('ldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equal');
        builder.Append('s To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","T');
        builder.Append('ableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Field');
        builder.Append('Name":"Document No."}}}]}}}]}}},{"FieldName":"Country Code","Sequence":37,"ReverseSign":false,"Looku');
        builder.Append('p":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Country Code"}}},{"Fiel');
        builder.Append('dName":"Source Code","Sequence":28,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"PURCHASE');
        builder.Append('S"}},{"FieldName":"TDS Amount Including Surcharge","Sequence":22,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSurcharge"}}},{"FieldName":');
        builder.Append('"Bal. TDS Including SHE CESS","Sequence":29,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Remaining Surcharge Am');
        builder.Append('ount","Sequence":31,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component"');
        builder.Append(',"ComponentName":"Surcharge"}}},{"FieldName":"Remaining TDS Amount","Sequence":43,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"Fi');
        builder.Append('eldName":"TDS Line Amount","Sequence":44,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"FieldName":"Total T');
        builder.Append('DS Including SHE CESS","Sequence":21,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Component","ComponentName":"Total TDS Amount"}}},{"FieldName":"Per Contract","Sequence":40,"R');
        builder.Append('everseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PerCon');
        builder.Append('tract"}}},{"FieldName":"User ID","Sequence":30,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Database","DatabaseVariableName":"UserId"}}},{"FieldName":"Transaction No.","Sequen');
        builder.Append('ce":39,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","Posting');
        builder.Append('VariableName":"G/L Entry Transaction No."}}},{"FieldName":"Original TDS Base Amount","Sequence":27,"');
        builder.Append('ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS');
        builder.Append(' Base Amount"}}},{"FieldName":"Currency Factor","Sequence":38,"ReverseSign":false,"Lookup":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency Fact');
        builder.Append('or","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","Filter');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNa');
        builder.Append('me":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}');
        builder.Append('},{"FieldName":"Surcharge Base Amount","Sequence":42,"ReverseSign":false,"Lookup":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"FieldName":"G/L Entry No.","Seq');
        builder.Append('uence":1,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","Posti');
        builder.Append('ngVariableName":"G/L Entry No."}}}]}}]}],"AttachedEvents":[{"EventName":"CallTaxEngineOnPurchaseLine');
        builder.Append('","Enabled":true,"Sequence":0},{"EventName":"OnAfterUpdatePurchUnitPrice","Enabled":true,"Sequence":');
        builder.Append('0}]},{"Description":"Calculation of Tax Deduction at Source on Non-Resident Vendor Invoice where PAN');
        builder.Append(' No. is specified along with Concessional Codes.\n","TaxType":"TDS","Code":"","TaxEntity":"Purchase ');
        builder.Append('Line","ParentUseCase":"Calculation of Tax Deduction at Source on Non-Resident Vendor Invoice (throug');
        builder.Append('h Purchase Order/Purchase Invoice).\n","PresentationOrder":207,"Indent":1,"PostingTableName":"TDS Po');
        builder.Append('sting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName"');
        builder.Append(':"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFie');
        builder.Append('ldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purc');
        builder.Append('hase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"');
        builder.Append('Document No."}}}]}}}],"Attributes":[{"Name":"PAN No.","When":[{"Condition":{"Body":[]},"ValueType":"');
        builder.Append('Relation","Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"Buy-from Vendor No."}}}]}}]},{"Name":"Concessional Code","When":[{"ValueType":"Rela');
        builder.Append('tion","Relation":{"TableName":"TDS Concessional Code","TableFilters":[{"FiterFieldName":"Vendor No."');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"Section","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchas');
        builder.Append('e Line","FieldName":"TDS Section Code"}}}]}}]}],"RateColumns":[{"Name":"Effective Date","When":[{"Va');
        builder.Append('lueType":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Pos');
        builder.Append('ting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","');
        builder.Append('FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No.');
        builder.Append('"}}}]}}]}],"ComputationVariables":[{"Name":"TotalAmount","Datatype":"Number"},{"Name":"TDSTaxableAmo');
        builder.Append('unt","Datatype":"Number"},{"Name":"SurchargeBaseAmt","Datatype":"Number"},{"Name":"TDSAmount","Datat');
        builder.Append('ype":"Number"},{"Name":"PrevInvAmountLCY","Datatype":"Number"},{"Name":"PrevInvAmount","Datatype":"N');
        builder.Append('umber"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"PaymentAmount","Datatype":"Number"},{"');
        builder.Append('Name":"PreviousContractAmount","Datatype":"Number"},{"Name":"TotalInvAmountLCY","Datatype":"Number"}');
        builder.Append(',{"Name":"TotalInvAmount","Datatype":"Number"},{"Name":"TotalInvAmtWOContractLCY","Datatype":"Number');
        builder.Append('"},{"Name":"TotalInvAmtWOContract","Datatype":"Number"},{"Name":"PreSurchargeBaseAmt","Datatype":"Nu');
        builder.Append('mber"},{"Name":"TotalSurchargeBaseAmt","Datatype":"Number"},{"Name":"PositiveAmount","Datatype":"Num');
        builder.Append('ber"},{"Name":"PositiveAmountLCY","Datatype":"Number"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"N');
        builder.Append('ame":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name"');
        builder.Append(':"AccountingDateFilter","Datatype":"String"},{"Name":"TotalCurrAmountLCY","Datatype":"Number"},{"Nam');
        builder.Append('e":"PositiveTotalCurrAmountLCY","Datatype":"Number"},{"Name":"AppliedAmount","Datatype":"Number"},{"');
        builder.Append('Name":"TotalTaxableInvAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmtWOContract","Datatype"');
        builder.Append(':"Number"},{"Name":"BatchAmountLCY","Datatype":"Number"},{"Name":"BatchPaymentAmountLCY","Datatype":');
        builder.Append('"Number"},{"Name":"BatchInvoiceAmountLCY","Datatype":"Number"},{"Name":"PositiveAmtExclGST","Datatyp');
        builder.Append('e":"Number"},{"Name":"TaxableAmountExclApplied","Datatype":"Number"}],"ComputationScript":[{"Activit');
        builder.Append('yType":"COMMENT","Activity":{"Comment":"Created string for current financial year"}},{"ActivityType"');
        builder.Append(':"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date"');
        builder.Append(',"Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounti');
        builder.Append('ng Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax T');
        builder.Append('ype","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Le');
        builder.Append('ss Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Pur');
        builder.Append('chase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Do');
        builder.Append('cument Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purch');
        builder.Append('ase Line","FieldName":"Document No."}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"');
        builder.Append('OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table');
        builder.Append('","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":');
        builder.Append('[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilt');
        builder.Append('ers":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Cons');
        builder.Append('tant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Cons');
        builder.Append('tant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFi');
        builder.Append('eldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pur');
        builder.Append('chase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":');
        builder.Append('"Document No."}}}]}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"Acco');
        builder.Append('untingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatStrin');
        builder.Append('g":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Fiscal');
        builder.Append('YearEndDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}}]}},{"ActivityType":"COMMENT",');
        builder.Append('"Activity":{"Comment":"Total posted Invoice amount"}},{"ActivityType":"SETVARIABLE","Activity":{"Out');
        builder.Append('putVariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tabl');
        builder.Append('eName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName');
        builder.Append('":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"As');
        builder.Append('sessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"');
        builder.Append('Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"Act');
        builder.Append('ivityType":"COMMENT","Activity":{"Comment":"Total posted Payment amount"}},{"ActivityType":"SETVARIA');
        builder.Append('BLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Method":"Sum","TableFilte');
        builder.Append('rs":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterF');
        builder.Append('ieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assess');
        builder.Append('ee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes');
        builder.Append('","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}');
        builder.Append('},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"');
        builder.Append('Payment"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Sum of posted payment and invoice a');
        builder.Append('mount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PrevInvAmountLCY","Expressi');
        builder.Append('on":"PostedInvoiceAmount+PostedPaymentAmount","Tokens":[{"TokenName":"PostedInvoiceAmount","TokenVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmount"}}},{"TokenName');
        builder.Append('":"PostedPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"PaymentAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted contract amou');
        builder.Append('nt"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreviousContractAmount","Outpu');
        builder.Append('tValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"In');
        builder.Append('voice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fi');
        builder.Append('eldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Se');
        builder.Append('ction Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"P');
        builder.Append('er Contract","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}}}},{"Activity');
        builder.Append('Type":"COMMENT","Activity":{"Comment":"Total Posted amount without contract amount"}},{"ActivityType');
        builder.Append('":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmtWOContractLCY","Expression":"TotalPoste');
        builder.Append('dAmount-PostedContractAmount","Tokens":[{"TokenName":"PostedContractAmount","TokenValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"Tot');
        builder.Append('alPostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Tota');
        builder.Append('lInvAmountLCY"}}}]}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvA');
        builder.Append('mountLCY","Operator":"Plus","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":');
        builder.Append('"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pur');
        builder.Append('chase Line","FieldName":"Amount"}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Amou');
        builder.Append('nt from LCY to FCY"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" "');
        builder.Append(',"ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase Header","T');
        builder.Append('ableFieldName":"Currency Code","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fiel');
        builder.Append('dName":"Document No."}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERC');
        builder.Append('ALCULATION","Activity":{"OutputVariableName":"TotalInvAmount","Operator":"Multiply By","LHS":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency Factor",');
        builder.Append('"Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":');
        builder.Append('"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}},{');
        builder.Append('"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmtWOContract","Operato');
        builder.Append('r":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAm');
        builder.Append('tWOContractLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header');
        builder.Append('","TableFieldName":"Currency Factor","Method":"First","TableFilters":[{"FiterFieldName":"Document Ty');
        builder.Append('pe","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line"');
        builder.Append(',"FieldName":"Document No."}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableN');
        builder.Append('ame":"PrevInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Purchase Header","TableFieldName":"Currency Factor","Method":"First","TableFilters":[{"FiterFi');
        builder.Append('eldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No."');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Purchase Line","FieldName":"Document No."}}}]}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmount","OutputValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}},{"ActivityType":');
        builder.Append('"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmtWOContract","OutputValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"S');
        builder.Append('ETVARIABLE","Activity":{"OutputVariableName":"PrevInvAmount","OutputValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activ');
        builder.Append('ity":{"Comment":"Get applied amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body"');
        builder.Append(':[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purcha');
        builder.Append('se Header","TableFieldName":"Applies-to Doc. Type","Method":"First","TableFilters":[{"FiterFieldName');
        builder.Append('":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Purchase Line","FieldName":"Document No."}}}]}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Opera');
        builder.Append('tor":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase ');
        builder.Append('Header","TableFieldName":"Applies-to Doc. No.","Method":"First","TableFilters":[{"FiterFieldName":"D');
        builder.Append('ocument Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purc');
        builder.Append('hase Line","FieldName":"Document No."}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Activi');
        builder.Append('tyType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply');
        builder.Append('","Method":"Sum","TableFilters":[{"FiterFieldName":"Document No.","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Ap');
        builder.Append('plies-to Doc. No.","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase');
        builder.Append(' Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Docu');
        builder.Append('ment No."}}}]}}}]}}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":');
        builder.Append('" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"AppliedA');
        builder.Append('mount"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line",');
        builder.Append('"FieldName":"Amount"}}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"Ta');
        builder.Append('xableAmountExclApplied","Expression":"Amount-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName');
        builder.Append('":"Amount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"AppliedAmount"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityTyp');
        builder.Append('e":"SETVARIABLE","Activity":{"OutputVariableName":"TaxableAmountExclApplied","OutputValue":{"Type":"');
        builder.Append('Constant","Value":"0"}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount"}');
        builder.Append('},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmount","Expression');
        builder.Append('":"(PostedAmount+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"Toke');
        builder.Append('nName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"AppliedAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"T');
        builder.Append('otal Taxable Amount excluding posted contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activit');
        builder.Append('y":{"VariableName":"TotalTaxableInvAmtWOContract","Expression":"((PostedAmount-ContractAmt)+Amount)-');
        builder.Append('AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmount","T');
        builder.Append('okenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"To');
        builder.Append('kenName":"ContractAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"PreviousContractAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Co');
        builder.Append('mment":"Condition to calculate TDS Amount considering Threshold limit"}},{"ActivityType":"IFSTATEMEN');
        builder.Append('T","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"Sourc');
        builder.Append('eType":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{');
        builder.Append('"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldNam');
        builder.Append('e":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Threshold');
        builder.Append(' Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":');
        builder.Append('"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"O');
        builder.Append('perator":" ","ConditionType":"Is Less Than Or Equals To","LHS":{"Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumn');
        builder.Append('Name":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bo');
        builder.Append('dy":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumn');
        builder.Append('Name":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTAT');
        builder.Append('EMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARI');
        builder.Append('ABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Variable","VariableName":"TotalTaxableInvAmtWOContract"}}}}],"ElseIf":{"Condition":{"Bo');
        builder.Append('dy":[]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Cond');
        builder.Append('itionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount');
        builder.Append('LCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}');
        builder.Append('}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","Outp');
        builder.Append('utValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied');
        builder.Append('"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVa');
        builder.Append('riableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Co');
        builder.Append('ndition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Column","R');
        builder.Append('ateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType');
        builder.Append('":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","');
        builder.Append('LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType"');
        builder.Append(':"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmount"}}}}],"ElseIf":{"Condition":{"');
        builder.Append('Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount",');
        builder.Append('"OutputValue":{"Type":"Constant","Value":"0"}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":');
        builder.Append('" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevI');
        builder.Append('nvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshol');
        builder.Append('d Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmo');
        builder.Append('unt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountE');
        builder.Append('xclApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","Act');
        builder.Append('ivity":{"VariableName":"TDSAmount","Expression":"TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenName":"T');
        builder.Append('DSPer","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS');
        builder.Append('"}}},{"TokenName":"TDSTaxableAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"TDSTaxableAmount"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName"');
        builder.Append(':"PreSurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TD');
        builder.Append('S Entry","TableFieldName":"Surcharge Base Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"');
        builder.Append('Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","Fil');
        builder.Append('terType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"E');
        builder.Append('quals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Asses');
        builder.Append('see Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}}]}}}},{"ActivityType":"');
        builder.Append('NUMERICEXPRESSION","Activity":{"VariableName":"TotalSurchargeBaseAmt","Expression":"PreSurchargeBase');
        builder.Append('Amt+TDSAmount","Tokens":[{"TokenName":"PreSurchargeBaseAmt","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"PreSurchargeBaseAmt"}}},{"TokenName":"TDSAmount","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}]}},{"ActivityType');
        builder.Append('":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lo');
        builder.Append('okup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"');
        builder.Append('FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldNam');
        builder.Append('e":"Surcharge Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"');
        builder.Append('RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition"');
        builder.Append(':{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumn');
        builder.Append('Name":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition');
        builder.Append('":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable');
        builder.Append('","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateC');
        builder.Append('olumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Outp');
        builder.Append('utVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"TotalSurchargeBaseAmt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType');
        builder.Append('":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Constant"');
        builder.Append(',"Value":"0"}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TDSAmount"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityTy');
        builder.Append('pe":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT",');
        builder.Append('"Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"TDSTaxableAmount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{');
        builder.Append('"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}}],');
        builder.Append('"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableN');
        builder.Append('ame":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"T');
        builder.Append('DSTaxableAmount"}}}}]}}}],"PostingVariables":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"N');
        builder.Append('ame":"TDSIncludingSurcharge","Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":');
        builder.Append('"PaymentAmt","Datatype":"Number"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","');
        builder.Append('Datatype":"Number"},{"Name":"PerContract","Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"');
        builder.Append('Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date');
        builder.Append('"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"');
        builder.Append('},{"Name":"TDSPer","Datatype":"Number"},{"Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPe');
        builder.Append('r","Datatype":"Number"},{"Name":"SHECessPer","Datatype":"Number"},{"Name":"VendorNo","Datatype":"Str');
        builder.Append('ing"}],"PostingScript":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncluding');
        builder.Append('SHECess","Expression":"{TDS}+{Surcharge}+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"{');
        builder.Append('SHECess}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess');
        builder.Append(' "}}},{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","C');
        builder.Append('omponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Component","ComponentName":"TDS"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Variable');
        builder.Append('Name":"TDSIncludingSurcharge","Expression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"To');
        builder.Append('kenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"T');
        builder.Append('DS"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","Outp');
        builder.Append('utValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableF');
        builder.Append('ieldName":"Starting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","');
        builder.Append('TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup');
        builder.Append('","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting ');
        builder.Append('Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilter');
        builder.Append('s":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFie');
        builder.Append('ldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Purchase Line","FieldName":"Document No."}}}]}}},{"FiterFieldName":"New Fiscal Y');
        builder.Append('ear","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Clos');
        builder.Append('ed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"S');
        builder.Append('ETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Metho');
        builder.Append('d":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Peri');
        builder.Append('od","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","M');
        builder.Append('ethod":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Gr');
        builder.Append('eater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"');
        builder.Append('Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":');
        builder.Append('"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pu');
        builder.Append('rchase Line","FieldName":"Document No."}}}]}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"');
        builder.Append('OutputVariableName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenNam');
        builder.Append('e":"EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"FiscalYearStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariabl');
        builder.Append('eName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{');
        builder.Append('"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Meth');
        builder.Append('od":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to ');
        builder.Append('Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"');
        builder.Append('FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","Filter');
        builder.Append('Type":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName');
        builder.Append('":"PaymentAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry"');
        builder.Append(',"TableFieldName":"Payment Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},');
        builder.Append('{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUME');
        builder.Append('RICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens');
        builder.Append('":[{"TokenName":"InvoiceAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"InvoiceAmt"}}},{"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Var');
        builder.Append('iableName":"TotalInvAmt","Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amo');
        builder.Append('unt"}}},{"TokenName":"{InvAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Var');
        builder.Append('iableName":"TotalInvAmt"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Oper');
        builder.Append('ator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sectio');
        builder.Append('ns","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchas');
        builder.Append('e Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","Fi');
        builder.Append('lterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fie');
        builder.Append('ldName":"TDS Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Activi');
        builder.Append('tyType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"I');
        builder.Append('FSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS"');
        builder.Append(':{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","');
        builder.Append('Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" "');
        builder.Append(',"ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt');
        builder.Append('"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}');
        builder.Append('}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Conditio');
        builder.Append('nType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RH');
        builder.Append('S":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body');
        builder.Append('":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PerContract","OutputValue":{"Type');
        builder.Append('":"Constant","Value":"true"}}}]}}]}}]}}]}}]}}],"Components":[{"ComponentName":"Total TDS Amount","Se');
        builder.Append('quence":5,"Formula":{"VariableName":"","Expression":"TDSAmount+SurchargeAmount+ECessAmount+SHECessAm');
        builder.Append('ount","Tokens":[{"TokenName":"ECessAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Com');
        builder.Append('ponent","ComponentName":"eCESS"}}},{"TokenName":"SHECessAmount","TokenValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"SurchargeAmount","TokenVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":');
        builder.Append('"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}');
        builder.Append('}]}},{"ComponentName":"TDS Base Amount","Sequence":6,"Formula":{"VariableName":"","Expression":"TDSB');
        builder.Append('aseAmount","Tokens":[{"TokenName":"TDSBaseAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"TDSBaseAmt"}}}]}},{"ComponentName":"TDS","Sequence":1,"Formula":{"Vari');
        builder.Append('ableName":"","Expression":"TDSTaxableAmount*TDSPercent/100","Tokens":[{"TokenName":"TDSPercent","Tok');
        builder.Append('enValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"Toke');
        builder.Append('nName":"TDSTaxableAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableN');
        builder.Append('ame":"TDSTaxableAmount"}}}]}},{"ComponentName":"SHE Cess ","Sequence":4,"Formula":{"VariableName":""');
        builder.Append(',"Expression":"(TDSAmount+SurchargeAmount)*SHECessPercent/100","Tokens":[{"TokenName":"SHECessPercen');
        builder.Append('t","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Ces');
        builder.Append('s "}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Componen');
        builder.Append('t","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Component","ComponentName":"TDS"}}}]}},{"ComponentName":"Surcharge","Sequence":2,"Formu');
        builder.Append('la":{"VariableName":"","Expression":"SurchargeTaxableAmount*SurchargePercent/100","Tokens":[{"TokenN');
        builder.Append('ame":"SurchargePercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","Co');
        builder.Append('mponentName":"Surcharge"}}},{"TokenName":"SurchargeTaxableAmount","TokenValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"SurchargeBaseAmt"}}}]}},{"ComponentName":"eCESS","Sequ');
        builder.Append('ence":3,"Formula":{"VariableName":"","Expression":"(TDSAmount+SurchargeAmount)*EcessPercent/100","To');
        builder.Append('kens":[{"TokenName":"EcessPercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component P');
        builder.Append('ercent","ComponentName":"eCESS"}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}}],"Condition":{"Body"');
        builder.Append(':[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Purchase Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Order"}},{"Operato');
        builder.Append('r":"or","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purchas');
        builder.Append('e Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}},{"Operator":"and"');
        builder.Append(',"ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName');
        builder.Append('":"P.A.N. Status","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","Fi');
        builder.Append('lterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fie');
        builder.Append('ldName":"Buy-from Vendor No."}}}]}},"RHS":{"Type":"Constant","Value":" "}},{"Operator":"and","Condit');
        builder.Append('ionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","Tab');
        builder.Append('leFieldName":"Concessional Code","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Li');
        builder.Append('ne","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","Co');
        builder.Append('nditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName');
        builder.Append('":"P.A.N. No.","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldN');
        builder.Append('ame":"Buy-from Vendor No."}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionT');
        builder.Append('ype":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":');
        builder.Append('"Non Resident Payments","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchas');
        builder.Append('e Line","FieldName":"Buy-from Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","F');
        builder.Append('ieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":"Yes"}},{"Operator":"and","Condi');
        builder.Append('tionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Field');
        builder.Append('Name":"Work Tax Nature Of Deduction"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","Cond');
        builder.Append('itionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","');
        builder.Append('FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}}]},"TaxPostingSetup":[{"Compone');
        builder.Append('ntName":"Total TDS Amount","TableName":"TDS Posting Setup","AccountSourceType":"Field","FieldName":"');
        builder.Append('TDS Account","AccountingImpact":"Credit","ReverseCharge":false,"ReverseAccountSourceType":"Field","R');
        builder.Append('everseChargeFieldName":"","When":[{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals"');
        builder.Append(',"LHS":{"Lookup":{"SourceType":"Component","ComponentName":"Total TDS Amount"}},"RHS":{"Type":"Const');
        builder.Append('ant","Value":"0"}}]},"ValueType":"Insert Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger');
        builder.Append('":true,"RecordVariable":"","SubLedgerGrpBy":"Component","InsertRecordFields":[{"FieldName":"Vendor N');
        builder.Append('o.","Sequence":4,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FieldName":"T.A.N. No.","Seque');
        builder.Append('nce":5,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Attrib');
        builder.Append('uteName":"TAN No."}}},{"FieldName":"Section","Sequence":6,"ReverseSign":false,"Lookup":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Cod');
        builder.Append('e"}}},{"FieldName":"Assessee Code","Sequence":7,"ReverseSign":false,"Lookup":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FieldName":"TDS Base Amount",');
        builder.Append('"Sequence":8,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Compo');
        builder.Append('nentName":"TDS Base Amount"}}},{"FieldName":"TDS %","Sequence":9,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"FieldName":"TDS Amo');
        builder.Append('unt","Sequence":10,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component",');
        builder.Append('"ComponentName":"TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":false,"Lookup":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"FieldName":"');
        builder.Append('Surcharge Amount","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Component","ComponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSign":false');
        builder.Append(',"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"F');
        builder.Append('ieldName":"eCess Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Component","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"ReverseSign"');
        builder.Append(':false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Ces');
        builder.Append('s "}}},{"FieldName":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional Code","Se');
        builder.Append('quence":17,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","At');
        builder.Append('tributeName":"Concessional Code"}}},{"FieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{"F');
        builder.Append('ieldName":"Non Resident Payments","Sequence":35,"ReverseSign":false,"Lookup":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"Non Resident Payments","Me');
        builder.Append('thod":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-fr');
        builder.Append('om Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code');
        builder.Append('"}}}]}}},{"FieldName":"Nature of Remittance","Sequence":19,"ReverseSign":false,"Lookup":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Nature of Remi');
        builder.Append('ttance"}}},{"FieldName":"Act Applicable","Sequence":20,"ReverseSign":false,"Lookup":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Act Applicable"}}}');
        builder.Append(',{"FieldName":"Invoice Amount","Sequence":25,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"FieldName":"Pos');
        builder.Append('ting Date","Sequence":3,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table"');
        builder.Append(',"TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"Fi');
        builder.Append('terFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":');
        builder.Append('"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Purchase Line","FieldName":"Document No."}}}]}}},{"FieldName":"Document Type","Sequence"');
        builder.Append(':26,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"Invoice"}},{"FieldName":"Document No.",');
        builder.Append('"Sequence":2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","P');
        builder.Append('ostingVariableName":"Posted Document No."}}},{"FieldName":"Account Type","Sequence":23,"ReverseSign"');
        builder.Append(':false,"Lookup":{"Type":"Constant","Value":"G/L Account"}},{"FieldName":"Account No.","Sequence":24,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Postin');
        builder.Append('g Setup","TableFieldName":"TDS Account","Method":"First","TableFilters":[{"FiterFieldName":"TDS Sect');
        builder.Append('ion","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","Filt');
        builder.Append('erType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","T');
        builder.Append('ableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"Fiter');
        builder.Append('FieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No');
        builder.Append('.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Purchase Line","FieldName":"Document No."}}}]}}}]}}},{"FieldName":"Country Code","Sequence"');
        builder.Append(':37,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Attribute');
        builder.Append('Name":"Country Code"}}},{"FieldName":"Source Code","Sequence":28,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Constant","Value":"PURCHASES"}},{"FieldName":"TDS Amount Including Surcharge","Sequence":22,"Reve');
        builder.Append('rseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSInclud');
        builder.Append('ingSurcharge"}}},{"FieldName":"Bal. TDS Including SHE CESS","Sequence":29,"ReverseSign":false,"Looku');
        builder.Append('p":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"Fiel');
        builder.Append('dName":"Remaining Surcharge Amount","Sequence":31,"ReverseSign":false,"Lookup":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"Remaining TDS Amount","S');
        builder.Append('equence":44,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Compon');
        builder.Append('entName":"TDS"}}},{"FieldName":"TDS Line Amount","Sequence":45,"ReverseSign":false,"Lookup":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}');
        builder.Append(',{"FieldName":"Total TDS Including SHE CESS","Sequence":21,"ReverseSign":false,"Lookup":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Component","ComponentName":"Total TDS Amount"}}},{"FieldName":"Per Cont');
        builder.Append('ract","Sequence":41,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"PerContract"}}},{"FieldName":"User ID","Sequence":30,"ReverseSign":false,"Lookup":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Database","DatabaseVariableName":"UserId"}}},{"FieldName":"Tr');
        builder.Append('ansaction No.","Sequence":40,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"P');
        builder.Append('osting Field","PostingVariableName":"G/L Entry Transaction No."}}},{"FieldName":"Original TDS Base A');
        builder.Append('mount","Sequence":27,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component');
        builder.Append('","ComponentName":"TDS Base Amount"}}},{"FieldName":"Currency Code","Sequence":38,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fie');
        builder.Append('ldName":"Currency Code"}}},{"FieldName":"Currency Factor","Sequence":39,"ReverseSign":false,"Lookup"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Cur');
        builder.Append('rency Factor","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line');
        builder.Append('","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document ');
        builder.Append('No."}}}]}}},{"FieldName":"Surcharge Base Amount","Sequence":43,"ReverseSign":false,"Lookup":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}},{"FieldName":"G/L Entry No.","S');
        builder.Append('equence":1,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","Pos');
        builder.Append('tingVariableName":"G/L Entry No."}}}]}}]}],"AttachedEvents":[{"EventName":"CallTaxEngineOnPurchaseLi');
        builder.Append('ne","Enabled":true,"Sequence":0},{"EventName":"OnAfterUpdatePurchUnitPrice","Enabled":true,"Sequence');
        builder.Append('":0}]},{"Description":"Calculation of Tax Deduction at Source on Non-Resident Vendor Invoice where  ');
        builder.Append('PAN No. is specified without Concessional Codes.\n","TaxType":"TDS","Code":"","TaxEntity":"Purchase ');
        builder.Append('Line","ParentUseCase":"Calculation of Tax Deduction at Source on Non-Resident Vendor Invoice (throug');
        builder.Append('h Purchase Order/Purchase Invoice).\n","PresentationOrder":208,"Indent":1,"PostingTableName":"TDS Po');
        builder.Append('sting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName"');
        builder.Append(':"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFie');
        builder.Append('ldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purc');
        builder.Append('hase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"');
        builder.Append('Document No."}}}]}}}],"Attributes":[{"Name":"PAN No.","When":[{"ValueType":"Relation","Relation":{"T');
        builder.Append('ableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-fro');
        builder.Append('m Vendor No."}}}]}}]}],"RateColumns":[{"Name":"Effective Date","When":[{"ValueType":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"Firs');
        builder.Append('t","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type');
        builder.Append('"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}]}],"ComputationVa');
        builder.Append('riables":[{"Name":"TotalAmount","Datatype":"Number"},{"Name":"TDSTaxableAmount","Datatype":"Number"}');
        builder.Append(',{"Name":"SurchargeBaseAmt","Datatype":"Number"},{"Name":"TDSAmount","Datatype":"Number"},{"Name":"P');
        builder.Append('revInvAmountLCY","Datatype":"Number"},{"Name":"PrevInvAmount","Datatype":"Number"},{"Name":"InvoiceA');
        builder.Append('mount","Datatype":"Number"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"PreviousContractAm');
        builder.Append('ount","Datatype":"Number"},{"Name":"TotalInvAmountLCY","Datatype":"Number"},{"Name":"TotalInvAmount"');
        builder.Append(',"Datatype":"Number"},{"Name":"TotalInvAmtWOContractLCY","Datatype":"Number"},{"Name":"TotalInvAmtWO');
        builder.Append('Contract","Datatype":"Number"},{"Name":"PreSurchargeBaseAmt","Datatype":"Number"},{"Name":"TotalSurc');
        builder.Append('hargeBaseAmt","Datatype":"Number"},{"Name":"PositiveAmount","Datatype":"Number"},{"Name":"PositiveAm');
        builder.Append('ountLCY","Datatype":"Number"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"Name":"FiscalYearStartDate');
        builder.Append('","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","');
        builder.Append('Datatype":"String"},{"Name":"TotalCurrAmountLCY","Datatype":"Number"},{"Name":"PositiveTotalCurrAmou');
        builder.Append('ntLCY","Datatype":"Number"},{"Name":"AppliedAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmo');
        builder.Append('unt","Datatype":"Number"},{"Name":"TotalTaxableInvAmtWOContract","Datatype":"Number"},{"Name":"Batch');
        builder.Append('AmountLCY","Datatype":"Number"},{"Name":"BatchPaymentAmountLCY","Datatype":"Number"},{"Name":"BatchI');
        builder.Append('nvoiceAmountLCY","Datatype":"Number"},{"Name":"PositiveAmtExclGST","Datatype":"Number"},{"Name":"Tax');
        builder.Append('ableAmountExclApplied","Datatype":"Number"}],"ComputationScript":[{"ActivityType":"COMMENT","Activit');
        builder.Append('y":{"Comment":"Created string for current financial year"}},{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last","TableFi');
        builder.Append('lters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"Firs');
        builder.Append('t","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","Ta');
        builder.Append('bleFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equals To","Fi');
        builder.Append('lterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableField');
        builder.Append('Name":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purcha');
        builder.Append('se Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Do');
        builder.Append('cument No."}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"C');
        builder.Append('onstant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Fisc');
        builder.Append('alYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accoun');
        builder.Append('ting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax T');
        builder.Append('ype Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Table');
        builder.Append('Name":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldN');
        builder.Append('ame":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tab');
        builder.Append('leName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFie');
        builder.Append('ldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{');
        builder.Append('"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{');
        builder.Append('"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Posting Date","');
        builder.Append('Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"');
        builder.Append('Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}]}}}');
        builder.Append('},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter","Expres');
        builder.Append('sion":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVariableName');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}},{"TokenNa');
        builder.Append('me":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"FiscalYearStartDate"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"To');
        builder.Append('tal posted Invoice amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Invoice');
        builder.Append('Amount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","Table');
        builder.Append('FieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purc');
        builder.Append('hase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fiel');
        builder.Append('dName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFi');
        builder.Append('eldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"COMMENT","Act');
        builder.Append('ivity":{"Comment":"Total posted Payment amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputV');
        builder.Append('ariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableNam');
        builder.Append('e":"TDS Entry","TableFieldName":"Payment Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"V');
        builder.Append('endor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assess');
        builder.Append('ee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Docu');
        builder.Append('ment Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"Activit');
        builder.Append('yType":"COMMENT","Activity":{"Comment":"Sum of posted payment and invoice amount"}},{"ActivityType":');
        builder.Append('"NUMERICEXPRESSION","Activity":{"VariableName":"PrevInvAmountLCY","Expression":"PostedInvoiceAmount+');
        builder.Append('PostedPaymentAmount","Tokens":[{"TokenName":"PostedInvoiceAmount","TokenValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"InvoiceAmount"}}},{"TokenName":"PostedPaymentAmount","');
        builder.Append('TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}}]}},');
        builder.Append('{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted contract amount"}},{"ActivityType":"SE');
        builder.Append('TVARIABLE","Activity":{"OutputVariableName":"PreviousContractAmount","OutputValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"S');
        builder.Append('um","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor N');
        builder.Append('o."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFie');
        builder.Append('ldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Per Contract","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}}}},{"ActivityType":"COMMENT","Activity');
        builder.Append('":{"Comment":"Total Posted amount without contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Ac');
        builder.Append('tivity":{"VariableName":"TotalInvAmtWOContractLCY","Expression":"TotalPostedAmount-PostedContractAmo');
        builder.Append('unt","Tokens":[{"TokenName":"PostedContractAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"TotalPostedAmount","TokenVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}]}},{"Ac');
        builder.Append('tivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmountLCY","Operator":"Plu');
        builder.Append('s","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"');
        builder.Append('Amount"}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Amount from LCY to FCY"}},{"A');
        builder.Append('ctivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equ');
        builder.Append('als","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Currency ');
        builder.Append('Code","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Field');
        builder.Append('Name":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]');
        builder.Append('}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"');
        builder.Append('OutputVariableName":"TotalInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Table","TableName":"Purchase Header","TableFieldName":"Currency Factor","Method":"First","TableFi');
        builder.Append('lters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"Fite');
        builder.Append('rFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}},{"ActivityType":"NUMBERCAL');
        builder.Append('CULATION","Activity":{"OutputVariableName":"TotalInvAmtWOContract","Operator":"Multiply By","LHS":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}},"RHS":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Curre');
        builder.Append('ncy Factor","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line",');
        builder.Append('"FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No');
        builder.Append('."}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PrevInvAmount","Ope');
        builder.Append('rator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevIn');
        builder.Append('vAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","T');
        builder.Append('ableFieldName":"Currency Factor","Method":"First","TableFilters":[{"FiterFieldName":"Document Type",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fi');
        builder.Append('eldName":"Document No."}}}]}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIA');
        builder.Append('BLE","Activity":{"OutputVariableName":"TotalInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"TotalInvAmountLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":');
        builder.Append('{"OutputVariableName":"TotalInvAmtWOContract","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"');
        builder.Append('OutputVariableName":"PrevInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable"');
        builder.Append(',"VariableName":"PrevInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Get appl');
        builder.Append('ied amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condit');
        builder.Append('ionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldNam');
        builder.Append('e":"Applies-to Doc. Type","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"P');
        builder.Append('urchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName');
        builder.Append('":"Document No."}}}]}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType');
        builder.Append('":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":');
        builder.Append('"Applies-to Doc. No.","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purch');
        builder.Append('ase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"D');
        builder.Append('ocument No."}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Ac');
        builder.Append('tivity":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","TableFi');
        builder.Append('lters":[{"FiterFieldName":"Document No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Applies-to Doc. No.","Metho');
        builder.Append('d":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Docum');
        builder.Append('ent Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document No."}}}]}}}]}}}}]}},');
        builder.Append('{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is L');
        builder.Append('ess Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}},"RHS":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}]}');
        builder.Append(',"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TaxableAmountExclApplied","');
        builder.Append('Expression":"Amount-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName');
        builder.Append('":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Ap');
        builder.Append('pliedAmount"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activit');
        builder.Append('y":{"OutputVariableName":"TaxableAmountExclApplied","OutputValue":{"Type":"Constant","Value":"0"}}}]');
        builder.Append('}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount"}},{"ActivityType":"NUMERI');
        builder.Append('CEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmount","Expression":"(PostedAmount+Amount)-');
        builder.Append('AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmount","T');
        builder.Append('okenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"To');
        builder.Append('kenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount exclu');
        builder.Append('ding posted contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"Total');
        builder.Append('TaxableInvAmtWOContract","Expression":"((PostedAmount-ContractAmt)+Amount)-AppliedAmount","Tokens":[');
        builder.Append('{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"ContractAmt","T');
        builder.Append('okenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount');
        builder.Append('"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Condition to calc');
        builder.Append('ulate TDS Amount considering Threshold limit"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition');
        builder.Append('":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName');
        builder.Append('":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor ');
        builder.Append('No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pu');
        builder.Append('rchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]}');
        builder.Append(',"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTy');
        builder.Append('pe":"Is Less Than Or Equals To","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmou');
        builder.Append('ntLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amou');
        builder.Append('nt"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Con');
        builder.Append('ditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value');
        builder.Append('"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condi');
        builder.Append('tion":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","R');
        builder.Append('ateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Output');
        builder.Append('VariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"TotalTaxableInvAmtWOContract"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Activit');
        builder.Append('yType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Th');
        builder.Append('an","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}},"RHS":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityTy');
        builder.Append('pe":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Conditi');
        builder.Append('on":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAm');
        builder.Append('ount","OutputValue":{"Type":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Opera');
        builder.Append('tor":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contr');
        builder.Append('act Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity');
        builder.Append('":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('olumn","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"TotalTaxableInvAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Activ');
        builder.Append('ityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Co');
        builder.Append('nstant","Value":"0"}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is G');
        builder.Append('reater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"');
        builder.Append('ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}}],"Els');
        builder.Append('eIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName"');
        builder.Append(':"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":');
        builder.Append('"TaxableAmountExclApplied"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"T');
        builder.Append('DSAmount","Expression":"TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"TokenName":"TDSTax');
        builder.Append('ableAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableA');
        builder.Append('mount"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreSurchargeBaseAmt","O');
        builder.Append('utputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName"');
        builder.Append(':"Surcharge Base Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchas');
        builder.Append('e Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","Filter');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldNa');
        builder.Append('me":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterField');
        builder.Append('Name":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"AccountingDateFilter"}}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activ');
        builder.Append('ity":{"VariableName":"TotalSurchargeBaseAmt","Expression":"PreSurchargeBaseAmt+TDSAmount","Tokens":[');
        builder.Append('{"TokenName":"PreSurchargeBaseAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"PreSurchargeBaseAmt"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Variable","VariableName":"TDSAmount"}}}]}},{"ActivityType":"IFSTATEMENT","Activity');
        builder.Append('":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Tabl');
        builder.Append('e","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldN');
        builder.Append('ame":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFieldName":"TDS Sect');
        builder.Append('ion","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Surcharge Overlook","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","');
        builder.Append('Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" "');
        builder.Append(',"ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmou');
        builder.Append('ntLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshol');
        builder.Append('d Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ');
        builder.Append('","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalIn');
        builder.Append('vAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Thr');
        builder.Append('eshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Surcharg');
        builder.Append('eBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalSurc');
        builder.Append('hargeBaseAmt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity');
        builder.Append('":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}],"Els');
        builder.Append('eIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName"');
        builder.Append(':"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":');
        builder.Append('"TDSAmount"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TDSAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{');
        builder.Append('"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableN');
        builder.Append('ame":"TDSTaxableAmount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIAB');
        builder.Append('LE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}}],"ElseIf":{"Condition":{"B');
        builder.Append('ody":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","Output');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}}]}}}]');
        builder.Append(',"PostingVariables":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"Name":"TDSIncludingSurchar');
        builder.Append('ge","Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":"PaymentAmt","Datatype":"');
        builder.Append('Number"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","Datatype":"Number"},{"Nam');
        builder.Append('e":"PerContract","Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"Invoice');
        builder.Append('Amount","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEnd');
        builder.Append('Date","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TDSPer","Datat');
        builder.Append('ype":"Number"},{"Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPer","Datatype":"Number"},{');
        builder.Append('"Name":"SHECessPer","Datatype":"Number"},{"Name":"VendorNo","Datatype":"String"}],"PostingScript":[{');
        builder.Append('"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expression":"{T');
        builder.Append('DS}+{Surcharge}+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Surc');
        builder.Append('harge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"');
        builder.Append('}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Component');
        builder.Append('Name":"TDS"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSurcha');
        builder.Append('rge","Expression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ActivityType"');
        builder.Append(':"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date"');
        builder.Append(',"Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounti');
        builder.Append('ng Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax T');
        builder.Append('ype","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Le');
        builder.Append('ss Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Pur');
        builder.Append('chase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Do');
        builder.Append('cument Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purch');
        builder.Append('ase Line","FieldName":"Document No."}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"');
        builder.Append('OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table');
        builder.Append('","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":');
        builder.Append('[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilt');
        builder.Append('ers":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Cons');
        builder.Append('tant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Cons');
        builder.Append('tant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFi');
        builder.Append('eldName":"Posting Date","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Pur');
        builder.Append('chase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":');
        builder.Append('"Document No."}}}]}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"Acco');
        builder.Append('untingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatStrin');
        builder.Append('g":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Fiscal');
        builder.Append('YearStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"ActivityType":"SETVARIAB');
        builder.Append('LE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"First","TableFilters');
        builder.Append('":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-to Vendor No."}}},{"FiterFie');
        builder.Append('ldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee');
        builder.Append(' Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes",');
        builder.Append('"AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},');
        builder.Append('{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"In');
        builder.Append('voice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmt","OutputVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Paymen');
        builder.Append('t Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fiel');
        builder.Append('dName":"Pay-to Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Sect');
        builder.Append('ion Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Postin');
        builder.Append('g Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity"');
        builder.Append(':{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens":[{"TokenName":"InvoiceA');
        builder.Append('mt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmt"}}},{');
        builder.Append('"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt",');
        builder.Append('"Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"TokenName":"{In');
        builder.Append('vAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}');
        builder.Append('}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType"');
        builder.Append(':"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","');
        builder.Append('Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Pay-');
        builder.Append('to Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code');
        builder.Append('"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","');
        builder.Append('Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Ac');
        builder.Append('tivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Colu');
        builder.Append('mn","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"');
        builder.Append('Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":');
        builder.Append('"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"A');
        builder.Append('ctivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less');
        builder.Append(' Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityTyp');
        builder.Append('e":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than",');
        builder.Append('"LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVA');
        builder.Append('RIABLE","Activity":{"OutputVariableName":"PerContract","OutputValue":{"Type":"Constant","Value":"tru');
        builder.Append('e"}}}]}}]}}]}}]}}]}}],"Components":[{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"Var');
        builder.Append('iableName":"","Expression":"TDSAmount+SurchargeAmount+ECessAmount+SHECessAmount","Tokens":[{"TokenNa');
        builder.Append('me":"ECessAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"');
        builder.Append('eCESS"}}},{"TokenName":"SHECessAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Compone');
        builder.Append('nt","ComponentName":"SHE Cess "}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ComponentName":"TD');
        builder.Append('S Base Amount","Sequence":6,"Formula":{"VariableName":"","Expression":"TDSBaseAmount","Tokens":[{"To');
        builder.Append('kenName":"TDSBaseAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"TDSBaseAmt"}}}]}},{"ComponentName":"TDS","Sequence":1,"Formula":{"VariableName":"","Expression"');
        builder.Append(':"TDSTaxableAmount*TDSPercent/100","Tokens":[{"TokenName":"TDSPercent","TokenValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"TokenName":"TDSTaxableAmount"');
        builder.Append(',"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}');
        builder.Append('}]}},{"ComponentName":"eCESS","Sequence":3,"Formula":{"VariableName":"","Expression":"(TDSAmount+Sur');
        builder.Append('chargeAmount)*EcessPercent/100","Tokens":[{"TokenName":"EcessPercent","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"TokenName":"SurchargeAmount"');
        builder.Append(',"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"T');
        builder.Append('okenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentNam');
        builder.Append('e":"TDS"}}}]}},{"ComponentName":"Surcharge","Sequence":2,"Formula":{"VariableName":"","Expression":"');
        builder.Append('SurchargeTaxableAmount*SurchargePercent/100","Tokens":[{"TokenName":"SurchargePercent","TokenValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"TokenNa');
        builder.Append('me":"SurchargeTaxableAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"SurchargeBaseAmt"}}}]}},{"ComponentName":"SHE Cess ","Sequence":4,"Formula":{"VariableName"');
        builder.Append(':"","Expression":"(TDSAmount+SurchargeAmount)*SHECessPercent/100","Tokens":[{"TokenName":"SHECessPer');
        builder.Append('cent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE ');
        builder.Append('Cess "}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Compo');
        builder.Append('nent","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Component","ComponentName":"TDS"}}}]}}],"Condition":{"Body":[{"Operator":" ","Condit');
        builder.Append('ionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldN');
        builder.Append('ame":"Document Type"}},"RHS":{"Type":"Constant","Value":"Order"}},{"Operator":"or","ConditionType":"');
        builder.Append('Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Docu');
        builder.Append('ment Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}},{"Operator":"and","ConditionType":"Equals"');
        builder.Append(',"LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"P.A.N. Status","Method');
        builder.Append('":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor ');
        builder.Append('No."}}}]}},"RHS":{"Type":"Constant","Value":" "}},{"Operator":"and","ConditionType":"Not Equals","LH');
        builder.Append('S":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"P.A.N. No.","Method":"Firs');
        builder.Append('t","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}}');
        builder.Append(']}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup"');
        builder.Append(':{"SourceType":"Table","TableName":"TDS Concessional Code","TableFieldName":"Concessional Code","Met');
        builder.Append('hod":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-fr');
        builder.Append('om Vendor No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}');
        builder.Append(']}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}},"RH');
        builder.Append('S":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Purchase Line","FieldName":"Work Tax Nature Of Deduction"}},"R');
        builder.Append('HS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"Sou');
        builder.Append('rceType":"Table","TableName":"Allowed Sections","TableFieldName":"Non Resident Payments","Method":"F');
        builder.Append('irst","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-from Vendo');
        builder.Append('r No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}}}]}},');
        builder.Append('"RHS":{"Type":"Constant","Value":"true"}}]},"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","');
        builder.Append('TableName":"TDS Posting Setup","AccountSourceType":"Field","FieldName":"TDS Account","AccountingImpa');
        builder.Append('ct":"Credit","ReverseCharge":false,"ReverseAccountSourceType":"Field","ReverseChargeFieldName":"","W');
        builder.Append('hen":[{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Cons');
        builder.Append('tant","Value":""}}]},"ValueType":"Insert Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger');
        builder.Append('":true,"RecordVariable":"","SubLedgerGrpBy":"Component","InsertRecordFields":[{"FieldName":"Vendor N');
        builder.Append('o.","Sequence":4,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Purchase Line","FieldName":"Buy-from Vendor No."}}},{"FieldName":"T.A.N. No.","Seque');
        builder.Append('nce":5,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Attrib');
        builder.Append('uteName":"TAN No."}}},{"FieldName":"Section","Sequence":6,"ReverseSign":false,"Lookup":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Cod');
        builder.Append('e"}}},{"FieldName":"Assessee Code","Sequence":7,"ReverseSign":false,"Lookup":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FieldName":"TDS Base Amount",');
        builder.Append('"Sequence":8,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Compo');
        builder.Append('nentName":"TDS Base Amount"}}},{"FieldName":"TDS %","Sequence":9,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"FieldName":"TDS Amo');
        builder.Append('unt","Sequence":10,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component",');
        builder.Append('"ComponentName":"TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":false,"Lookup":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"FieldName":"');
        builder.Append('Surcharge Amount","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Component","ComponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSign":false');
        builder.Append(',"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"F');
        builder.Append('ieldName":"eCess Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Component","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"ReverseSign"');
        builder.Append(':false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Ces');
        builder.Append('s "}}},{"FieldName":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional Code","Se');
        builder.Append('quence":17,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","At');
        builder.Append('tributeName":"Concessional Code"}}},{"FieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{"F');
        builder.Append('ieldName":"Non Resident Payments","Sequence":35,"ReverseSign":false,"Lookup":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"Non Resident Payments","Me');
        builder.Append('thod":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Buy-fr');
        builder.Append('om Vendor No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"TDS Section Code');
        builder.Append('"}}}]}}},{"FieldName":"Nature of Remittance","Sequence":19,"ReverseSign":false,"Lookup":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Nature of Remi');
        builder.Append('ttance"}}},{"FieldName":"Act Applicable","Sequence":20,"ReverseSign":false,"Lookup":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Act Applicable"}}}');
        builder.Append(',{"FieldName":"Invoice Amount","Sequence":25,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}},{"FieldName":"Pos');
        builder.Append('ting Date","Sequence":3,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table"');
        builder.Append(',"TableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"Fi');
        builder.Append('terFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":');
        builder.Append('"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Purchase Line","FieldName":"Document No."}}}]}}},{"FieldName":"Document Type","Sequence"');
        builder.Append(':26,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"Invoice"}},{"FieldName":"Document No.",');
        builder.Append('"Sequence":2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","P');
        builder.Append('ostingVariableName":"Posted Document No."}}},{"FieldName":"Account Type","Sequence":23,"ReverseSign"');
        builder.Append(':false,"Lookup":{"Type":"Constant","Value":"G/L Account"}},{"FieldName":"Account No.","Sequence":24,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Postin');
        builder.Append('g Setup","TableFieldName":"TDS Account","Method":"First","TableFilters":[{"FiterFieldName":"TDS Sect');
        builder.Append('ion","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Purchase Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","Filt');
        builder.Append('erType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","T');
        builder.Append('ableName":"Purchase Header","TableFieldName":"Posting Date","Method":"First","TableFilters":[{"Fiter');
        builder.Append('FieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Purchase Line","FieldName":"Document Type"}}},{"FiterFieldName":"No');
        builder.Append('.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Purchase Line","FieldName":"Document No."}}}]}}}]}}},{"FieldName":"Country Code","Sequence"');
        builder.Append(':37,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Attribute');
        builder.Append('Name":"Country Code"}}},{"FieldName":"Source Code","Sequence":28,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Constant","Value":"PURCHASES"}},{"FieldName":"TDS Amount Including Surcharge","Sequence":22,"Reve');
        builder.Append('rseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSInclud');
        builder.Append('ingSurcharge"}}},{"FieldName":"Bal. TDS Including SHE CESS","Sequence":29,"ReverseSign":false,"Looku');
        builder.Append('p":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"Fiel');
        builder.Append('dName":"Remaining Surcharge Amount","Sequence":31,"ReverseSign":false,"Lookup":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"Remaining TDS Amount","S');
        builder.Append('equence":44,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Compon');
        builder.Append('entName":"TDS"}}},{"FieldName":"TDS Line Amount","Sequence":45,"ReverseSign":false,"Lookup":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Amount"}}}');
        builder.Append(',{"FieldName":"Total TDS Including SHE CESS","Sequence":21,"ReverseSign":false,"Lookup":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Component","ComponentName":"Total TDS Amount"}}},{"FieldName":"Per Cont');
        builder.Append('ract","Sequence":41,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"PerContract"}}},{"FieldName":"User ID","Sequence":30,"ReverseSign":false,"Lookup":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Database","DatabaseVariableName":"UserId"}}},{"FieldName":"Tr');
        builder.Append('ansaction No.","Sequence":40,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"P');
        builder.Append('osting Field","PostingVariableName":"G/L Entry Transaction No."}}},{"FieldName":"Original TDS Base A');
        builder.Append('mount","Sequence":27,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component');
        builder.Append('","ComponentName":"TDS Base Amount"}}},{"FieldName":"Currency Code","Sequence":38,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","Fie');
        builder.Append('ldName":"Currency Code"}}},{"FieldName":"Currency Factor","Sequence":39,"ReverseSign":false,"Lookup"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Purchase Header","TableFieldName":"Cur');
        builder.Append('rency Factor","Method":"First","TableFilters":[{"FiterFieldName":"Document Type","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line');
        builder.Append('","FieldName":"Document Type"}}},{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Purchase Line","FieldName":"Document ');
        builder.Append('No."}}}]}}},{"FieldName":"Surcharge Base Amount","Sequence":43,"ReverseSign":false,"Lookup":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}},{"FieldName":"G/L Entry No.","S');
        builder.Append('equence":1,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","Pos');
        builder.Append('tingVariableName":"G/L Entry No."}}}]}}]}],"AttachedEvents":[{"EventName":"CallTaxEngineOnPurchaseLi');
        builder.Append('ne","Enabled":true,"Sequence":0},{"EventName":"OnAfterUpdatePurchUnitPrice","Enabled":true,"Sequence');
        builder.Append('":0}]},{"Description":"Calculation of Tax Deduction at Source with Provisional Entry through General');
        builder.Append(' Journal for Vendors.\n","TaxType":"TDS","Code":"","TaxEntity":"Gen. Journal Line","ParentUseCase":"');
        builder.Append('","PresentationOrder":222,"Indent":0,"PostingTableName":"TDS Posting Setup","PostingTableFilters":[]');
        builder.Append(',"Attributes":[{"Name":"TAN No.","When":[{"ValueType":"Relation","Relation":{"TableName":"Gen. Journ');
        builder.Append('al Line","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNa');
        builder.Append('me":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Li');
        builder.Append('ne No."}}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Batc');
        builder.Append('h Name"}}}]}}]},{"Name":"Section Code","When":[{"ValueType":"Relation","Relation":{"TableName":"Gen.');
        builder.Append(' Journal Line","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","F');
        builder.Append('ieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNam');
        builder.Append('e":"Line No."}}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journa');
        builder.Append('l Batch Name"}}}]}}]},{"Name":"Assessee Code","When":[{"ValueType":"Relation","Relation":{"TableName');
        builder.Append('":"Vendor","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"');
        builder.Append('}}}]}}]}],"RateColumns":[{"Name":"Effective Date","When":[{"ValueType":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}]}],"ComputationVari');
        builder.Append('ables":[],"ComputationScript":[],"PostingVariables":[],"PostingScript":[],"Components":[],"Condition');
        builder.Append('":{"Body":[]},"TaxPostingSetup":[],"AttachedEvents":[]},{"Description":"Calculation of Tax Deduction');
        builder.Append(' at Source with Provisional Entry through Purchase Journal for Vendor where  PAN No. is specified wi');
        builder.Append('thout Concessional Codes.","TaxType":"TDS","Code":"","TaxEntity":"Gen. Journal Line","ParentUseCase"');
        builder.Append(':"Calculation of Tax Deduction at Source with Provisional Entry through General Journal for Vendors.');
        builder.Append('\n","PresentationOrder":223,"Indent":1,"PostingTableName":"TDS Posting Setup","PostingTableFilters":');
        builder.Append('[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterF');
        builder.Append('ieldName":"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}');
        builder.Append('],"Attributes":[{"Name":"PAN No.","When":[{"ValueType":"Relation","Relation":{"TableName":"Vendor","');
        builder.Append('TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}}]}}]}],"R');
        builder.Append('ateColumns":[{"Name":"Effective Date","When":[{"ValueType":"Lookup","Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}]}],"ComputationVariables":[{"Na');
        builder.Append('me":"TotalAmount","Datatype":"Number"},{"Name":"TDSTaxableAmount","Datatype":"Number"},{"Name":"Surc');
        builder.Append('hargeBaseAmt","Datatype":"Number"},{"Name":"TDSAmount","Datatype":"Number"},{"Name":"PrevInvAmountLC');
        builder.Append('Y","Datatype":"Number"},{"Name":"PrevInvAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Dataty');
        builder.Append('pe":"Number"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"PreviousContractAmount","Datatyp');
        builder.Append('e":"Number"},{"Name":"TotalInvAmountLCY","Datatype":"Number"},{"Name":"TotalInvAmount","Datatype":"N');
        builder.Append('umber"},{"Name":"TotalInvAmtWOContractLCY","Datatype":"Number"},{"Name":"TotalInvAmtWOContract","Dat');
        builder.Append('atype":"Number"},{"Name":"PreSurchargeBaseAmt","Datatype":"Number"},{"Name":"TotalSurchargeBaseAmt",');
        builder.Append('"Datatype":"Number"},{"Name":"PositiveAmount","Datatype":"Number"},{"Name":"PositiveAmountLCY","Data');
        builder.Append('type":"Number"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"');
        builder.Append('Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"Str');
        builder.Append('ing"},{"Name":"TotalCurrAmountLCY","Datatype":"Number"},{"Name":"PositiveTotalCurrAmountLCY","Dataty');
        builder.Append('pe":"Number"},{"Name":"AppliedAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmount","Datatype');
        builder.Append('":"Number"},{"Name":"TotalTaxableInvAmtWOContract","Datatype":"Number"},{"Name":"BatchAmountLCY","Da');
        builder.Append('tatype":"Number"},{"Name":"BatchPaymentAmountLCY","Datatype":"Number"},{"Name":"BatchInvoiceAmountLC');
        builder.Append('Y","Datatype":"Number"},{"Name":"PositiveAmtExclGST","Datatype":"Number"},{"Name":"TaxableAmountExcl');
        builder.Append('Applied","Datatype":"Number"}],"ComputationScript":[{"ActivityType":"COMMENT","Activity":{"Comment":');
        builder.Append('"Converted Current Line''s amount and amount (LCY) to positive amount"}},{"ActivityType":"IFSTATEMENT');
        builder.Append('","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}},"RHS":{"Type":"C');
        builder.Append('onstant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"Posi');
        builder.Append('tiveAmount","Expression":"0-Amount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}]}},{"A');
        builder.Append('ctivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PositiveAmountLCY","Expression":"0-Amou');
        builder.Append('ntLCY","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]}}],"ElseIf":{"Condition":');
        builder.Append('{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount",');
        builder.Append('"OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"Amount"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Positive');
        builder.Append('AmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. ');
        builder.Append('Journal Line","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Conditio');
        builder.Append('n":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}},"RHS":{"Type":"Constant","Val');
        builder.Append('ue":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PositiveAmt');
        builder.Append('ExclGST","Operator":"Minus","LHS":{"Type":"Constant","Value":""},"RHS":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}}}}],"Els');
        builder.Append('eIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName"');
        builder.Append(':"PositiveAmtExclGST","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Gen. Journal Line","FieldName":"Amount Excl. GST"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activ');
        builder.Append('ity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"PositiveAmtExclGST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{');
        builder.Append('"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount","OutputValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}}}},{"ActivityType":');
        builder.Append('"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}}}}]}},{"ActivityType":"COMMENT"');
        builder.Append(',"Activity":{"Comment":"Created string for current financial year"}},{"ActivityType":"SETVARIABLE","');
        builder.Append('Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last"');
        builder.Append(',"TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Meth');
        builder.Append('od":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"F');
        builder.Append('irst","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equal');
        builder.Append('s To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","Fi');
        builder.Append('lterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"Outpu');
        builder.Append('tVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Ta');
        builder.Append('bleName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"Fi');
        builder.Append('terFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFil');
        builder.Append('ters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":');
        builder.Append('[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant"');
        builder.Append(',"Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant"');
        builder.Append(',"Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","F');
        builder.Append('ieldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName"');
        builder.Append(':"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","Forma');
        builder.Append('tString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('FiscalYearEndDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}}]}},{"ActivityType":"COM');
        builder.Append('MENT","Activity":{"Comment":"Total posted Invoice amount"}},{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table"');
        builder.Append(',"TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFie');
        builder.Append('ldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"Section');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeNa');
        builder.Append('me":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterField');
        builder.Append('Name":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}');
        builder.Append('},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted Payment amount"}},{"ActivityType":"S');
        builder.Append('ETVARIABLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Method":"Sum","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"Fi');
        builder.Append('terFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName"');
        builder.Append(':"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax At');
        builder.Append('tributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filt');
        builder.Append('er","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateF');
        builder.Append('ilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","');
        builder.Append('Value":"Payment"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Sum of posted payment and i');
        builder.Append('nvoice amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PrevInvAmountLCY","');
        builder.Append('Expression":"PostedInvoiceAmount+PostedPaymentAmount","Tokens":[{"TokenName":"PostedInvoiceAmount","');
        builder.Append('TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmount"}}},{"T');
        builder.Append('okenName":"PostedPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Var');
        builder.Append('iableName":"PaymentAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted contr');
        builder.Append('act amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreviousContractAmount');
        builder.Append('","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldN');
        builder.Append('ame":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"Party Code"}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName');
        builder.Append('":"TDS Section Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFiel');
        builder.Append('dName":"Per Contract","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}}}},{');
        builder.Append('"ActivityType":"COMMENT","Activity":{"Comment":"Total Posted amount without contract amount"}},{"Act');
        builder.Append('ivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmtWOContractLCY","Expression":"T');
        builder.Append('otalPostedAmount-PostedContractAmount","Tokens":[{"TokenName":"PostedContractAmount","TokenValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenN');
        builder.Append('ame":"TotalPostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"TotalInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Payment Amount ');
        builder.Append('on current batch"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchPaymentAmou');
        builder.Append('ntLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Gen. Journal Line"');
        builder.Append(',"TableFieldName":"Amount (LCY)","Method":"Sum","TableFilters":[{"FiterFieldName":"Journal Template ');
        builder.Append('Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","');
        builder.Append('FilterType":"Not Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Document Type","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}},{"FiterFieldName":"Journal Batch Name');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Gen. Journal Line","FieldName":"Journal Batch Name"}}},{"FiterFieldName":"Party Type","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Constant","Value":"Vendor"}},{"FiterFieldName":"Party Code","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"TDS Section Code","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. ');
        builder.Append('Journal Line","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment"');
        builder.Append(':"Total Invoice Amount on current batch"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariable');
        builder.Append('Name":"BatchInvoiceAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableNa');
        builder.Append('me":"Gen. Journal Line","TableFieldName":"Amount (LCY)","Method":"Sum","TableFilters":[{"FiterFieldN');
        builder.Append('ame":"Journal Template Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"Fiter');
        builder.Append('FieldName":"Line No.","FilterType":"Not Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Docu');
        builder.Append('ment Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}},{"FiterFieldNa');
        builder.Append('me":"Journal Batch Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Batch Name"}}},{"FiterFieldNa');
        builder.Append('me":"Party Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"Party Type"}}},{"FiterFieldName":"Party Code"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"TDS Section Code","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity');
        builder.Append('":{"OutputVariableName":"BatchInvoiceAmountLCY","Operator":"Minus","LHS":{"Type":"Constant","Value":');
        builder.Append('"0"},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchInvoiceAmountLCY"');
        builder.Append('}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Batch amount including Current Line Amou');
        builder.Append('nt"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"BatchAmountLCY","Expression":"');
        builder.Append('BatchPaymentAmount+BatchInvoiceAmount+AmountLCY","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}}},{"TokenName":"');
        builder.Append('BatchInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('BatchInvoiceAmountLCY"}}},{"TokenName":"BatchPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"BatchPaymentAmountLCY"}}}]}},{"ActivityType":"IFSTATEMENT","');
        builder.Append('Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Posting to G/L"}},"RHS":{"Type"');
        builder.Append(':"Constant","Value":"true"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName');
        builder.Append('":"BatchAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('PositiveAmountLCY"}}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAm');
        builder.Append('ountLCY","Expression":"PostedAmountLCY+BatchAmountLCY","Tokens":[{"TokenName":"BatchAmountLCY","Toke');
        builder.Append('nValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchAmountLCY"}}},{"Toke');
        builder.Append('nName":"PostedAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"PrevInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Amount from ');
        builder.Append('LCY to FCY"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condit');
        builder.Append('ionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line"');
        builder.Append(',"FieldName":"Currency Code"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMB');
        builder.Append('ERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmount","Operator":"Multiply By","LHS":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency');
        builder.Append(' Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmtWOCont');
        builder.Append('ract","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"TotalInvAmtWOContractLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Gen. Journal Line","FieldName":"Currency Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Ac');
        builder.Append('tivity":{"OutputVariableName":"PrevInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}}],"ElseI');
        builder.Append('f":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"');
        builder.Append('TotalInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Tot');
        builder.Append('alInvAmountLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmtWOCon');
        builder.Append('tract","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtW');
        builder.Append('OContractLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PrevInvAmount","Ou');
        builder.Append('tputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}}]');
        builder.Append('}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Get applied amount"}},{"ActivityType":"IFSTATEM');
        builder.Append('ENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type');
        builder.Append('":"Constant","Value":"Invoice"}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"B');
        builder.Append('ody":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"Applies-to Doc. Type"}},"RHS":{"Type":"Constant","Value":"Pay');
        builder.Append('ment"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record');
        builder.Append('","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. No."}},"RHS":{"Type":"Constant","Valu');
        builder.Append('e":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount","Ou');
        builder.Append('tputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","TableF');
        builder.Append('ieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName":"Document No.","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Ge');
        builder.Append('n. Journal Line","FieldName":"Applies-to Doc. No."}}},{"FiterFieldName":"TDS Section Code","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"TDS Section Code"}}}]}}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{');
        builder.Append('"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Applies-to ID"}},"RHS":{"Type":"Constant",');
        builder.Append('"Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount');
        builder.Append('","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","T');
        builder.Append('ableFieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName":"Applies-to ID","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Gen. Journal Line","FieldName":"Applies-to ID"}}},{"FiterFieldName":"TDS Section Code","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"TDS Section Code"}}}]}}}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity');
        builder.Append('":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"AppliedAmount"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable');
        builder.Append('","VariableName":"PositiveAmount"}}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"Vari');
        builder.Append('ableName":"TaxableAmountExclApplied","Expression":"Amount-AppliedAmount","Tokens":[{"TokenName":"Amo');
        builder.Append('unt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"');
        builder.Append('}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"AppliedAmount"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVAR');
        builder.Append('IABLE","Activity":{"OutputVariableName":"TaxableAmountExclApplied","OutputValue":{"Type":"Constant",');
        builder.Append('"Value":"0"}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount"}},{"Activi');
        builder.Append('tyType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmount","Expression":"(Posted');
        builder.Append('Amount+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName"');
        builder.Append(':"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Prev');
        builder.Append('InvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount excluding pos');
        builder.Append('ted contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableI');
        builder.Append('nvAmtWOContract","Expression":"((PostedAmount-ContractAmt)+Amount)-AppliedAmount","Tokens":[{"TokenN');
        builder.Append('ame":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Positi');
        builder.Append('veAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"AppliedAmount"}}},{"TokenName":"ContractAmt","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"PostedAmount');
        builder.Append('","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]');
        builder.Append('}},{"ActivityType":"COMMENT","Activity":{"Comment":"Condition to calculate TDS Amount considering Th');
        builder.Append('reshold limit"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Con');
        builder.Append('ditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFiel');
        builder.Append('dName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","F');
        builder.Append('ieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS');
        builder.Append(' Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFS');
        builder.Append('TATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than Or Equals T');
        builder.Append('o","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityTy');
        builder.Append('pe":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS');
        builder.Append('":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant",');
        builder.Append('"Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ');
        builder.Append('","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalIn');
        builder.Append('vAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold');
        builder.Append(' Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmou');
        builder.Append('nt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxableInv');
        builder.Append('AmtWOContract"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"IFSTATEMENT","Activit');
        builder.Append('y":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"PositiveAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":');
        builder.Append('{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Act');
        builder.Append('ivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"');
        builder.Append('Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equ');
        builder.Append('als","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"C');
        builder.Append('onstant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Ope');
        builder.Append('rator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName"');
        builder.Append(':"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS ');
        builder.Append('Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTa');
        builder.Append('xableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalT');
        builder.Append('axableInvAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activ');
        builder.Append('ity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}]}}');
        builder.Append('}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":');
        builder.Append('{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","');
        builder.Append('Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]}');
        builder.Append(',"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}');
        builder.Append('}]}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSAmount","Expression":"TDSTa');
        builder.Append('xableAmt*TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Component Percent","ComponentName":"TDS"}}},{"TokenName":"TDSTaxableAmt","TokenValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ActivityType":');
        builder.Append('"SETVARIABLE","Activity":{"OutputVariableName":"PreSurchargeBaseAmt","OutputValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Surcharge Base Amount","Met');
        builder.Append('hod":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Part');
        builder.Append('y Code"}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"');
        builder.Append('FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","Filter');
        builder.Append('Type":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('AccountingDateFilter"}}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalS');
        builder.Append('urchargeBaseAmt","Expression":"PreSurchargeBaseAmt+TDSAmount","Tokens":[{"TokenName":"PreSurchargeBa');
        builder.Append('seAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreSurchargeB');
        builder.Append('aseAmt"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"TDSAmount"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Op');
        builder.Append('erator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sect');
        builder.Append('ions","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. ');
        builder.Append('Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","Fi');
        builder.Append('lterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line",');
        builder.Append('"FieldName":"TDS Section Code"}}},{"FiterFieldName":"Surcharge Overlook","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Ac');
        builder.Append('tivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less ');
        builder.Append('Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"A');
        builder.Append('ctivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Grea');
        builder.Append('ter Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body"');
        builder.Append(':[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalSurchargeBaseAmt"}}}}],"ElseIf');
        builder.Append('":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"S');
        builder.Append('urchargeBaseAmt","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}],"ElseIf":{"Condition":{"Body":');
        builder.Append('[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","Outpu');
        builder.Append('tValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}}],"Else');
        builder.Append('If":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":');
        builder.Append('"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('TDSAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","C');
        builder.Append('onditionType":"Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}},');
        builder.Append('"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVar');
        builder.Append('iableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"PositiveAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","A');
        builder.Append('ctivity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"V');
        builder.Append('ariable","VariableName":"TDSTaxableAmount"}}}}]}}}],"PostingVariables":[{"Name":"TDSIncludingSHECess');
        builder.Append('","Datatype":"Number"},{"Name":"TDSIncludingSurcharge","Datatype":"Number"},{"Name":"InvoiceAmt","Da');
        builder.Append('tatype":"Number"},{"Name":"PaymentAmt","Datatype":"Number"},{"Name":"TotalAmtLCY","Datatype":"Number');
        builder.Append('"},{"Name":"TotalInvAmt","Datatype":"Number"},{"Name":"PerContract","Datatype":"Boolean"},{"Name":"P');
        builder.Append('aymentAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"FiscalYearS');
        builder.Append('tartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateF');
        builder.Append('ilter","Datatype":"String"},{"Name":"TDSPer","Datatype":"Number"},{"Name":"SurchargePer","Datatype":');
        builder.Append('"Number"},{"Name":"ECessPer","Datatype":"Number"},{"Name":"SHECessPer","Datatype":"Number"}],"Postin');
        builder.Append('gScript":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expr');
        builder.Append('ession":"{TDS}+{Surcharge}+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","Tok');
        builder.Append('enValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenN');
        builder.Append('ame":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":');
        builder.Append('"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component"');
        builder.Append(',"ComponentName":"TDS"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncl');
        builder.Append('udingSurcharge","Expression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS');
        builder.Append('}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"Ac');
        builder.Append('tivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less ');
        builder.Append('Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Am');
        builder.Append('ount (LCY)"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","A');
        builder.Append('ctivity":{"VariableName":"TotalAmtLCY","Expression":"0-{Amt}","Tokens":[{"TokenName":"{Amt}","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Amount (LCY)"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE"');
        builder.Append(',"Activity":{"OutputVariableName":"TotalAmtLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityType');
        builder.Append('":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date');
        builder.Append('","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Account');
        builder.Append('ing Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax ');
        builder.Append('Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is L');
        builder.Append('ess Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","');
        builder.Append('Activity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","Ta');
        builder.Append('bleFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":');
        builder.Append('"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First');
        builder.Append('","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or');
        builder.Append(' Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen.');
        builder.Append(' Journal Line","FieldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"Ou');
        builder.Append('tputVariableName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName"');
        builder.Append(':"EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable"');
        builder.Append(',"VariableName":"FiscalYearStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableN');
        builder.Append('ame":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"A');
        builder.Append('ctivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method');
        builder.Append('":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Accou');
        builder.Append('nt No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"');
        builder.Append('FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","Filter');
        builder.Append('Type":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName');
        builder.Append('":"PaymentAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry"');
        builder.Append(',"TableFieldName":"Payment Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal ');
        builder.Append('Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}');
        builder.Append('},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NU');
        builder.Append('MERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Toke');
        builder.Append('ns":[{"TokenName":"InvoiceAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"InvoiceAmt"}}},{"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"V');
        builder.Append('ariableName":"TotalInvAmt","Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}}},{"TokenName":"{I');
        builder.Append('nvAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"');
        builder.Append('}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType');
        builder.Append('":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"Th');
        builder.Append('reshold Overlook","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal ');
        builder.Append('Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNa');
        builder.Append('me":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTAT');
        builder.Append('EMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Looku');
        builder.Append('p":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Ac');
        builder.Append('tivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"So');
        builder.Append('urceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"');
        builder.Append('Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType');
        builder.Append('":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"A');
        builder.Append('ctivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Grea');
        builder.Append('ter Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityTy');
        builder.Append('pe":"SETVARIABLE","Activity":{"OutputVariableName":"PerContract","OutputValue":{"Type":"Constant","V');
        builder.Append('alue":"true"}}}]}}]}}]}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Oper');
        builder.Append('ator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. ');
        builder.Append('Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Payment"}}]},"Body":[{');
        builder.Append('"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount');
        builder.Append('"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVa');
        builder.Append('riableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Gen. Journal Line","FieldName":"Amount"}}}}]}}}],"Components":[{"ComponentName":"TDS","S');
        builder.Append('equence":1,"Formula":{"VariableName":"","Expression":"TDSTaxableAmount*TDS/100","Tokens":[{"TokenNam');
        builder.Append('e":"TDS","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}},{');
        builder.Append('"TokenName":"TDSTaxableAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"TDSTaxableAmount"}}}]}},{"ComponentName":"Surcharge","Sequence":2,"Formula":{"VariableNam');
        builder.Append('e":"","Expression":"{TDSAmt}*{SurchargePer}/100","Tokens":[{"TokenName":"{SurchargePer}","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"Token');
        builder.Append('Name":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Sur');
        builder.Append('chargeBaseAmt"}}}]}},{"ComponentName":"eCESS","Sequence":3,"Formula":{"VariableName":"","Expression"');
        builder.Append(':"({TDSAmt}+{SurchargeAmt})*{EcessPer}/100","Tokens":[{"TokenName":"{EcessPer}","TokenValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"TokenName":"{Surch');
        builder.Append('argeAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharg');
        builder.Append('e"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Comp');
        builder.Append('onentName":"TDS"}}}]}},{"ComponentName":"TDS Base Amount","Sequence":6,"Formula":{"VariableName":"",');
        builder.Append('"Expression":"{TDSBaseAmt}","Tokens":[{"TokenName":"{TDSBaseAmt}","TokenValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"TDSBaseAmt"}}}]}},{"ComponentName":"Total TDS Amount",');
        builder.Append('"Sequence":5,"Formula":{"VariableName":"","Expression":"TDS+Surcharge+eCess+SheCess","Tokens":[{"Tok');
        builder.Append('enName":"eCess","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eC');
        builder.Append('ESS"}}},{"TokenName":"SheCess","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Com');
        builder.Append('ponentName":"SHE Cess "}}},{"TokenName":"Surcharge","TokenValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDS","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ComponentName":"SHE Cess ","Sequence":');
        builder.Append('4,"Formula":{"VariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{SheCessPer}/100","Tokens":[{');
        builder.Append('"TokenName":"{SheCessPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent",');
        builder.Append('"ComponentName":"SHE Cess "}}},{"TokenName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}}],"Condition":{"Body":[{"Op');
        builder.Append('erator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}},{"Operato');
        builder.Append('r":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. J');
        builder.Append('ournal Line","FieldName":"Provisional Entry"}},"RHS":{"Type":"Constant","Value":"true"}},{"Operator"');
        builder.Append(':"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFie');
        builder.Append('ldName":"P.A.N. Status","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal ');
        builder.Append('Line","FieldName":"Party Code"}}}]}},"RHS":{"Type":"Constant","Value":" "}},{"Operator":"and","Condi');
        builder.Append('tionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"');
        builder.Append('P.A.N. No.","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Field');
        builder.Append('Name":"Party Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Eq');
        builder.Append('uals","LHS":{"Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","TableFieldName":"Co');
        builder.Append('ncessional Code","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal ');
        builder.Append('Line","FieldName":"Party Code"}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equ');
        builder.Append('als","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Acc');
        builder.Append('ount Type"}},"RHS":{"Type":"Constant","Value":"G/L Account"}},{"Operator":"and","ConditionType":"Not');
        builder.Append(' Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Work T');
        builder.Append('ax Nature Of Deduction"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"E');
        builder.Append('quals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"S');
        builder.Append('ystem-Created Entry"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equa');
        builder.Append('ls","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Part');
        builder.Append('y Type"}},"RHS":{"Type":"Constant","Value":"Vendor"}}]},"TaxPostingSetup":[{"ComponentName":"Total T');
        builder.Append('DS Amount","TableName":"TDS Posting Setup","AccountSourceType":"Field","FieldName":"TDS Account","Ac');
        builder.Append('countingImpact":"Credit","ReverseCharge":false,"ReverseAccountSourceType":"Field","ReverseChargeFiel');
        builder.Append('dName":"","When":[{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}},"RH');
        builder.Append('S":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Provisional Entry"}},"RHS":{"T');
        builder.Append('ype":"Constant","Value":"true"}}]},"ValueType":"Insert Record","InsertRecord":{"TableName":"TDS Entr');
        builder.Append('y","RunTrigger":true,"RecordVariable":"","SubLedgerGrpBy":"Component","InsertRecordFields":[{"FieldN');
        builder.Append('ame":"Vendor No.","Sequence":4,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"FieldName":"T.A.N. No');
        builder.Append('.","Sequence":5,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes');
        builder.Append('","AttributeName":"TAN No."}}},{"FieldName":"Section","Sequence":6,"ReverseSign":false,"Lookup":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TD');
        builder.Append('S Section Code"}}},{"FieldName":"Assessee Code","Sequence":7,"ReverseSign":false,"Lookup":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FieldName":"TDS ');
        builder.Append('Base Amount","Sequence":8,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Comp');
        builder.Append('onent","ComponentName":"TDS Base Amount"}}},{"FieldName":"TDS %","Sequence":9,"ReverseSign":false,"L');
        builder.Append('ookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"FieldN');
        builder.Append('ame":"TDS Amount","Sequence":10,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Component","ComponentName":"TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":false,"');
        builder.Append('Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{');
        builder.Append('"FieldName":"Surcharge Amount","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"Rever');
        builder.Append('seSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"');
        builder.Append('eCESS"}}},{"FieldName":"eCess Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentN');
        builder.Append('ame":"SHE Cess "}}},{"FieldName":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Concessio');
        builder.Append('nal Code","Sequence":17,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax At');
        builder.Append('tributes","AttributeName":"Concessional Code"}}},{"FieldName":"Concessional Form No.","Sequence":37,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Conces');
        builder.Append('sional Code","TableFieldName":"Certificate No.","Method":"First","TableFilters":[{"FiterFieldName":"');
        builder.Append('Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"Section","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"TDS Section Code"}}}]}}},{"FieldName":"Deductee PAN No.","Sequence":1');
        builder.Append('8,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeNa');
        builder.Append('me":"PAN No."}}},{"FieldName":"Work Tax %","Sequence":32,"ReverseSign":false,"Lookup":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Component Percent","ComponentName":"Work Tax"}}},{"FieldName":"Work Tax A');
        builder.Append('mount","Sequence":34,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component');
        builder.Append('","ComponentName":"Work Tax"}}},{"FieldName":"Work Tax Base Amount","Sequence":33,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Constant","Value":"0.00"}},{"FieldName":"Invoice Amount","Sequence":25,"ReverseS');
        builder.Append('ign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Am');
        builder.Append('ount"}}},{"FieldName":"Posting Date","Sequence":3,"ReverseSign":false,"Lookup":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"');
        builder.Append('FieldName":"Document Type","Sequence":26,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}}},{"FieldNam');
        builder.Append('e":"Document No.","Sequence":2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Posting Field","PostingVariableName":"Posted Document No."}}},{"FieldName":"Account Type","Sequence');
        builder.Append('":23,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"G/L Account"}},{"FieldName":"Account N');
        builder.Append('o.","Sequence":45,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tabl');
        builder.Append('eName":"TDS Posting Setup","TableFieldName":"TDS Account","Method":"Last","TableFilters":[{"FiterFie');
        builder.Append('ldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"');
        builder.Append('Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}},{"Fiel');
        builder.Append('dName":"Party Type","Sequence":41,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"Vendor"}}');
        builder.Append(',{"FieldName":"Party Code","Sequence":24,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Table","TableName":"TDS Posting Setup","TableFieldName":"TDS Account","Method":"First","T');
        builder.Append('ableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code');
        builder.Append('"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Pos');
        builder.Append('ting Date"}}}]}}},{"FieldName":"Source Code","Sequence":28,"ReverseSign":false,"Lookup":{"Type":"Con');
        builder.Append('stant","Value":"PURCHASES"}},{"FieldName":"TDS Amount Including Surcharge","Sequence":22,"ReverseSig');
        builder.Append('n":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSur');
        builder.Append('charge"}}},{"FieldName":"Bal. TDS Including SHE CESS","Sequence":29,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName"');
        builder.Append(':"Remaining Surcharge Amount","Sequence":31,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"Remaining TDS Amount","Sequenc');
        builder.Append('e":43,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentNam');
        builder.Append('e":"TDS"}}},{"FieldName":"TDS Line Amount","Sequence":44,"ReverseSign":false,"Lookup":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}},{');
        builder.Append('"FieldName":"Total TDS Including SHE CESS","Sequence":21,"ReverseSign":false,"Lookup":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Per Contr');
        builder.Append('act","Sequence":39,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"PerContract"}}},{"FieldName":"User ID","Sequence":30,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Database","DatabaseVariableName":"UserId"}}},{"FieldName":"Tra');
        builder.Append('nsaction No.","Sequence":38,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Po');
        builder.Append('sting Field","PostingVariableName":"G/L Entry Transaction No."}}},{"FieldName":"Original TDS Base Am');
        builder.Append('ount","Sequence":27,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component"');
        builder.Append(',"ComponentName":"TDS Base Amount"}}},{"FieldName":"Payment Amount","Sequence":40,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}},{"Fi');
        builder.Append('eldName":"Surcharge Base Amount","Sequence":42,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Component","ComponentName":"TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"Reve');
        builder.Append('rseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName');
        builder.Append('":"G/L Entry No."}}}]}}]}],"AttachedEvents":[{"EventName":"CallTaxEngineOnGenJnlLine","Enabled":true');
        builder.Append(',"Sequence":0},{"EventName":"OnAfterGenJnlLineUpdated","Enabled":true,"Sequence":0}]},{"Description"');
        builder.Append(':"Calculation of Tax Deduction at Source with Provisional Entry through Purchase Journal for Vendor ');
        builder.Append('where both PAN No. and Concessional Codes are not specified.\n","TaxType":"TDS","Code":"","TaxEntity');
        builder.Append('":"Gen. Journal Line","ParentUseCase":"Calculation of Tax Deduction at Source with Provisional Entry');
        builder.Append(' through General Journal for Vendors.\n","PresentationOrder":224,"Indent":1,"PostingTableName":"TDS ');
        builder.Append('Posting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals');
        builder.Append(' To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"Posting Date"}}}],"Attributes":[],"RateColumns":[{"Name":"Effective Date","When');
        builder.Append('":[{"ValueType":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fi');
        builder.Append('eldName":"Posting Date"}}]}],"ComputationVariables":[{"Name":"TotalAmount","Datatype":"Number"},{"Na');
        builder.Append('me":"TDSTaxableAmount","Datatype":"Number"},{"Name":"SurchargeBaseAmt","Datatype":"Number"},{"Name":');
        builder.Append('"TDSAmount","Datatype":"Number"},{"Name":"PrevInvAmountLCY","Datatype":"Number"},{"Name":"PrevInvAmo');
        builder.Append('unt","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"PaymentAmount","Data');
        builder.Append('type":"Number"},{"Name":"PreviousContractAmount","Datatype":"Number"},{"Name":"TotalInvAmountLCY","D');
        builder.Append('atatype":"Number"},{"Name":"TotalInvAmount","Datatype":"Number"},{"Name":"TotalInvAmtWOContractLCY",');
        builder.Append('"Datatype":"Number"},{"Name":"TotalInvAmtWOContract","Datatype":"Number"},{"Name":"PreSurchargeBaseA');
        builder.Append('mt","Datatype":"Number"},{"Name":"TotalSurchargeBaseAmt","Datatype":"Number"},{"Name":"PositiveAmoun');
        builder.Append('t","Datatype":"Number"},{"Name":"PositiveAmountLCY","Datatype":"Number"},{"Name":"TDSBaseAmt","Datat');
        builder.Append('ype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatyp');
        builder.Append('e":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TotalCurrAmountLCY","Datatyp');
        builder.Append('e":"Number"},{"Name":"PositiveTotalCurrAmountLCY","Datatype":"Number"},{"Name":"AppliedAmount","Data');
        builder.Append('type":"Number"},{"Name":"TotalTaxableInvAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmtWOCo');
        builder.Append('ntract","Datatype":"Number"},{"Name":"BatchAmountLCY","Datatype":"Number"},{"Name":"BatchPaymentAmou');
        builder.Append('ntLCY","Datatype":"Number"},{"Name":"BatchInvoiceAmountLCY","Datatype":"Number"},{"Name":"PositiveAm');
        builder.Append('tExclGST","Datatype":"Number"},{"Name":"TaxableAmountExclApplied","Datatype":"Number"}],"Computation');
        builder.Append('Script":[{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Current Line''s amount and amount');
        builder.Append(' (LCY) to positive amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operat');
        builder.Append('or":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Amount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityT');
        builder.Append('ype":"NUMERICEXPRESSION","Activity":{"VariableName":"PositiveAmount","Expression":"0-Amount","Tokens');
        builder.Append('":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Gen. Journal Line","FieldName":"Amount"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity"');
        builder.Append(':{"VariableName":"PositiveAmountLCY","Expression":"0-AmountLCY","Tokens":[{"TokenName":"AmountLCY","');
        builder.Append('TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line"');
        builder.Append(',"FieldName":"Amount (LCY)"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVAR');
        builder.Append('IABLE","Activity":{"OutputVariableName":"PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}},{"ActivityType"');
        builder.Append(':"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}');
        builder.Append('}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType"');
        builder.Append(':"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Amount Excl. GST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERC');
        builder.Append('ALCULATION","Activity":{"OutputVariableName":"PositiveAmtExclGST","Operator":"Minus","LHS":{"Type":"');
        builder.Append('Constant","Value":""},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Ge');
        builder.Append('n. Journal Line","FieldName":"Amount Excl. GST"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Act');
        builder.Append('ivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmtExclGST","OutputValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amoun');
        builder.Append('t Excl. GST"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ",');
        builder.Append('"ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExc');
        builder.Append('lGST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"O');
        builder.Append('utputVariableName":"PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable"');
        builder.Append(',"VariableName":"PositiveAmtExclGST"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNa');
        builder.Append('me":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"PositiveAmtExclGST"}}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Created string for ');
        builder.Append('current financial year"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYear');
        builder.Append('StartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting');
        builder.Append(' Period","TableFieldName":"Starting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Typ');
        builder.Append('e Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableNa');
        builder.Append('me":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldNam');
        builder.Append('e":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Table');
        builder.Append('Name":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterField');
        builder.Append('Name":"Starting Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"Fi');
        builder.Append('terFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true');
        builder.Append('"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false');
        builder.Append('"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","OutputV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFiel');
        builder.Append('dName":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","Table');
        builder.Append('FieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","Ta');
        builder.Append('bleFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Yea');
        builder.Append('r","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Close');
        builder.Append('d","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Endin');
        builder.Append('g Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}}},{"Activity');
        builder.Append('Type":"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter","Expression":"{Star');
        builder.Append('tDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVariableName":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}},{"TokenName":"StartDa');
        builder.Append('te","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"FiscalYearStartDate"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted I');
        builder.Append('nvoice amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","Out');
        builder.Append('putValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"');
        builder.Append('Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"Party Code"}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS');
        builder.Append(' Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"P');
        builder.Append('osting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variab');
        builder.Append('le","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Co');
        builder.Append('mment":"Total posted Payment amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName');
        builder.Append('":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Ent');
        builder.Append('ry","TableFieldName":"Payment Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"Section","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal ');
        builder.Append('Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}');
        builder.Append('},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"CO');
        builder.Append('MMENT","Activity":{"Comment":"Sum of posted payment and invoice amount"}},{"ActivityType":"NUMERICEX');
        builder.Append('PRESSION","Activity":{"VariableName":"PrevInvAmountLCY","Expression":"PostedInvoiceAmount+PostedPaym');
        builder.Append('entAmount","Tokens":[{"TokenName":"PostedInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"InvoiceAmount"}}},{"TokenName":"PostedPaymentAmount","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}}]}},{"Activity');
        builder.Append('Type":"COMMENT","Activity":{"Comment":"Total posted contract amount"}},{"ActivityType":"SETVARIABLE"');
        builder.Append(',"Activity":{"OutputVariableName":"PreviousContractAmount","OutputValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","Table');
        builder.Append('Filters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"Fite');
        builder.Append('rFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"');
        builder.Append('Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Varia');
        builder.Append('ble","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Per Contract","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Constant","Value":"true"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comme');
        builder.Append('nt":"Total Posted amount without contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{');
        builder.Append('"VariableName":"TotalInvAmtWOContractLCY","Expression":"TotalPostedAmount-PostedContractAmount","Tok');
        builder.Append('ens":[{"TokenName":"PostedContractAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"PreviousContractAmount"}}},{"TokenName":"TotalPostedAmount","TokenValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}]}},{"ActivityTyp');
        builder.Append('e":"COMMENT","Activity":{"Comment":"Total Payment Amount on current batch"}},{"ActivityType":"SETVAR');
        builder.Append('IABLE","Activity":{"OutputVariableName":"BatchPaymentAmountLCY","OutputValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Table","TableName":"Gen. Journal Line","TableFieldName":"Amount (LCY)","Method":"');
        builder.Append('Sum","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Not Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Li');
        builder.Append('ne No."}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant",');
        builder.Append('"Value":"Payment"}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Jou');
        builder.Append('rnal Batch Name"}}},{"FiterFieldName":"Party Type","FilterType":"Equals","FilterValue":{"Type":"Cons');
        builder.Append('tant","Value":"Vendor"}},{"FiterFieldName":"Party Code","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party ');
        builder.Append('Code"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code');
        builder.Append('"}}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Invoice Amount on current batch"}},');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchInvoiceAmountLCY","OutputValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Gen. Journal Line","TableFieldName":"A');
        builder.Append('mount (LCY)","Method":"Sum","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Not Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"Line No."}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Constant","Value":"Invoice"}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equa');
        builder.Append('ls","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal');
        builder.Append(' Line","FieldName":"Journal Batch Name"}}},{"FiterFieldName":"Party Type","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","');
        builder.Append('FieldName":"Party Type"}}},{"FiterFieldName":"Party Code","FilterType":"Equals","FilterValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Part');
        builder.Append('y Code"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Co');
        builder.Append('de"}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"BatchInvoiceAmount');
        builder.Append('LCY","Operator":"Minus","LHS":{"Type":"Constant","Value":"0"},"RHS":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Variable","VariableName":"BatchInvoiceAmountLCY"}}}},{"ActivityType":"COMMENT","Activity":{');
        builder.Append('"Comment":"Total Batch amount including Current Line Amount"}},{"ActivityType":"NUMERICEXPRESSION","');
        builder.Append('Activity":{"VariableName":"BatchAmountLCY","Expression":"BatchPaymentAmount+BatchInvoiceAmount+Amoun');
        builder.Append('tLCY","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Varia');
        builder.Append('ble","VariableName":"PositiveAmountLCY"}}},{"TokenName":"BatchInvoiceAmount","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"BatchInvoiceAmountLCY"}}},{"TokenName":"Bat');
        builder.Append('chPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Bat');
        builder.Append('chPaymentAmountLCY"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator"');
        builder.Append(':" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"TDS Posting to G/L"}},"RHS":{"Type":"Constant","Value":"true"}}]},"Body":[{"Ac');
        builder.Append('tivityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchAmountLCY","OutputValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}}}}]}},{"ActivityType":"');
        builder.Append('NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmountLCY","Expression":"PostedAmountLCY+Batc');
        builder.Append('hAmountLCY","Tokens":[{"TokenName":"BatchAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"BatchAmountLCY"}}},{"TokenName":"PostedAmountLCY","TokenValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}]}},{"ActivityType');
        builder.Append('":"COMMENT","Activity":{"Comment":"Converted Amount from LCY to FCY"}},{"ActivityType":"IFSTATEMENT"');
        builder.Append(',"Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Code"}},"RHS":{"Type');
        builder.Append('":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableN');
        builder.Append('ame":"TotalInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variab');
        builder.Append('le","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}},{"ActivityType":"NUMBERCALCULA');
        builder.Append('TION","Activity":{"OutputVariableName":"TotalInvAmtWOContract","Operator":"Multiply By","LHS":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}},"RHS":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Cur');
        builder.Append('rency Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PrevInvAmoun');
        builder.Append('t","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":');
        builder.Append('"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"Currency Factor"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Activ');
        builder.Append('ityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmount","OutputValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}},{"ActivityType":"SETVAR');
        builder.Append('IABLE","Activity":{"OutputVariableName":"TotalInvAmtWOContract","OutputValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"SETVARIA');
        builder.Append('BLE","Activity":{"OutputVariableName":"PrevInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Variable","VariableName":"PrevInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activity":{"');
        builder.Append('Comment":"Get applied amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Ope');
        builder.Append('rator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen.');
        builder.Append(' Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}}]},"Body":[');
        builder.Append('{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equa');
        builder.Append('ls","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Appl');
        builder.Append('ies-to Doc. Type"}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType":"');
        builder.Append('Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNam');
        builder.Append('e":"Applies-to Doc. No."}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIA');
        builder.Append('BLE","Activity":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum",');
        builder.Append('"TableFilters":[{"FiterFieldName":"Document No.","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Do');
        builder.Append('c. No."}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Co');
        builder.Append('de"}}}]}}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condi');
        builder.Append('tionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"Applies-to ID"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SET');
        builder.Append('VARIABLE","Activity":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"');
        builder.Append('Sum","TableFilters":[{"FiterFieldName":"Applies-to ID","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies');
        builder.Append('-to ID"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Co');
        builder.Append('de"}}}]}}}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Co');
        builder.Append('nditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}');
        builder.Append('},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}]},"Bod');
        builder.Append('y":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TaxableAmountExclApplied","Expre');
        builder.Append('ssion":"Amount-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}}]}}],"ElseIf"');
        builder.Append(':{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Ta');
        builder.Append('xableAmountExclApplied","OutputValue":{"Type":"Constant","Value":"0"}}}]}}},{"ActivityType":"COMMENT');
        builder.Append('","Activity":{"Comment":"Total Taxable Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Va');
        builder.Append('riableName":"TotalTaxableInvAmount","Expression":"(PostedAmount+Amount)-AppliedAmount","Tokens":[{"T');
        builder.Append('okenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"P');
        builder.Append('ositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT",');
        builder.Append('"Activity":{"Comment":"Total Taxable Amount excluding posted contract amount"}},{"ActivityType":"NUM');
        builder.Append('ERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmtWOContract","Expression":"((PostedAmou');
        builder.Append('nt-ContractAmt)+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","');
        builder.Append('TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"T');
        builder.Append('okenName":"ContractAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"PreviousContractAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"C');
        builder.Append('omment":"Condition to calculate TDS Amount considering Threshold limit"}},{"ActivityType":"IFSTATEME');
        builder.Append('NT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"Sour');
        builder.Append('ceType":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[');
        builder.Append('{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName');
        builder.Append('":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Thresh');
        builder.Append('old Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Typ');
        builder.Append('e":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[');
        builder.Append('{"Operator":" ","ConditionType":"Is Less Than Or Equals To","LHS":{"Lookup":{"SourceType":"Variable"');
        builder.Append(',"VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateCol');
        builder.Append('umnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{');
        builder.Append('"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Column","RateCol');
        builder.Append('umnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFS');
        builder.Append('TATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{');
        builder.Append('"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETV');
        builder.Append('ARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"TotalTaxableInvAmtWOContract"}}}}],"ElseIf":{"Condition":{');
        builder.Append('"Body":[]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","C');
        builder.Append('onditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmo');
        builder.Append('untLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Valu');
        builder.Append('e"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","O');
        builder.Append('utputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclAppl');
        builder.Append('ied"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Outpu');
        builder.Append('tVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{');
        builder.Append('"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Column"');
        builder.Append(',"RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityT');
        builder.Append('ype":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityTy');
        builder.Append('pe":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmount"}}}}],"ElseIf":{"Condition"');
        builder.Append(':{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmoun');
        builder.Append('t","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operato');
        builder.Append('r":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"Pr');
        builder.Append('evInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Thres');
        builder.Append('hold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxable');
        builder.Append('Amount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmou');
        builder.Append('ntExclApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Act');
        builder.Append('ivity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","');
        builder.Append('Activity":{"VariableName":"TDSAmount","Expression":"TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenName"');
        builder.Append(':"TDSPer","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"');
        builder.Append('Non PAN TDS"}}},{"TokenName":"TDSTaxableAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"V');
        builder.Append('ariable","VariableName":"TDSTaxableAmount"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVa');
        builder.Append('riableName":"PreSurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tab');
        builder.Append('leName":"TDS Entry","TableFieldName":"Surcharge Base Amount","Method":"Sum","TableFilters":[{"FiterF');
        builder.Append('ieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"Secti');
        builder.Append('on","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Attribute');
        builder.Append('Name":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}}]}}}},{"Act');
        builder.Append('ivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalSurchargeBaseAmt","Expression":"PreS');
        builder.Append('urchargeBaseAmt+TDSAmount","Tokens":[{"TokenName":"PreSurchargeBaseAmt","TokenValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Variable","VariableName":"PreSurchargeBaseAmt"}}},{"TokenName":"TDSAmount"');
        builder.Append(',"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}]}},{"');
        builder.Append('ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":');
        builder.Append('"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account ');
        builder.Append('No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{');
        builder.Append('"FiterFieldName":"Surcharge Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value"');
        builder.Append(':"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity');
        builder.Append('":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Colum');
        builder.Append('n","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activit');
        builder.Append('y":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Ac');
        builder.Append('tivity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"TotalSurchargeBaseAmt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Ty');
        builder.Append('pe":"Constant","Value":"0"}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVAR');
        builder.Append('IABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body"');
        builder.Append(':[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}},{"ActivityType":');
        builder.Append('"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Look');
        builder.Append('up":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}},"RHS":{"Type":"Constant","Value":""');
        builder.Append('}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}}],"ElseIf":');
        builder.Append('{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDS');
        builder.Append('BaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxable');
        builder.Append('Amount"}}}}]}}}],"PostingVariables":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"Name":"TDS');
        builder.Append('IncludingSurcharge","Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":"PaymentA');
        builder.Append('mt","Datatype":"Number"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","Datatype"');
        builder.Append(':"Number"},{"Name":"PerContract","Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"Number"},');
        builder.Append('{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name');
        builder.Append('":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name"');
        builder.Append(':"TDSPer","Datatype":"Number"},{"Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPer","Datat');
        builder.Append('ype":"Number"},{"Name":"SHECessPer","Datatype":"Number"}],"PostingScript":[{"ActivityType":"NUMERICE');
        builder.Append('XPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expression":"{TDS}+{Surcharge}+{eCESS}+');
        builder.Append('{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Co');
        builder.Append('mponent","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Surcharge}","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}"');
        builder.Append(',"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}');
        builder.Append('},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSurcharge","Expression');
        builder.Append('":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ActivityType":"IFSTAT');
        builder.Append('EMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}},"RHS"');
        builder.Append(':{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"Variable');
        builder.Append('Name":"TotalAmtLCY","Expression":"0-{Amt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY');
        builder.Append(')"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Outpu');
        builder.Append('tVariableName":"TotalAmtLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityType":"SETVARIABLE","Ac');
        builder.Append('tivity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last","');
        builder.Append('TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method');
        builder.Append('":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"Fir');
        builder.Append('st","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equals ');
        builder.Append('To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal');
        builder.Append(' Line","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputV');
        builder.Append('ariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tabl');
        builder.Append('eName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"Fite');
        builder.Append('rFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilte');
        builder.Append('rs":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]');
        builder.Append('}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","');
        builder.Append('Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","');
        builder.Append('Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To","Filter');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"');
        builder.Append('AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatS');
        builder.Append('tring":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Fi');
        builder.Append('scalYearStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"ActivityType":"SETVA');
        builder.Append('RIABLE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"First","TableFil');
        builder.Append('ters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterF');
        builder.Append('ieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"As');
        builder.Append('sessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attrib');
        builder.Append('utes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilte');
        builder.Append('r"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Valu');
        builder.Append('e":"Invoice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmt","Out');
        builder.Append('putValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"');
        builder.Append('Payment Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName"');
        builder.Append(':"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equa');
        builder.Append('ls","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPRESSION","A');
        builder.Append('ctivity":{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens":[{"TokenName":"');
        builder.Append('InvoiceAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceA');
        builder.Append('mt"}}},{"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"Total');
        builder.Append('InvAmt","Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}}},{"TokenName":"{InvAmt}","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}}}]}},{"ActivityTy');
        builder.Append('pe":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"');
        builder.Append('Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"Threshold Overlook","');
        builder.Append('Method":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Co');
        builder.Append('de"}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{');
        builder.Append('"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"V');
        builder.Append('ariable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","Rate');
        builder.Append('ColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition');
        builder.Append('":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Column",');
        builder.Append('"RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityTy');
        builder.Append('pe":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","L');
        builder.Append('HS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTA');
        builder.Append('TEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"L');
        builder.Append('ookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","');
        builder.Append('Activity":{"OutputVariableName":"PerContract","OutputValue":{"Type":"Constant","Value":"true"}}}]}}]');
        builder.Append('}}]}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Conditio');
        builder.Append('nType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Payment"}}]},"Body":[{"ActivityType":"SET');
        builder.Append('VARIABLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}}],"ElseIf":{"C');
        builder.Append('ondition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Invoic');
        builder.Append('eAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jo');
        builder.Append('urnal Line","FieldName":"Amount"}}}}]}}}],"Components":[{"ComponentName":"Surcharge","Sequence":2,"F');
        builder.Append('ormula":{"VariableName":"","Expression":"{TDSAmt}*{SurchargePer}/100","Tokens":[{"TokenName":"{Surch');
        builder.Append('argePer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"');
        builder.Append('Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable');
        builder.Append('","VariableName":"SurchargeBaseAmt"}}}]}},{"ComponentName":"eCESS","Sequence":3,"Formula":{"Variable');
        builder.Append('Name":"","Expression":"({TDSAmt}+{SurchargeAmt})*{EcessPer}/100","Tokens":[{"TokenName":"{EcessPer}"');
        builder.Append(',"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}}');
        builder.Append(',{"TokenName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Com');
        builder.Append('ponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"TDS Base Amount","Sequence":6,');
        builder.Append('"Formula":{"VariableName":"","Expression":"{TDSBaseAmt}","Tokens":[{"TokenName":"{TDSBaseAmt}","Toke');
        builder.Append('nValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSBaseAmt"}}}]}},{"Compo');
        builder.Append('nentName":"SHE Cess ","Sequence":4,"Formula":{"VariableName":"","Expression":"({TDSAmt}+{SurchargeAm');
        builder.Append('t})*{SheCessPer}/100","Tokens":[{"TokenName":"{SheCessPer}","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Component Percent","ComponentName":"SHE Cess "}}},{"TokenName":"{SurchargeAmt}","Token');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenNam');
        builder.Append('e":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non ');
        builder.Append('PAN TDS"}}}]}},{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Expres');
        builder.Append('sion":"NonPANTDS+Surcharge+eCess+SheCess","Tokens":[{"TokenName":"eCess","TokenValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"NonPANTDS","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"TokenName"');
        builder.Append(':"SheCess","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Ces');
        builder.Append('s "}}},{"TokenName":"Surcharge","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Co');
        builder.Append('mponentName":"Surcharge"}}}]}},{"ComponentName":"Non PAN TDS","Sequence":1,"Formula":{"VariableName"');
        builder.Append(':"","Expression":"TDSTaxableAmount*TDS/100","Tokens":[{"TokenName":"TDS","TokenValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"TokenName":"TDSTaxableAmoun');
        builder.Append('t","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"');
        builder.Append('}}}]}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Consta');
        builder.Append('nt","Value":"Invoice"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"Provisional Entry"}},"RHS":{"Type":"Const');
        builder.Append('ant","Value":"true"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"');
        builder.Append('Table","TableName":"Vendor","TableFieldName":"P.A.N. Status","Method":"First","TableFilters":[{"Fite');
        builder.Append('rFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}}]}},"RHS":{"Type":"Constant","');
        builder.Append('Value":" "}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Value"');
        builder.Append(':"G/L Account"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","T');
        builder.Append('ableName":"TDS Concessional Code","TableFieldName":"Concessional Code","Method":"First","TableFilter');
        builder.Append('s":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterField');
        builder.Append('Name":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constan');
        builder.Append('t","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Gen. Journal Line","FieldName":"Party Type"}},"RHS":{"Type":"Constant","Value":"V');
        builder.Append('endor"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value"');
        builder.Append(':""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"System-Created Entry"}},"RHS":{"Type":"Constant","Value":""');
        builder.Append('}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Gen. Journal Line","FieldName":"Work Tax Nature Of Deduction"}},"RHS":{"Type":"Constant","Valu');
        builder.Append('e":""}}]},"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","TableName":"TDS Posting Setup","Ac');
        builder.Append('countSourceType":"Field","FieldName":"TDS Account","AccountingImpact":"Credit","ReverseCharge":false');
        builder.Append(',"ReverseAccountSourceType":"Field","ReverseChargeFieldName":"","When":[{"Condition":{"Body":[{"Oper');
        builder.Append('ator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}},{"Operator"');
        builder.Append(':"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Provisional Entry"}},"RHS":{"Type":"Constant","Value":"true"}}]},"ValueType"');
        builder.Append(':"Insert Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger":true,"RecordVariable":"","SubL');
        builder.Append('edgerGrpBy":"Component","InsertRecordFields":[{"FieldName":"Vendor No.","Sequence":4,"ReverseSign":f');
        builder.Append('alse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"Party Code"}}},{"FieldName":"T.A.N. No.","Sequence":5,"ReverseSign":false,"Lookup":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"TAN No."}}},{"FieldName":"S');
        builder.Append('ection","Sequence":6,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FieldName":"Assessee Code');
        builder.Append('","Sequence":7,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes"');
        builder.Append(',"AttributeName":"Assessee Code"}}},{"FieldName":"TDS Base Amount","Sequence":8,"ReverseSign":false,');
        builder.Append('"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"');
        builder.Append('FieldName":"TDS %","Sequence":9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Component Percent","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Amount","Sequence":10,"Rever');
        builder.Append('seSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN ');
        builder.Append('TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":false,"Lookup":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"FieldName":"Surcharge Amount"');
        builder.Append(',"Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Com');
        builder.Append('ponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSign":false,"Lookup":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"FieldName":"eCess ');
        builder.Append('Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Componen');
        builder.Append('t","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"ReverseSign":false,"Lookup":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Cess "}}},{"FieldNam');
        builder.Append('e":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional Code","Sequence":17,"Rever');
        builder.Append('seSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Con');
        builder.Append('cessional Code"}}},{"FieldName":"Concessional Form No.","Sequence":37,"ReverseSign":false,"Lookup":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","TableFieldName":');
        builder.Append('"Certificate No.","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equa');
        builder.Append('ls","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal');
        builder.Append(' Line","FieldName":"Party Code"}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"TDS Section Code"}}}]}}},{"FieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":false,"Lookup"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{"FieldName":');
        builder.Append('"Invoice Amount","Sequence":25,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"Posting Date","Sequence":3,"ReverseSi');
        builder.Append('gn":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"Posting Date"}}},{"FieldName":"Document Type","Sequence":26,"ReverseSign":false');
        builder.Append(',"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","');
        builder.Append('FieldName":"Document Type"}}},{"FieldName":"Document No.","Sequence":2,"ReverseSign":false,"Lookup":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"Posted Document No."}');
        builder.Append('}},{"FieldName":"Account Type","Sequence":23,"ReverseSign":false,"Lookup":{"Type":"Constant","Value"');
        builder.Append(':"G/L Account"}},{"FieldName":"Account No.","Sequence":45,"ReverseSign":false,"Lookup":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Table","TableName":"TDS Posting Setup","TableFieldName":"TDS Account","M');
        builder.Append('ethod":"Last","TableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To","Fi');
        builder.Append('lterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line",');
        builder.Append('"FieldName":"Posting Date"}}}]}}},{"FieldName":"Account No.","Sequence":24,"ReverseSign":false,"Look');
        builder.Append('up":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Posting Setup","TableFieldName"');
        builder.Append(':"TDS Account","Method":"First","TableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than');
        builder.Append(' Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Posting Date"}}}]}}},{"FieldName":"Party Type","Sequence":41,"Reverse');
        builder.Append('Sign":false,"Lookup":{"Type":"Constant","Value":"Vendor"}},{"FieldName":"Source Code","Sequence":28,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"PURCHASES"}},{"FieldName":"TDS Amount Inclu');
        builder.Append('ding Surcharge","Sequence":22,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TDSIncludingSurcharge"}}},{"FieldName":"Bal. TDS Including SHE CESS","Sequ');
        builder.Append('ence":29,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"TDSIncludingSHECess"}}},{"FieldName":"Remaining Surcharge Amount","Sequence":31,"ReverseSign":f');
        builder.Append('alse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"F');
        builder.Append('ieldName":"Remaining TDS Amount","Sequence":43,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Line Amount","Sequenc');
        builder.Append('e":44,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"Amount"}}},{"FieldName":"Total TDS Including SHE CESS","Sequenc');
        builder.Append('e":21,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName"');
        builder.Append(':"TDSIncludingSHECess"}}},{"FieldName":"Per Contract","Sequence":39,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PerContract"}}},{"FieldName":"User I');
        builder.Append('D","Sequence":30,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Database","Da');
        builder.Append('tabaseVariableName":"UserId"}}},{"FieldName":"Transaction No.","Sequence":38,"ReverseSign":false,"Lo');
        builder.Append('okup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry Trans');
        builder.Append('action No."}}},{"FieldName":"Original TDS Base Amount","Sequence":27,"ReverseSign":false,"Lookup":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":');
        builder.Append('"Payment Amount","Sequence":40,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"PaymentAmount"}}},{"FieldName":"Surcharge Base Amount","Sequence":42,"Rev');
        builder.Append('erseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PA');
        builder.Append('N TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry No."}}}]}}]}],"AttachedEvents"');
        builder.Append(':[{"EventName":"CallTaxEngineOnGenJnlLine","Enabled":true,"Sequence":0},{"EventName":"OnAfterGenJnlL');
        builder.Append('ineUpdated","Enabled":true,"Sequence":0}]},{"Description":"Calculation of Tax Deduction at Source wi');
        builder.Append('th Provisional Entry through Purchase Journal for Vendor where PAN No. is specified along with Conce');
        builder.Append('ssional Codes.\n","TaxType":"TDS","Code":"","TaxEntity":"Gen. Journal Line","ParentUseCase":"Calcula');
        builder.Append('tion of Tax Deduction at Source with Provisional Entry through General Journal for Vendors.\n","Pres');
        builder.Append('entationOrder":225,"Indent":1,"PostingTableName":"TDS Posting Setup","PostingTableFilters":[{"FiterF');
        builder.Append('ieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName"');
        builder.Append(':"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}],"Attrib');
        builder.Append('utes":[{"Name":"Concessional Code","When":[{"ValueType":"Relation","Relation":{"TableName":"TDS Conc');
        builder.Append('essional Code","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Party Code"}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}');
        builder.Append('}]}}]},{"Name":"PAN No.","When":[{"ValueType":"Relation","Relation":{"TableName":"Vendor","TableFilt');
        builder.Append('ers":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}}]}}]}],"RateColumn');
        builder.Append('s":[{"Name":"Effective Date","When":[{"ValueType":"Lookup","Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Gen. Journal Line","FieldName":"Posting Date"}}]}],"ComputationVariables":[{"Name":"Tota');
        builder.Append('lAmount","Datatype":"Number"},{"Name":"TDSTaxableAmount","Datatype":"Number"},{"Name":"SurchargeBase');
        builder.Append('Amt","Datatype":"Number"},{"Name":"TDSAmount","Datatype":"Number"},{"Name":"PrevInvAmountLCY","Datat');
        builder.Append('ype":"Number"},{"Name":"PrevInvAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Numb');
        builder.Append('er"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"PreviousContractAmount","Datatype":"Numbe');
        builder.Append('r"},{"Name":"TotalInvAmountLCY","Datatype":"Number"},{"Name":"TotalInvAmount","Datatype":"Number"},{');
        builder.Append('"Name":"TotalInvAmtWOContractLCY","Datatype":"Number"},{"Name":"TotalInvAmtWOContract","Datatype":"N');
        builder.Append('umber"},{"Name":"PreSurchargeBaseAmt","Datatype":"Number"},{"Name":"TotalSurchargeBaseAmt","Datatype');
        builder.Append('":"Number"},{"Name":"PositiveAmount","Datatype":"Number"},{"Name":"PositiveAmountLCY","Datatype":"Nu');
        builder.Append('mber"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"');
        builder.Append('Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"N');
        builder.Append('ame":"TotalCurrAmountLCY","Datatype":"Number"},{"Name":"PositiveTotalCurrAmountLCY","Datatype":"Numb');
        builder.Append('er"},{"Name":"AppliedAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmount","Datatype":"Number');
        builder.Append('"},{"Name":"TotalTaxableInvAmtWOContract","Datatype":"Number"},{"Name":"BatchAmountLCY","Datatype":"');
        builder.Append('Number"},{"Name":"BatchPaymentAmountLCY","Datatype":"Number"},{"Name":"BatchInvoiceAmountLCY","Datat');
        builder.Append('ype":"Number"},{"Name":"PositiveAmtExclGST","Datatype":"Number"},{"Name":"TaxableAmountExclApplied",');
        builder.Append('"Datatype":"Number"}],"ComputationScript":[{"ActivityType":"COMMENT","Activity":{"Comment":"Converte');
        builder.Append('d Current Line''s amount and amount (LCY) to positive amount"}},{"ActivityType":"IFSTATEMENT","Activi');
        builder.Append('ty":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}},"RHS":{"Type":"Constant",');
        builder.Append('"Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PositiveAmoun');
        builder.Append('t","Expression":"0-Amount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}]}},{"ActivityTy');
        builder.Append('pe":"NUMERICEXPRESSION","Activity":{"VariableName":"PositiveAmountLCY","Expression":"0-AmountLCY","T');
        builder.Append('okens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]}}],"ElseIf":{"Condition":{"Body":[');
        builder.Append(']},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount","OutputVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Field');
        builder.Append('Name":"Amount"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmountLCY');
        builder.Append('","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body');
        builder.Append('":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}},"RHS":{"Type":"Constant","Value":""}}]');
        builder.Append('},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PositiveAmtExclGST",');
        builder.Append('"Operator":"Minus","LHS":{"Type":"Constant","Value":""},"RHS":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}}}}],"ElseIf":{"Co');
        builder.Append('ndition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Positiv');
        builder.Append('eAmtExclGST","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"Amount Excl. GST"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Co');
        builder.Append('ndition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Variab');
        builder.Append('le","VariableName":"PositiveAmtExclGST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Activity');
        builder.Append('Type":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}}}},{"ActivityType":"SETVARIA');
        builder.Append('BLE","Activity":{"OutputVariableName":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Variable","VariableName":"PositiveAmtExclGST"}}}}]}},{"ActivityType":"COMMENT","Activit');
        builder.Append('y":{"Comment":"Created string for current financial year"}},{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last","TableFi');
        builder.Append('lters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"Firs');
        builder.Append('t","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","Ta');
        builder.Append('bleFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equals To","Fi');
        builder.Append('lterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line",');
        builder.Append('"FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariable');
        builder.Append('Name":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":');
        builder.Append('"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldN');
        builder.Append('ame":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Ta');
        builder.Append('ble","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"');
        builder.Append('FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}}');
        builder.Append(',{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":');
        builder.Append('"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":');
        builder.Append('"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"Account');
        builder.Append('ingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":');
        builder.Append('"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYea');
        builder.Append('rEndDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}}]}},{"ActivityType":"COMMENT","Ac');
        builder.Append('tivity":{"Comment":"Total posted Invoice amount"}},{"ActivityType":"SETVARIABLE","Activity":{"Output');
        builder.Append('VariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableNa');
        builder.Append('me":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"');
        builder.Append('Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"Section","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Asse');
        builder.Append('ssee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Do');
        builder.Append('cument Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"Activ');
        builder.Append('ityType":"COMMENT","Activity":{"Comment":"Total posted Payment amount"}},{"ActivityType":"SETVARIABL');
        builder.Append('E","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Method":"Sum","TableFilters');
        builder.Append('":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterFieldN');
        builder.Append('ame":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assesse');
        builder.Append('e Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes"');
        builder.Append(',"AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}}');
        builder.Append(',{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"P');
        builder.Append('ayment"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Sum of posted payment and invoice am');
        builder.Append('ount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PrevInvAmountLCY","Expressio');
        builder.Append('n":"PostedInvoiceAmount+PostedPaymentAmount","Tokens":[{"TokenName":"PostedInvoiceAmount","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmount"}}},{"TokenName"');
        builder.Append(':"PostedPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"PaymentAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted contract amoun');
        builder.Append('t"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreviousContractAmount","Output');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Inv');
        builder.Append('oice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","Fi');
        builder.Append('lterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line",');
        builder.Append('"FieldName":"Party Code"}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Se');
        builder.Append('ction Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"P');
        builder.Append('er Contract","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}}}},{"Activity');
        builder.Append('Type":"COMMENT","Activity":{"Comment":"Total Posted amount without contract amount"}},{"ActivityType');
        builder.Append('":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmtWOContractLCY","Expression":"TotalPoste');
        builder.Append('dAmount-PostedContractAmount","Tokens":[{"TokenName":"PostedContractAmount","TokenValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"Tot');
        builder.Append('alPostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Tota');
        builder.Append('lInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Payment Amount on curren');
        builder.Append('t batch"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchPaymentAmountLCY","O');
        builder.Append('utputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Gen. Journal Line","TableFi');
        builder.Append('eldName":"Amount (LCY)","Method":"Sum","TableFilters":[{"FiterFieldName":"Journal Template Name","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterTyp');
        builder.Append('e":"Not Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Document Type","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Constant","Value":"Payment"}},{"FiterFieldName":"Journal Batch Name","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Journal Batch Name"}}},{"FiterFieldName":"Party Type","FilterType":"E');
        builder.Append('quals","FilterValue":{"Type":"Constant","Value":"Vendor"}},{"FiterFieldName":"Party Code","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen.');
        builder.Append(' Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total I');
        builder.Append('nvoice Amount on current batch"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Ba');
        builder.Append('tchInvoiceAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Gen.');
        builder.Append(' Journal Line","TableFieldName":"Amount (LCY)","Method":"Sum","TableFilters":[{"FiterFieldName":"Jou');
        builder.Append('rnal Template Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName');
        builder.Append('":"Line No.","FilterType":"Not Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Document Type');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}},{"FiterFieldName":"Jour');
        builder.Append('nal Batch Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"Journal Batch Name"}}},{"FiterFieldName":"Part');
        builder.Append('y Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Gen. Journal Line","FieldName":"Party Type"}}},{"FiterFieldName":"Party Code","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Ge');
        builder.Append('n. Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equa');
        builder.Append('ls","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal');
        builder.Append(' Line","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"Outpu');
        builder.Append('tVariableName":"BatchInvoiceAmountLCY","Operator":"Minus","LHS":{"Type":"Constant","Value":"0"},"RHS');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchInvoiceAmountLCY"}}}},{"Ac');
        builder.Append('tivityType":"COMMENT","Activity":{"Comment":"Total Batch amount including Current Line Amount"}},{"A');
        builder.Append('ctivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"BatchAmountLCY","Expression":"BatchPaym');
        builder.Append('entAmount+BatchInvoiceAmount+AmountLCY","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}}},{"TokenName":"BatchInvo');
        builder.Append('iceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchInvo');
        builder.Append('iceAmountLCY"}}},{"TokenName":"BatchPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"BatchPaymentAmountLCY"}}}]}},{"ActivityType":"IFSTATEMENT","Activity"');
        builder.Append(':{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Gen. Journal Line","FieldName":"TDS Posting to G/L"}},"RHS":{"Type":"Constan');
        builder.Append('t","Value":"true"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchA');
        builder.Append('mountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveA');
        builder.Append('mountLCY"}}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmountLCY",');
        builder.Append('"Expression":"PostedAmountLCY+BatchAmountLCY","Tokens":[{"TokenName":"BatchAmountLCY","TokenValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchAmountLCY"}}},{"TokenName":"P');
        builder.Append('ostedAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Prev');
        builder.Append('InvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Amount from LCY to FC');
        builder.Append('Y"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":');
        builder.Append('"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNa');
        builder.Append('me":"Currency Code"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULA');
        builder.Append('TION","Activity":{"OutputVariableName":"TotalInvAmount","Operator":"Multiply By","LHS":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}');
        builder.Append('}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmtWOContract","Op');
        builder.Append('erator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Total');
        builder.Append('InvAmtWOContractLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Currency Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{');
        builder.Append('"OutputVariableName":"PrevInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}}],"ElseIf":{"Cond');
        builder.Append('ition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvA');
        builder.Append('mount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmou');
        builder.Append('ntLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmtWOContract","O');
        builder.Append('utputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContract');
        builder.Append('LCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PrevInvAmount","OutputValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}}]}}},{"Act');
        builder.Append('ivityType":"COMMENT","Activity":{"Comment":"Get applied amount"}},{"ActivityType":"IFSTATEMENT","Act');
        builder.Append('ivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Consta');
        builder.Append('nt","Value":"Invoice"}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"O');
        builder.Append('perator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Ge');
        builder.Append('n. Journal Line","FieldName":"Applies-to Doc. Type"}},"RHS":{"Type":"Constant","Value":"Payment"}},{');
        builder.Append('"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Gen. Journal Line","FieldName":"Applies-to Doc. No."}},"RHS":{"Type":"Constant","Value":""}}]}');
        builder.Append(',"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount","OutputValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","TableFieldName"');
        builder.Append(':"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName":"Document No.","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"Applies-to Doc. No."}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equa');
        builder.Append('ls","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal');
        builder.Append(' Line","FieldName":"TDS Section Code"}}}]}}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Conditio');
        builder.Append('n":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"Applies-to ID"}},"RHS":{"Type":"Constant","Value":"');
        builder.Append('"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount","Output');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","TableField');
        builder.Append('Name":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName":"Applies-to ID","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. ');
        builder.Append('Journal Line","FieldName":"Applies-to ID"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equa');
        builder.Append('ls","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal');
        builder.Append(' Line","FieldName":"TDS Section Code"}}}]}}}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condi');
        builder.Append('tion":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"AppliedAmount"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"PositiveAmount"}}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName"');
        builder.Append(':"TaxableAmountExclApplied","Expression":"Amount-AppliedAmount","Tokens":[{"TokenName":"Amount","Tok');
        builder.Append('enValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"Tok');
        builder.Append('enName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"AppliedAmount"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","A');
        builder.Append('ctivity":{"OutputVariableName":"TaxableAmountExclApplied","OutputValue":{"Type":"Constant","Value":"');
        builder.Append('0"}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount"}},{"ActivityType":"');
        builder.Append('NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmount","Expression":"(PostedAmount+Am');
        builder.Append('ount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"PostedA');
        builder.Append('mount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount');
        builder.Append('"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount excluding posted contr');
        builder.Append('act amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmtWOCo');
        builder.Append('ntract","Expression":"((PostedAmount-ContractAmt)+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amo');
        builder.Append('unt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"');
        builder.Append('}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"AppliedAmount"}}},{"TokenName":"ContractAmt","TokenValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"PostedAmount","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"Acti');
        builder.Append('vityType":"COMMENT","Activity":{"Comment":"Condition to calculate TDS Amount considering Threshold l');
        builder.Append('imit"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTyp');
        builder.Append('e":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":""');
        builder.Append(',"Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section ');
        builder.Append('Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"Type":"Constan');
        builder.Append('t","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT"');
        builder.Append(',"Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than Or Equals To","LHS":');
        builder.Append('{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFST');
        builder.Append('ATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Looku');
        builder.Append('p":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":"');
        builder.Append('"}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condit');
        builder.Append('ionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLC');
        builder.Append('Y"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}');
        builder.Append('}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","Outp');
        builder.Append('utValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmtWOCont');
        builder.Append('ract"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Cond');
        builder.Append('ition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"PositiveAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","');
        builder.Append('RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputV');
        builder.Append('ariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType');
        builder.Append('":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant"');
        builder.Append(',"Value":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS');
        builder.Append('":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant",');
        builder.Append('"Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ');
        builder.Append('","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalIn');
        builder.Append('vAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold');
        builder.Append(' Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmou');
        builder.Append('nt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxableInv');
        builder.Append('Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Ou');
        builder.Append('tputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}]}}}],"ElseI');
        builder.Append('f":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('olumn","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"TaxableAmountExclApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}},{"A');
        builder.Append('ctivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSAmount","Expression":"TDSTaxableAmt*');
        builder.Append('TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Co');
        builder.Append('mponent Percent","ComponentName":"TDS"}}},{"TokenName":"TDSTaxableAmt","TokenValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ActivityType":"SETVARIA');
        builder.Append('BLE","Activity":{"OutputVariableName":"PreSurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Surcharge Base Amount","Method":"Sum');
        builder.Append('","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}');
        builder.Append('},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFiel');
        builder.Append('dName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CA');
        builder.Append('L Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Accountin');
        builder.Append('gDateFilter"}}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalSurchargeB');
        builder.Append('aseAmt","Expression":"PreSurchargeBaseAmt+TDSAmount","Tokens":[{"TokenName":"PreSurchargeBaseAmt","T');
        builder.Append('okenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreSurchargeBaseAmt"}}');
        builder.Append('},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"TDSAmount"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":"');
        builder.Append(' ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","Ta');
        builder.Append('bleFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNam');
        builder.Append('e":"TDS Section Code"}}},{"FiterFieldName":"Surcharge Overlook","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityTyp');
        builder.Append('e":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LH');
        builder.Append('S":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityTy');
        builder.Append('pe":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than"');
        builder.Append(',"LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"Activ');
        builder.Append('ityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Variable","VariableName":"TotalSurchargeBaseAmt"}}}}],"ElseIf":{"Condi');
        builder.Append('tion":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeB');
        builder.Append('aseAmt","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body');
        builder.Append('":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}}],"ElseIf":{"Con');
        builder.Append('dition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Surcharg');
        builder.Append('eBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount');
        builder.Append('"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionT');
        builder.Append('ype":"Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}},"RHS":{"T');
        builder.Append('ype":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName');
        builder.Append('":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Posi');
        builder.Append('tiveAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":');
        builder.Append('{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"TDSTaxableAmount"}}}}]}}}],"PostingVariables":[{"Name":"TDSIncludingSHECess","Dataty');
        builder.Append('pe":"Number"},{"Name":"TDSIncludingSurcharge","Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"');
        builder.Append('Number"},{"Name":"PaymentAmt","Datatype":"Number"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name');
        builder.Append('":"TotalInvAmt","Datatype":"Number"},{"Name":"PerContract","Datatype":"Boolean"},{"Name":"PaymentAmo');
        builder.Append('unt","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"FiscalYearStartDate"');
        builder.Append(',"Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","D');
        builder.Append('atatype":"String"},{"Name":"TDSPer","Datatype":"Number"},{"Name":"SurchargePer","Datatype":"Number"}');
        builder.Append(',{"Name":"ECessPer","Datatype":"Number"},{"Name":"SHECessPer","Datatype":"Number"}],"PostingScript":');
        builder.Append('[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expression":"');
        builder.Append('{TDS}+{Surcharge}+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Su');
        builder.Append('rcharge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharg');
        builder.Append('e"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Compone');
        builder.Append('ntName":"TDS"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSurc');
        builder.Append('harge","Expression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","Token');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ActivityTyp');
        builder.Append('e":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LH');
        builder.Append('S":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY');
        builder.Append(')"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":');
        builder.Append('{"VariableName":"TotalAmtLCY","Expression":"0-{Amt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"A');
        builder.Append('mount (LCY)"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activit');
        builder.Append('y":{"OutputVariableName":"TotalAmtLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityType":"SETVAR');
        builder.Append('IABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date","Method');
        builder.Append('":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Perio');
        builder.Append('d","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Me');
        builder.Append('thod":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than ');
        builder.Append('Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Ge');
        builder.Append('n. Journal Line","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equa');
        builder.Append('ls","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Ta');
        builder.Append('ble","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilter');
        builder.Append('s":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","');
        builder.Append('TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableF');
        builder.Append('ilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"C');
        builder.Append('onstant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"C');
        builder.Append('onstant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals T');
        builder.Append('o","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal ');
        builder.Append('Line","FieldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVaria');
        builder.Append('bleName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate');
        builder.Append('","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variabl');
        builder.Append('eName":"FiscalYearStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"ActivityTy');
        builder.Append('pe":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"First"');
        builder.Append(',"TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}');
        builder.Append('},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFiel');
        builder.Append('dName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CA');
        builder.Append('L Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Accountin');
        builder.Append('gDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Const');
        builder.Append('ant","Value":"Invoice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Paymen');
        builder.Append('tAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFi');
        builder.Append('eldName":"Payment Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen.');
        builder.Append(' Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fi');
        builder.Append('eldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"Fiter');
        builder.Append('FieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPR');
        builder.Append('ESSION","Activity":{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens":[{"To');
        builder.Append('kenName":"InvoiceAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName"');
        builder.Append(':"InvoiceAmt"}}},{"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableNa');
        builder.Append('me":"TotalInvAmt","Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}}},{"TokenName":"{InvAmt}","');
        builder.Append('TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}}}]}},{"');
        builder.Append('ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"Threshold O');
        builder.Append('verlook","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fi');
        builder.Append('eldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS ');
        builder.Append('Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","A');
        builder.Append('ctivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"Sour');
        builder.Append('ceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Col');
        builder.Append('umn","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{');
        builder.Append('"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType"');
        builder.Append(':"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"');
        builder.Append('ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Les');
        builder.Append('s Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityTy');
        builder.Append('pe":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than"');
        builder.Append(',"LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETV');
        builder.Append('ARIABLE","Activity":{"OutputVariableName":"PerContract","OutputValue":{"Type":"Constant","Value":"tr');
        builder.Append('ue"}}}]}}]}}]}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" "');
        builder.Append(',"ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Payment"}}]},"Body":[{"Activity');
        builder.Append('Type":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}}],"E');
        builder.Append('lseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNam');
        builder.Append('e":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Gen. Journal Line","FieldName":"Amount"}}}}]}}}],"Components":[{"ComponentName":"SHE Cess ","Sequ');
        builder.Append('ence":4,"Formula":{"VariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{SheCessPer}/100","Toke');
        builder.Append('ns":[{"TokenName":"{SheCessPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Per');
        builder.Append('cent","ComponentName":"SHE Cess "}}},{"TokenName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ComponentName":"Su');
        builder.Append('rcharge","Sequence":2,"Formula":{"VariableName":"","Expression":"{TDSAmt}*{SurchargePer}/100","Token');
        builder.Append('s":[{"TokenName":"{SurchargePer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Pe');
        builder.Append('rcent","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"SurchargeBaseAmt"}}}]}},{"ComponentName":"TDS","Sequence":');
        builder.Append('1,"Formula":{"VariableName":"","Expression":"TDSTaxableAmount*TDS/100","Tokens":[{"TokenName":"TDS",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}},{"TokenNam');
        builder.Append('e":"TDSTaxableAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName"');
        builder.Append(':"TDSTaxableAmount"}}}]}},{"ComponentName":"eCESS","Sequence":3,"Formula":{"VariableName":"","Expres');
        builder.Append('sion":"({TDSAmt}+{SurchargeAmt})*{EcessPer}/100","Tokens":[{"TokenName":"{EcessPer}","TokenValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"TokenName":"{');
        builder.Append('SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Sur');
        builder.Append('charge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component",');
        builder.Append('"ComponentName":"TDS"}}}]}},{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableNam');
        builder.Append('e":"","Expression":"TDS+Surcharge+eCess+SheCess","Tokens":[{"TokenName":"eCess","TokenValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"SheCess","Toke');
        builder.Append('nValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenNa');
        builder.Append('me":"Surcharge","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Su');
        builder.Append('rcharge"}}},{"TokenName":"TDS","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Com');
        builder.Append('ponentName":"TDS"}}}]}},{"ComponentName":"TDS Base Amount","Sequence":6,"Formula":{"VariableName":""');
        builder.Append(',"Expression":"{TDSBaseAmt}","Tokens":[{"TokenName":"{TDSBaseAmt}","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"TDSBaseAmt"}}}]}}],"Condition":{"Body":[{"Operator":"');
        builder.Append(' ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal');
        builder.Append(' Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}},{"Operator":"and",');
        builder.Append('"ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"Provisional Entry"}},"RHS":{"Type":"Constant","Value":"true"}},{"Operator":"and","C');
        builder.Append('onditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"');
        builder.Append('P.A.N. Status","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fi');
        builder.Append('eldName":"Party Code"}}}]}},"RHS":{"Type":"Constant","Value":" "}},{"Operator":"and","ConditionType"');
        builder.Append(':"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"P.A.N. No');
        builder.Append('.","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Pa');
        builder.Append('rty Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Not Equals"');
        builder.Append(',"LHS":{"Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","TableFieldName":"Concess');
        builder.Append('ional Code","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line"');
        builder.Append(',"FieldName":"Party Code"}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS S');
        builder.Append('ection Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals",');
        builder.Append('"LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account ');
        builder.Append('Type"}},"RHS":{"Type":"Constant","Value":"G/L Account"}},{"Operator":"and","ConditionType":"Not Equa');
        builder.Append('ls","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS ');
        builder.Append('Section Code"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LH');
        builder.Append('S":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Work Tax Na');
        builder.Append('ture Of Deduction"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"System');
        builder.Append('-Created Entry"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","');
        builder.Append('LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Typ');
        builder.Append('e"}},"RHS":{"Type":"Constant","Value":"Vendor"}}]},"TaxPostingSetup":[{"ComponentName":"Total TDS Am');
        builder.Append('ount","TableName":"TDS Posting Setup","AccountSourceType":"Field","FieldName":"TDS Account","Account');
        builder.Append('ingImpact":"Credit","ReverseCharge":false,"ReverseAccountSourceType":"Field","ReverseChargeFieldName');
        builder.Append('":"","When":[{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}},"RHS":{"');
        builder.Append('Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"Provisional Entry"}},"RHS":{"Type":');
        builder.Append('"Constant","Value":"true"}}]},"ValueType":"Insert Record","InsertRecord":{"TableName":"TDS Entry","R');
        builder.Append('unTrigger":true,"RecordVariable":"","SubLedgerGrpBy":"Component","InsertRecordFields":[{"FieldName":');
        builder.Append('"Vendor No.","Sequence":4,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"FieldName":"T.A.N. No.","S');
        builder.Append('equence":5,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","At');
        builder.Append('tributeName":"TAN No."}}},{"FieldName":"Section","Sequence":6,"ReverseSign":false,"Lookup":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Sec');
        builder.Append('tion Code"}}},{"FieldName":"Assessee Code","Sequence":7,"ReverseSign":false,"Lookup":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FieldName":"TDS Base ');
        builder.Append('Amount","Sequence":8,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component');
        builder.Append('","ComponentName":"TDS Base Amount"}}},{"FieldName":"TDS %","Sequence":9,"ReverseSign":false,"Lookup');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"FieldName":');
        builder.Append('"TDS Amount","Sequence":10,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Com');
        builder.Append('ponent","ComponentName":"TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":false,"Looku');
        builder.Append('p":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"Fiel');
        builder.Append('dName":"Surcharge Amount","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSig');
        builder.Append('n":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS');
        builder.Append('"}}},{"FieldName":"eCess Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Component","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"Reve');
        builder.Append('rseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":');
        builder.Append('"SHE Cess "}}},{"FieldName":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional C');
        builder.Append('ode","Sequence":17,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attribu');
        builder.Append('tes","AttributeName":"Concessional Code"}}},{"FieldName":"Concessional Form No.","Sequence":37,"Reve');
        builder.Append('rseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Concessiona');
        builder.Append('l Code","TableFieldName":"Certificate No.","Method":"First","TableFilters":[{"FiterFieldName":"Vendo');
        builder.Append('r No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"Section","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. J');
        builder.Append('ournal Line","FieldName":"TDS Section Code"}}}]}}},{"FieldName":"Deductee PAN No.","Sequence":18,"Re');
        builder.Append('verseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"');
        builder.Append('PAN No."}}},{"FieldName":"Work Tax %","Sequence":32,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component Percent","ComponentName":"Work Tax"}}},{"FieldName":"Work Tax Amount');
        builder.Append('","Sequence":34,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Co');
        builder.Append('mponentName":"Work Tax"}}},{"FieldName":"Work Tax Base Amount","Sequence":33,"ReverseSign":false,"Lo');
        builder.Append('okup":{"Type":"Constant","Value":"0.00"}},{"FieldName":"Invoice Amount","Sequence":25,"ReverseSign":');
        builder.Append('false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"');
        builder.Append('}}},{"FieldName":"Posting Date","Sequence":3,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"Field');
        builder.Append('Name":"Document Type","Sequence":26,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}}},{"FieldName":"D');
        builder.Append('ocument No.","Sequence":2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Post');
        builder.Append('ing Field","PostingVariableName":"Posted Document No."}}},{"FieldName":"Account Type","Sequence":23,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"G/L Account"}},{"FieldName":"Account No.","');
        builder.Append('Sequence":45,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName');
        builder.Append('":"TDS Posting Setup","TableFieldName":"TDS Account","Method":"Last","TableFilters":[{"FiterFieldNam');
        builder.Append('e":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effec');
        builder.Append('tive Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}},{"FieldName');
        builder.Append('":"Party Type","Sequence":41,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"Vendor"}},{"Fi');
        builder.Append('eldName":"Party Code","Sequence":24,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Table","TableName":"TDS Posting Setup","TableFieldName":"TDS Account","Method":"First","TableF');
        builder.Append('ilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},');
        builder.Append('{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting ');
        builder.Append('Date"}}}]}}},{"FieldName":"Source Code","Sequence":28,"ReverseSign":false,"Lookup":{"Type":"Constant');
        builder.Append('","Value":"PURCHASES"}},{"FieldName":"TDS Amount Including Surcharge","Sequence":22,"ReverseSign":fa');
        builder.Append('lse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSurcharg');
        builder.Append('e"}}},{"FieldName":"Bal. TDS Including SHE CESS","Sequence":29,"ReverseSign":false,"Lookup":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Rem');
        builder.Append('aining Surcharge Amount","Sequence":31,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"Remaining TDS Amount","Sequence":43');
        builder.Append(',"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"T');
        builder.Append('DS"}}},{"FieldName":"TDS Line Amount","Sequence":44,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}},{"Fiel');
        builder.Append('dName":"Total TDS Including SHE CESS","Sequence":21,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Per Contract",');
        builder.Append('"Sequence":39,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"PerContract"}}},{"FieldName":"User ID","Sequence":30,"ReverseSign":false,"Lookup":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Database","DatabaseVariableName":"UserId"}}},{"FieldName":"Transact');
        builder.Append('ion No.","Sequence":38,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting');
        builder.Append(' Field","PostingVariableName":"G/L Entry Transaction No."}}},{"FieldName":"Original TDS Base Amount"');
        builder.Append(',"Sequence":27,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Com');
        builder.Append('ponentName":"TDS Base Amount"}}},{"FieldName":"Payment Amount","Sequence":40,"ReverseSign":false,"Lo');
        builder.Append('okup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}},{"FieldNa');
        builder.Append('me":"Surcharge Base Amount","Sequence":42,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Component","ComponentName":"TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"ReverseSi');
        builder.Append('gn":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/');
        builder.Append('L Entry No."}}}]}}]}],"AttachedEvents":[{"EventName":"CallTaxEngineOnGenJnlLine","Enabled":true,"Seq');
        builder.Append('uence":0},{"EventName":"OnAfterGenJnlLineUpdated","Enabled":true,"Sequence":0}]},{"Description":"Cal');
        builder.Append('culation of Tax Deduction at Source with Provisional Entry through Purchase Journal for Vendor where');
        builder.Append(' no PAN No. is specified along with Concessional Codes.\n","TaxType":"TDS","Code":"","TaxEntity":"Ge');
        builder.Append('n. Journal Line","ParentUseCase":"Calculation of Tax Deduction at Source with Provisional Entry thro');
        builder.Append('ugh General Journal for Vendors.\n","PresentationOrder":226,"Indent":1,"PostingTableName":"TDS Posti');
        builder.Append('ng Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName');
        builder.Append('":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"Posting Date"}}}],"Attributes":[{"Name":"Concessional Code","When":[{"ValueType":"Re');
        builder.Append('lation","Relation":{"TableName":"TDS Concessional Code","TableFilters":[{"FiterFieldName":"Vendor No');
        builder.Append('.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"Section","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"TDS Section Code"}}}]}}]}],"RateColumns":[{"Name":"Effective Date","When":[{"V');
        builder.Append('alueType":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNam');
        builder.Append('e":"Posting Date"}}]}],"ComputationVariables":[{"Name":"TotalAmount","Datatype":"Number"},{"Name":"T');
        builder.Append('DSTaxableAmount","Datatype":"Number"},{"Name":"SurchargeBaseAmt","Datatype":"Number"},{"Name":"TDSAm');
        builder.Append('ount","Datatype":"Number"},{"Name":"PrevInvAmountLCY","Datatype":"Number"},{"Name":"PrevInvAmount","');
        builder.Append('Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"PaymentAmount","Datatype":');
        builder.Append('"Number"},{"Name":"PreviousContractAmount","Datatype":"Number"},{"Name":"TotalInvAmountLCY","Datatyp');
        builder.Append('e":"Number"},{"Name":"TotalInvAmount","Datatype":"Number"},{"Name":"TotalInvAmtWOContractLCY","Datat');
        builder.Append('ype":"Number"},{"Name":"TotalInvAmtWOContract","Datatype":"Number"},{"Name":"PreSurchargeBaseAmt","D');
        builder.Append('atatype":"Number"},{"Name":"TotalSurchargeBaseAmt","Datatype":"Number"},{"Name":"PositiveAmount","Da');
        builder.Append('tatype":"Number"},{"Name":"PositiveAmountLCY","Datatype":"Number"},{"Name":"TDSBaseAmt","Datatype":"');
        builder.Append('Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Da');
        builder.Append('te"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TotalCurrAmountLCY","Datatype":"Nu');
        builder.Append('mber"},{"Name":"PositiveTotalCurrAmountLCY","Datatype":"Number"},{"Name":"AppliedAmount","Datatype":');
        builder.Append('"Number"},{"Name":"TotalTaxableInvAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmtWOContract');
        builder.Append('","Datatype":"Number"},{"Name":"BatchAmountLCY","Datatype":"Number"},{"Name":"BatchPaymentAmountLCY"');
        builder.Append(',"Datatype":"Number"},{"Name":"BatchInvoiceAmountLCY","Datatype":"Number"},{"Name":"PositiveAmtExclG');
        builder.Append('ST","Datatype":"Number"},{"Name":"TaxableAmountExclApplied","Datatype":"Number"}],"ComputationScript');
        builder.Append('":[{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Current Line''s amount and amount (LCY)');
        builder.Append(' to positive amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ');
        builder.Append('","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Jo');
        builder.Append('urnal Line","FieldName":"Amount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"');
        builder.Append('NUMERICEXPRESSION","Activity":{"VariableName":"PositiveAmount","Expression":"0-Amount","Tokens":[{"T');
        builder.Append('okenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Gen. Journal Line","FieldName":"Amount"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Var');
        builder.Append('iableName":"PositiveAmountLCY","Expression":"0-AmountLCY","Tokens":[{"TokenName":"AmountLCY","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Amount (LCY)"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE"');
        builder.Append(',"Activity":{"OutputVariableName":"PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}},{"ActivityType":"SETV');
        builder.Append('ARIABLE","Activity":{"OutputVariableName":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}}]}}},');
        builder.Append('{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is L');
        builder.Append('ess Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"Amount Excl. GST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULA');
        builder.Append('TION","Activity":{"OutputVariableName":"PositiveAmtExclGST","Operator":"Minus","LHS":{"Type":"Consta');
        builder.Append('nt","Value":""},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Amount Excl. GST"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityT');
        builder.Append('ype":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmtExclGST","OutputValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl');
        builder.Append('. GST"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condi');
        builder.Append('tionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}');
        builder.Append('},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputV');
        builder.Append('ariableName":"PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"PositiveAmtExclGST"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"P');
        builder.Append('ositiveAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"P');
        builder.Append('ositiveAmtExclGST"}}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Created string for curren');
        builder.Append('t financial year"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartD');
        builder.Append('ate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Perio');
        builder.Append('d","TableFieldName":"Starting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"T');
        builder.Append('ax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Co');
        builder.Append('de","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":');
        builder.Append('"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":');
        builder.Append('"Starting Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FiterFie');
        builder.Append('ldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"');
        builder.Append('FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}');
        builder.Append('}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName"');
        builder.Append(':"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldN');
        builder.Append('ame":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFie');
        builder.Append('ldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date');
        builder.Append('","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}}},{"ActivityType":');
        builder.Append('"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter","Expression":"{StartDate}');
        builder.Append('..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}},{"TokenName":"StartDate","F');
        builder.Append('ormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"FiscalYearStartDate"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted Invoice');
        builder.Append(' amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","OutputVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoic');
        builder.Append('e Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fi');
        builder.Append('eldName":"Party Code"}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Secti');
        builder.Append('on Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting');
        builder.Append(' Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment"');
        builder.Append(':"Total posted Payment amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Pay');
        builder.Append('mentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","T');
        builder.Append('ableFieldName":"Payment Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Gen. Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"Section","FilterType":"Equals","Fi');
        builder.Append('lterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line",');
        builder.Append('"FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"Fi');
        builder.Append('terFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"COMMENT"');
        builder.Append(',"Activity":{"Comment":"Sum of posted payment and invoice amount"}},{"ActivityType":"NUMERICEXPRESSI');
        builder.Append('ON","Activity":{"VariableName":"PrevInvAmountLCY","Expression":"PostedInvoiceAmount+PostedPaymentAmo');
        builder.Append('unt","Tokens":[{"TokenName":"PostedInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"InvoiceAmount"}}},{"TokenName":"PostedPaymentAmount","TokenValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}}]}},{"ActivityType":');
        builder.Append('"COMMENT","Activity":{"Comment":"Total posted contract amount"}},{"ActivityType":"SETVARIABLE","Acti');
        builder.Append('vity":{"OutputVariableName":"PreviousContractAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilter');
        builder.Append('s":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterField');
        builder.Append('Name":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Postin');
        builder.Append('g Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Per Contract","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Constant","Value":"true"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"T');
        builder.Append('otal Posted amount without contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Varia');
        builder.Append('bleName":"TotalInvAmtWOContractLCY","Expression":"TotalPostedAmount-PostedContractAmount","Tokens":[');
        builder.Append('{"TokenName":"PostedContractAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"PreviousContractAmount"}}},{"TokenName":"TotalPostedAmount","TokenValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}]}},{"ActivityType":"CO');
        builder.Append('MMENT","Activity":{"Comment":"Total Payment Amount on current batch"}},{"ActivityType":"SETVARIABLE"');
        builder.Append(',"Activity":{"OutputVariableName":"BatchPaymentAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Table","TableName":"Gen. Journal Line","TableFieldName":"Amount (LCY)","Method":"Sum","');
        builder.Append('TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journ');
        builder.Append('al Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Not Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Line No.');
        builder.Append('"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value');
        builder.Append('":"Payment"}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","FilterValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal B');
        builder.Append('atch Name"}}},{"FiterFieldName":"Party Type","FilterType":"Equals","FilterValue":{"Type":"Constant",');
        builder.Append('"Value":"Vendor"}},{"FiterFieldName":"Party Code","FilterType":"Equals","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}');
        builder.Append('}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}');
        builder.Append('}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Invoice Amount on current batch"}},{"Acti');
        builder.Append('vityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchInvoiceAmountLCY","OutputValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Table","TableName":"Gen. Journal Line","TableFieldName":"Amount ');
        builder.Append('(LCY)","Method":"Sum","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Not Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"Line No."}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Constant","Value":"Invoice"}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line"');
        builder.Append(',"FieldName":"Journal Batch Name"}}},{"FiterFieldName":"Party Type","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldN');
        builder.Append('ame":"Party Type"}}},{"FiterFieldName":"Party Code","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code');
        builder.Append('"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}');
        builder.Append(']}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"BatchInvoiceAmountLCY","');
        builder.Append('Operator":"Minus","LHS":{"Type":"Constant","Value":"0"},"RHS":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"BatchInvoiceAmountLCY"}}}},{"ActivityType":"COMMENT","Activity":{"Comme');
        builder.Append('nt":"Total Batch amount including Current Line Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activi');
        builder.Append('ty":{"VariableName":"BatchAmountLCY","Expression":"BatchPaymentAmount+BatchInvoiceAmount+AmountLCY",');
        builder.Append('"Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"PositiveAmountLCY"}}},{"TokenName":"BatchInvoiceAmount","TokenValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"BatchInvoiceAmountLCY"}}},{"TokenName":"BatchPaym');
        builder.Append('entAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchPaym');
        builder.Append('entAmountLCY"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","');
        builder.Append('ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"TDS Posting to G/L"}},"RHS":{"Type":"Constant","Value":"true"}}]},"Body":[{"Activity');
        builder.Append('Type":"SETVARIABLE","Activity":{"OutputVariableName":"BatchAmountLCY","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}}}}]}},{"ActivityType":"NUMERI');
        builder.Append('CEXPRESSION","Activity":{"VariableName":"TotalInvAmountLCY","Expression":"PostedAmountLCY+BatchAmoun');
        builder.Append('tLCY","Tokens":[{"TokenName":"BatchAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"BatchAmountLCY"}}},{"TokenName":"PostedAmountLCY","TokenValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}]}},{"ActivityType":"COM');
        builder.Append('MENT","Activity":{"Comment":"Converted Amount from LCY to FCY"}},{"ActivityType":"IFSTATEMENT","Acti');
        builder.Append('vity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Code"}},"RHS":{"Type":"Con');
        builder.Append('stant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"');
        builder.Append('TotalInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}},{"ActivityType":"NUMBERCALCULATION",');
        builder.Append('"Activity":{"OutputVariableName":"TotalInvAmtWOContract","Operator":"Multiply By","LHS":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}},"RHS":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency ');
        builder.Append('Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PrevInvAmount","Op');
        builder.Append('erator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevI');
        builder.Append('nvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jour');
        builder.Append('nal Line","FieldName":"Currency Factor"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityTyp');
        builder.Append('e":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmount","OutputValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}},{"ActivityType":"SETVARIABLE"');
        builder.Append(',"Activity":{"OutputVariableName":"TotalInvAmtWOContract","OutputValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"SETVARIABLE","');
        builder.Append('Activity":{"OutputVariableName":"PrevInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"PrevInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activity":{"Commen');
        builder.Append('t":"Get applied amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator"');
        builder.Append(':" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}}]},"Body":[{"Acti');
        builder.Append('vityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","L');
        builder.Append('HS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to');
        builder.Append(' Doc. Type"}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType":"Not Eq');
        builder.Append('uals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Ap');
        builder.Append('plies-to Doc. No."}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","');
        builder.Append('Activity":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","Table');
        builder.Append('Filters":[{"FiterFieldName":"Document No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. No.');
        builder.Append('"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}');
        builder.Append(']}}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTy');
        builder.Append('pe":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"Applies-to ID"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIAB');
        builder.Append('LE","Activity":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","');
        builder.Append('TableFilters":[{"FiterFieldName":"Applies-to ID","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to ID');
        builder.Append('"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}');
        builder.Append(']}}}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Conditio');
        builder.Append('nType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}},"RHS');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}]},"Body":[{"');
        builder.Append('ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TaxableAmountExclApplied","Expression"');
        builder.Append(':"Amount-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}}]}}],"ElseIf":{"Con');
        builder.Append('dition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TaxableA');
        builder.Append('mountExclApplied","OutputValue":{"Type":"Constant","Value":"0"}}}]}}},{"ActivityType":"COMMENT","Act');
        builder.Append('ivity":{"Comment":"Total Taxable Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Variable');
        builder.Append('Name":"TotalTaxableInvAmount","Expression":"(PostedAmount+Amount)-AppliedAmount","Tokens":[{"TokenNa');
        builder.Append('me":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Positiv');
        builder.Append('eAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Varia');
        builder.Append('ble","VariableName":"AppliedAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activ');
        builder.Append('ity":{"Comment":"Total Taxable Amount excluding posted contract amount"}},{"ActivityType":"NUMERICEX');
        builder.Append('PRESSION","Activity":{"VariableName":"TotalTaxableInvAmtWOContract","Expression":"((PostedAmount-Con');
        builder.Append('tractAmt)+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenNa');
        builder.Append('me":"ContractAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Pr');
        builder.Append('eviousContractAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment');
        builder.Append('":"Condition to calculate TDS Amount considering Threshold limit"}},{"ActivityType":"IFSTATEMENT","A');
        builder.Append('ctivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType');
        builder.Append('":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"Fite');
        builder.Append('rFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS');
        builder.Append(' Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Threshold Ov');
        builder.Append('erlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Co');
        builder.Append('nstant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Oper');
        builder.Append('ator":" ","ConditionType":"Is Less Than Or Equals To","LHS":{"Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnNam');
        builder.Append('e":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body"');
        builder.Append(':[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnNam');
        builder.Append('e":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEME');
        builder.Append('NT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Looku');
        builder.Append('p":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABL');
        builder.Append('E","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"TotalTaxableInvAmtWOContract"}}}}],"ElseIf":{"Condition":{"Body"');
        builder.Append(':[]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Conditi');
        builder.Append('onType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY');
        builder.Append('"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]');
        builder.Append('},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}');
        builder.Append('}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVaria');
        builder.Append('bleName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Condi');
        builder.Append('tion":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Column","Rate');
        builder.Append('ColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"');
        builder.Append('IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS');
        builder.Append('":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"S');
        builder.Append('ETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmount"}}}}],"ElseIf":{"Condition":{"Bod');
        builder.Append('y":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","Ou');
        builder.Append('tputValue":{"Type":"Constant","Value":"0"}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" "');
        builder.Append(',"ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvA');
        builder.Append('mountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold A');
        builder.Append('mount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount');
        builder.Append('","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExcl');
        builder.Append('Applied"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"TaxableAmountExclApplied"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","Activi');
        builder.Append('ty":{"VariableName":"TDSAmount","Expression":"TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenName":"TDSP');
        builder.Append('er","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Non PA');
        builder.Append('N TDS"}}},{"TokenName":"TDSTaxableAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"TDSTaxableAmount"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariable');
        builder.Append('Name":"PreSurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName');
        builder.Append('":"TDS Entry","TableFieldName":"Surcharge Base Amount","Method":"Sum","TableFilters":[{"FiterFieldNa');
        builder.Append('me":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"FiterFieldName":"Section","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":');
        builder.Append('"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}}]}}}},{"ActivityT');
        builder.Append('ype":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalSurchargeBaseAmt","Expression":"PreSurchar');
        builder.Append('geBaseAmt+TDSAmount","Tokens":[{"TokenName":"PreSurchargeBaseAmt","TokenValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"PreSurchargeBaseAmt"}}},{"TokenName":"TDSAmount","Toke');
        builder.Append('nValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}]}},{"Activi');
        builder.Append('tyType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS');
        builder.Append('":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist');
        builder.Append('","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}');
        builder.Append('},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"Fiter');
        builder.Append('FieldName":"Surcharge Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true');
        builder.Append('"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Co');
        builder.Append('ndition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","Ra');
        builder.Append('teColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"C');
        builder.Append('ondition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column');
        builder.Append('","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity');
        builder.Append('":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Va');
        builder.Append('riable","VariableName":"TotalSurchargeBaseAmt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Acti');
        builder.Append('vityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"C');
        builder.Append('onstant","Value":"0"}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE"');
        builder.Append(',"Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"TDSAmount"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Ac');
        builder.Append('tivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}},{"ActivityType":"IFSTA');
        builder.Append('TEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"');
        builder.Append('SourceType":"Variable","VariableName":"TDSTaxableAmount"}},"RHS":{"Type":"Constant","Value":""}}]},"');
        builder.Append('Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}}],"ElseIf":{"Cond');
        builder.Append('ition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAm');
        builder.Append('t","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount');
        builder.Append('"}}}}]}}}],"PostingVariables":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"Name":"TDSInclud');
        builder.Append('ingSurcharge","Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":"PaymentAmt","D');
        builder.Append('atatype":"Number"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","Datatype":"Numb');
        builder.Append('er"},{"Name":"PerContract","Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name');
        builder.Append('":"InvoiceAmount","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"Fis');
        builder.Append('calYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TDSP');
        builder.Append('er","Datatype":"Number"},{"Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPer","Datatype":"');
        builder.Append('Number"},{"Name":"SHECessPer","Datatype":"Number"}],"PostingScript":[{"ActivityType":"NUMERICEXPRESS');
        builder.Append('ION","Activity":{"VariableName":"TDSIncludingSHECess","Expression":"{TDS}+{Surcharge}+{eCESS}+{SHECe');
        builder.Append('ss}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Componen');
        builder.Append('t","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Surcharge}","TokenValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","Toke');
        builder.Append('nValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"Ac');
        builder.Append('tivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSurcharge","Expression":"{TD');
        builder.Append('S}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ActivityType":"IFSTATEMENT"');
        builder.Append(',"Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}},"RHS":{"Typ');
        builder.Append('e":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":');
        builder.Append('"TotalAmtLCY","Expression":"0-{Amt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]');
        builder.Append('}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVaria');
        builder.Append('bleName":"TotalAmtLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityType":"SETVARIABLE","Activity');
        builder.Append('":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last","TableF');
        builder.Append('ilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"Fir');
        builder.Append('st","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","T');
        builder.Append('ableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equals To","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line"');
        builder.Append(',"FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariabl');
        builder.Append('eName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName"');
        builder.Append(':"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"FiterField');
        builder.Append('Name":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"T');
        builder.Append('able","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{');
        builder.Append('"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}');
        builder.Append('},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value"');
        builder.Append(':"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value"');
        builder.Append(':"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To","FilterValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName');
        builder.Append('":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"Accoun');
        builder.Append('tingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString"');
        builder.Append(':"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYe');
        builder.Append('arStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"ActivityType":"SETVARIABLE');
        builder.Append('","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"First","TableFilters":');
        builder.Append('[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldNa');
        builder.Append('me":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee');
        builder.Append(' Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes",');
        builder.Append('"AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},');
        builder.Append('{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"In');
        builder.Append('voice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmt","OutputVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Paymen');
        builder.Append('t Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","');
        builder.Append('FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Se');
        builder.Append('ction Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Post');
        builder.Append('ing Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable"');
        builder.Append(',"VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activit');
        builder.Append('y":{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens":[{"TokenName":"Invoic');
        builder.Append('eAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmt"}}}');
        builder.Append(',{"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt');
        builder.Append('","Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}}},{"TokenName":"{InvAmt}","TokenValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}}}]}},{"ActivityType":"I');
        builder.Append('FSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup');
        builder.Append('":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"Threshold Overlook","Method');
        builder.Append('":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Accoun');
        builder.Append('t No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}');
        builder.Append(']}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condi');
        builder.Append('tion":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumn');
        builder.Append('Name":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bo');
        builder.Append('dy":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Column","RateC');
        builder.Append('olumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"I');
        builder.Append('FSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT');
        builder.Append('","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"PerContract","OutputValue":{"Type":"Constant","Value":"true"}}}]}}]}}]}}]');
        builder.Append('}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType"');
        builder.Append(':"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"Document Type"}},"RHS":{"Type":"Constant","Value":"Payment"}}]},"Body":[{"ActivityType":"SETVARIAB');
        builder.Append('LE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}}],"ElseIf":{"Conditi');
        builder.Append('on":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmoun');
        builder.Append('t","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal ');
        builder.Append('Line","FieldName":"Amount"}}}}]}}}],"Components":[{"ComponentName":"eCESS","Sequence":3,"Formula":{"');
        builder.Append('VariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{EcessPer}/100","Tokens":[{"TokenName":"{Ec');
        builder.Append('essPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"e');
        builder.Append('CESS"}}},{"TokenName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Compone');
        builder.Append('nt","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"SHE Cess ","Sequence":');
        builder.Append('4,"Formula":{"VariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{SheCessPer}/100","Tokens":[{');
        builder.Append('"TokenName":"{SheCessPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent",');
        builder.Append('"ComponentName":"SHE Cess "}}},{"TokenName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"');
        builder.Append('TDS Base Amount","Sequence":6,"Formula":{"VariableName":"","Expression":"{TDSBaseAmt}","Tokens":[{"T');
        builder.Append('okenName":"{TDSBaseAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"TDSBaseAmt"}}}]}},{"ComponentName":"Surcharge","Sequence":2,"Formula":{"VariableName":"","Expre');
        builder.Append('ssion":"{TDSAmt}*{SurchargePer}/100","Tokens":[{"TokenName":"{SurchargePer}","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"TokenName":"{TDSA');
        builder.Append('mt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"SurchargeBaseAm');
        builder.Append('t"}}}]}},{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Expression":');
        builder.Append('"NonPANTDS+Surcharge+eCess+SheCess","Tokens":[{"TokenName":"eCess","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"NonPANTDS","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"TokenName":"SheC');
        builder.Append('ess","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}}');
        builder.Append(',{"TokenName":"Surcharge","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Componen');
        builder.Append('tName":"Surcharge"}}}]}},{"ComponentName":"Non PAN TDS","Sequence":1,"Formula":{"VariableName":"","E');
        builder.Append('xpression":"TDSTaxableAmount*TDS/100","Tokens":[{"TokenName":"TDS","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component Percent","ComponentName":"Non PAN TDS"}}},{"TokenName":"TDSTaxableAmo');
        builder.Append('unt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmoun');
        builder.Append('t"}}}]}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Cons');
        builder.Append('tant","Value":"Invoice"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"');
        builder.Append('Current Record","TableName":"Gen. Journal Line","FieldName":"Provisional Entry"}},"RHS":{"Type":"Con');
        builder.Append('stant","Value":"true"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType"');
        builder.Append(':"Table","TableName":"Vendor","TableFieldName":"P.A.N. Status","Method":"First","TableFilters":[{"Fi');
        builder.Append('terFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}}]}},"RHS":{"Type":"Constant"');
        builder.Append(',"Value":" "}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Valu');
        builder.Append('e":"G/L Account"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Tab');
        builder.Append('le","TableName":"TDS Concessional Code","TableFieldName":"Concessional Code","Method":"First","Table');
        builder.Append('Filters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Party Code"}}},{"Fite');
        builder.Append('rFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"C');
        builder.Append('onstant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"Party Type"}},"RHS":{"Type":"Constant","Val');
        builder.Append('ue":"Vendor"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","');
        builder.Append('Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record');
        builder.Append('","TableName":"Gen. Journal Line","FieldName":"System-Created Entry"}},"RHS":{"Type":"Constant","Val');
        builder.Append('ue":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Gen. Journal Line","FieldName":"Work Tax Nature Of Deduction"}},"RHS":{"Type":"Constant"');
        builder.Append(',"Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"System-Created Entry"}},"RHS":{"Type":"Constant","V');
        builder.Append('alue":""}}]},"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","TableName":"TDS Posting Setup",');
        builder.Append('"AccountSourceType":"Field","FieldName":"TDS Account","AccountingImpact":"Credit","ReverseCharge":fa');
        builder.Append('lse,"ReverseAccountSourceType":"Field","ReverseChargeFieldName":"","When":[{"Condition":{"Body":[{"O');
        builder.Append('perator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Gen. Journal Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}},{"Operat');
        builder.Append('or":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. ');
        builder.Append('Journal Line","FieldName":"Provisional Entry"}},"RHS":{"Type":"Constant","Value":"true"}}]},"ValueTy');
        builder.Append('pe":"Insert Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger":true,"RecordVariable":"","S');
        builder.Append('ubLedgerGrpBy":"Component","InsertRecordFields":[{"FieldName":"Vendor No.","Sequence":4,"ReverseSign');
        builder.Append('":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal ');
        builder.Append('Line","FieldName":"Party Code"}}},{"FieldName":"T.A.N. No.","Sequence":5,"ReverseSign":false,"Lookup');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"TAN No."}}},{"FieldName"');
        builder.Append(':"Section","Sequence":6,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FieldName":"Assessee C');
        builder.Append('ode","Sequence":7,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attribut');
        builder.Append('es","AttributeName":"Assessee Code"}}},{"FieldName":"TDS Base Amount","Sequence":8,"ReverseSign":fal');
        builder.Append('se,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}}');
        builder.Append(',{"FieldName":"TDS %","Sequence":9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Component Percent","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Amount","Sequence":10,"Re');
        builder.Append('verseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non P');
        builder.Append('AN TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"FieldName":"Surcharge Amou');
        builder.Append('nt","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","');
        builder.Append('ComponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSign":false,"Lookup":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"FieldName":"eCe');
        builder.Append('ss Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Compo');
        builder.Append('nent","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"ReverseSign":false,"Lookup');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Cess "}}},{"Field');
        builder.Append('Name":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional Code","Sequence":17,"Re');
        builder.Append('verseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"');
        builder.Append('Concessional Code"}}},{"FieldName":"Concessional Form No.","Sequence":37,"ReverseSign":false,"Lookup');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","TableFieldNam');
        builder.Append('e":"Certificate No.","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"E');
        builder.Append('quals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jour');
        builder.Append('nal Line","FieldName":"Party Code"}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNam');
        builder.Append('e":"TDS Section Code"}}}]}}},{"FieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":false,"Look');
        builder.Append('up":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{"FieldNam');
        builder.Append('e":"Work Tax %","Sequence":32,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Component Percent","ComponentName":"Work Tax"}}},{"FieldName":"Work Tax Amount","Sequence":34,"Rever');
        builder.Append('seSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Work Tax');
        builder.Append('"}}},{"FieldName":"Work Tax Base Amount","Sequence":33,"ReverseSign":false,"Lookup":{"Type":"Constan');
        builder.Append('t","Value":"0.00"}},{"FieldName":"Invoice Amount","Sequence":25,"ReverseSign":false,"Lookup":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"Post');
        builder.Append('ing Date","Sequence":3,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FieldName":"Document Type",');
        builder.Append('"Sequence":26,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Gen. Journal Line","FieldName":"Document Type"}}},{"FieldName":"Document No.","Sequence');
        builder.Append('":2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVar');
        builder.Append('iableName":"Posted Document No."}}},{"FieldName":"Account Type","Sequence":23,"ReverseSign":false,"L');
        builder.Append('ookup":{"Type":"Constant","Value":"G/L Account"}},{"FieldName":"Account No.","Sequence":45,"ReverseS');
        builder.Append('ign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Posting Setup",');
        builder.Append('"TableFieldName":"TDS Account","Method":"Last","TableFilters":[{"FiterFieldName":"TDS Section","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType');
        builder.Append('":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}},{"FieldName":"Party Type","Sequen');
        builder.Append('ce":41,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"Vendor"}},{"FieldName":"Party Code",');
        builder.Append('"Sequence":24,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableNam');
        builder.Append('e":"TDS Posting Setup","TableFieldName":"TDS Account","Method":"First","TableFilters":[{"FiterFieldN');
        builder.Append('ame":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Eff');
        builder.Append('ective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}},{"FieldNa');
        builder.Append('me":"Source Code","Sequence":28,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"PURCHASES"}');
        builder.Append('},{"FieldName":"TDS Amount Including Surcharge","Sequence":22,"ReverseSign":false,"Lookup":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSurcharge"}}},{"FieldName":"Ba');
        builder.Append('l. TDS Including SHE CESS","Sequence":29,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Remaining Surcharge Amoun');
        builder.Append('t","Sequence":31,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","C');
        builder.Append('omponentName":"Surcharge"}}},{"FieldName":"Remaining TDS Amount","Sequence":43,"ReverseSign":false,"');
        builder.Append('Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"Field');
        builder.Append('Name":"TDS Line Amount","Sequence":44,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}},{"FieldName":"Total ');
        builder.Append('TDS Including SHE CESS","Sequence":21,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Per Contract","Sequence":39,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PerC');
        builder.Append('ontract"}}},{"FieldName":"User ID","Sequence":30,"ReverseSign":false,"Lookup":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Database","DatabaseVariableName":"UserId"}}},{"FieldName":"Transaction No.","Sequ');
        builder.Append('ence":38,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","Posti');
        builder.Append('ngVariableName":"G/L Entry Transaction No."}}},{"FieldName":"Original TDS Base Amount","Sequence":27');
        builder.Append(',"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"T');
        builder.Append('DS Base Amount"}}},{"FieldName":"Payment Amount","Sequence":40,"ReverseSign":false,"Lookup":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}},{"FieldName":"Surcharge');
        builder.Append(' Base Amount","Sequence":42,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Co');
        builder.Append('mponent","ComponentName":"Non PAN TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"ReverseSign":fa');
        builder.Append('lse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entr');
        builder.Append('y No."}}}]}}]}],"AttachedEvents":[{"EventName":"CallTaxEngineOnGenJnlLine","Enabled":true,"Sequence"');
        builder.Append(':0},{"EventName":"OnAfterGenJnlLineUpdated","Enabled":true,"Sequence":0}]},{"Description":"Calculati');
        builder.Append('on of Tax Deduction at Source through General Journal for Vendors.\n","TaxType":"TDS","Code":"","Tax');
        builder.Append('Entity":"Gen. Journal Line","ParentUseCase":"","PresentationOrder":264,"Indent":0,"PostingTableName"');
        builder.Append(':"TDS Posting Setup","PostingTableFilters":[],"Attributes":[{"Name":"Assessee Code","When":[{"ValueT');
        builder.Append('ype":"Relation","Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. ');
        builder.Append('Journal Line","FieldName":"Account No."}}}]}}]},{"Name":"TAN No.","When":[{"ValueType":"Relation","R');
        builder.Append('elation":{"TableName":"Gen. Journal Line","TableFilters":[{"FiterFieldName":"Journal Template Name",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"Journal Batch Name"}}}]}}]},{"Name":"Section Code","When":[{"ValueType":"Relati');
        builder.Append('on","Relation":{"TableName":"Gen. Journal Line","TableFilters":[{"FiterFieldName":"Journal Template ');
        builder.Append('Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Journal Batch Name","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. ');
        builder.Append('Journal Line","FieldName":"Journal Batch Name"}}}]}}]}],"RateColumns":[{"Name":"Effective Date","Whe');
        builder.Append('n":[{"ValueType":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","F');
        builder.Append('ieldName":"Posting Date"}}]}],"ComputationVariables":[],"ComputationScript":[],"PostingVariables":[]');
        builder.Append(',"PostingScript":[],"Components":[],"Condition":{"Body":[]},"TaxPostingSetup":[],"AttachedEvents":[]');
        builder.Append('},{"Description":"Calculation of Tax Deduction at Source through General Journal for Vendor where no');
        builder.Append(' PAN No. is specified along with Concessional Codes.\n","TaxType":"TDS","Code":"","TaxEntity":"Gen. ');
        builder.Append('Journal Line","ParentUseCase":"Calculation of Tax Deduction at Source through General Journal for Ve');
        builder.Append('ndors.\n","PresentationOrder":265,"Indent":1,"PostingTableName":"TDS Posting Setup","PostingTableFil');
        builder.Append('ters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"');
        builder.Append('FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Da');
        builder.Append('te"}}}],"Attributes":[{"Name":"Concessional Code","When":[{"ValueType":"Relation","Relation":{"Table');
        builder.Append('Name":"TDS Concessional Code","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS');
        builder.Append(' Section Code"}}}]}}]}],"RateColumns":[{"Name":"Effective Date","When":[{"ValueType":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}]}],"C');
        builder.Append('omputationVariables":[{"Name":"TotalAmount","Datatype":"Number"},{"Name":"TDSTaxableAmount","Datatyp');
        builder.Append('e":"Number"},{"Name":"SurchargeBaseAmt","Datatype":"Number"},{"Name":"TDSAmount","Datatype":"Number"');
        builder.Append('},{"Name":"PrevInvAmountLCY","Datatype":"Number"},{"Name":"PrevInvAmount","Datatype":"Number"},{"Nam');
        builder.Append('e":"InvoiceAmount","Datatype":"Number"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"Previo');
        builder.Append('usContractAmount","Datatype":"Number"},{"Name":"TotalInvAmountLCY","Datatype":"Number"},{"Name":"Tot');
        builder.Append('alInvAmount","Datatype":"Number"},{"Name":"TotalInvAmtWOContractLCY","Datatype":"Number"},{"Name":"T');
        builder.Append('otalInvAmtWOContract","Datatype":"Number"},{"Name":"PreSurchargeBaseAmt","Datatype":"Number"},{"Name');
        builder.Append('":"TotalSurchargeBaseAmt","Datatype":"Number"},{"Name":"PositiveAmount","Datatype":"Number"},{"Name"');
        builder.Append(':"PositiveAmountLCY","Datatype":"Number"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"Name":"FiscalY');
        builder.Append('earStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingD');
        builder.Append('ateFilter","Datatype":"String"},{"Name":"TotalCurrAmountLCY","Datatype":"Number"},{"Name":"PositiveT');
        builder.Append('otalCurrAmountLCY","Datatype":"Number"},{"Name":"AppliedAmount","Datatype":"Number"},{"Name":"TotalT');
        builder.Append('axableInvAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmtWOContract","Datatype":"Number"},{"');
        builder.Append('Name":"BatchAmountLCY","Datatype":"Number"},{"Name":"BatchPaymentAmountLCY","Datatype":"Number"},{"N');
        builder.Append('ame":"BatchInvoiceAmountLCY","Datatype":"Number"},{"Name":"PositiveAmtExclGST","Datatype":"Number"},');
        builder.Append('{"Name":"TaxableAmountExclApplied","Datatype":"Number"}],"ComputationScript":[{"ActivityType":"COMME');
        builder.Append('NT","Activity":{"Comment":"Converted Current Line''s amount and amount (LCY) to positive amount"}},{"');
        builder.Append('ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Les');
        builder.Append('s Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Amount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activ');
        builder.Append('ity":{"VariableName":"PositiveAmount","Expression":"0-Amount","Tokens":[{"TokenName":"Amount","Token');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"Amount"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PositiveAmoun');
        builder.Append('tLCY","Expression":"0-AmountLCY","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]');
        builder.Append('}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVaria');
        builder.Append('bleName":"PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Gen. Journal Line","FieldName":"Amount"}}}},{"ActivityType":"SETVARIABLE","Activity":{"Out');
        builder.Append('putVariableName":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityType":"IFSTATEM');
        builder.Append('ENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}},"RH');
        builder.Append('S":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"Output');
        builder.Append('VariableName":"PositiveAmtExclGST","Operator":"Minus","LHS":{"Type":"Constant","Value":""},"RHS":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"A');
        builder.Append('mount Excl. GST"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activ');
        builder.Append('ity":{"OutputVariableName":"PositiveAmtExclGST","OutputValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}}}}]}}},{"Activity');
        builder.Append('Type":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","L');
        builder.Append('HS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}},"RHS":{"Type":"Constant');
        builder.Append('","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmo');
        builder.Append('unt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExc');
        builder.Append('lGST"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmountLCY","Output');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}}}}]}}');
        builder.Append(',{"ActivityType":"COMMENT","Activity":{"Comment":"Created string for current financial year"}},{"Act');
        builder.Append('ivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Star');
        builder.Append('ting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName"');
        builder.Append(':"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldNa');
        builder.Append('me":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterTy');
        builder.Append('pe":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVA');
        builder.Append('RIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"');
        builder.Append('Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period",');
        builder.Append('"Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Metho');
        builder.Append('d":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greate');
        builder.Append('r Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activ');
        builder.Append('ity":{"OutputVariableName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"T');
        builder.Append('okenName":"EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"FiscalYearEndDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVa');
        builder.Append('riableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}');
        builder.Append('}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted Invoice amount"}},{"ActivityType');
        builder.Append('":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum",');
        builder.Append('"TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}');
        builder.Append(',{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterField');
        builder.Append('Name":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"T');
        builder.Append('ax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL');
        builder.Append(' Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Accounting');
        builder.Append('DateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Consta');
        builder.Append('nt","Value":"Invoice"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted Payment a');
        builder.Append('mount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment ');
        builder.Append('Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Sectio');
        builder.Append('n Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting ');
        builder.Append('Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":');
        builder.Append('"Sum of posted payment and invoice amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Variab');
        builder.Append('leName":"PrevInvAmountLCY","Expression":"PostedInvoiceAmount+PostedPaymentAmount","Tokens":[{"TokenN');
        builder.Append('ame":"PostedInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"InvoiceAmount"}}},{"TokenName":"PostedPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"PaymentAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"');
        builder.Append('Comment":"Total posted contract amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableN');
        builder.Append('ame":"PreviousContractAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableNa');
        builder.Append('me":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"');
        builder.Append('Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Posting Date","FilterType":"');
        builder.Append('CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Account');
        builder.Append('ingDateFilter"}}},{"FiterFieldName":"Per Contract","FilterType":"Equals","FilterValue":{"Type":"Cons');
        builder.Append('tant","Value":"true"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Posted amount wit');
        builder.Append('hout contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmtW');
        builder.Append('OContractLCY","Expression":"TotalPostedAmount-PostedContractAmount","Tokens":[{"TokenName":"PostedCo');
        builder.Append('ntractAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Previo');
        builder.Append('usContractAmount"}}},{"TokenName":"TotalPostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"TotalInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Co');
        builder.Append('mment":"Total Payment Amount on current batch"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVa');
        builder.Append('riableName":"BatchPaymentAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","T');
        builder.Append('ableName":"Gen. Journal Line","TableFieldName":"Amount (LCY)","Method":"Sum","TableFilters":[{"Fiter');
        builder.Append('FieldName":"Journal Template Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{');
        builder.Append('"FiterFieldName":"Line No.","FilterType":"Not Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName"');
        builder.Append(':"Account Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"Account Type"}}},{"FiterFieldName":"Account No');
        builder.Append('.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Document Type","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}},{"FiterFieldName":"Journal Batch N');
        builder.Append('ame","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Gen. Journal Line","FieldName":"Journal Batch Name"}}},{"FiterFieldName":"TDS Section Cod');
        builder.Append('e","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":"COMMENT","Activi');
        builder.Append('ty":{"Comment":"Total Invoice Amount on current batch"}},{"ActivityType":"SETVARIABLE","Activity":{"');
        builder.Append('OutputVariableName":"BatchInvoiceAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"T');
        builder.Append('able","TableName":"Gen. Journal Line","TableFieldName":"Amount (LCY)","Method":"Sum","TableFilters":');
        builder.Append('[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Template Na');
        builder.Append('me"}}},{"FiterFieldName":"Line No.","FilterType":"Not Equals","FilterValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterFi');
        builder.Append('eldName":"Account Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"Account Type"}}},{"FiterFieldName":"Ac');
        builder.Append('count No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Document Type","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}},{"FiterFieldName":"Journal');
        builder.Append(' Batch Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Gen. Journal Line","FieldName":"Journal Batch Name"}}},{"FiterFieldName":"TDS Sec');
        builder.Append('tion Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":"NUMBERCA');
        builder.Append('LCULATION","Activity":{"OutputVariableName":"BatchInvoiceAmountLCY","Operator":"Minus","LHS":{"Type"');
        builder.Append(':"Constant","Value":"0"},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Ba');
        builder.Append('tchInvoiceAmountLCY"}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Batch amount includi');
        builder.Append('ng Current Line Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"BatchAmoun');
        builder.Append('tLCY","Expression":"BatchPaymentAmount+BatchInvoiceAmount+AmountLCY","Tokens":[{"TokenName":"AmountL');
        builder.Append('CY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLC');
        builder.Append('Y"}}},{"TokenName":"BatchInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variab');
        builder.Append('le","VariableName":"BatchInvoiceAmountLCY"}}},{"TokenName":"BatchPaymentAmount","TokenValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchPaymentAmountLCY"}}}]}},{"ActivityT');
        builder.Append('ype":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Posting to ');
        builder.Append('G/L"}},"RHS":{"Type":"Constant","Value":"true"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":');
        builder.Append('{"OutputVariableName":"BatchAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variab');
        builder.Append('le","VariableName":"PositiveAmountLCY"}}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Varia');
        builder.Append('bleName":"TotalInvAmountLCY","Expression":"PostedAmountLCY+BatchAmountLCY","Tokens":[{"TokenName":"B');
        builder.Append('atchAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Batch');
        builder.Append('AmountLCY"}}},{"TokenName":"PostedAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"V');
        builder.Append('ariable","VariableName":"PrevInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Co');
        builder.Append('nverted Amount from LCY to FCY"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"O');
        builder.Append('perator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Gen. Journal Line","FieldName":"Currency Code"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{');
        builder.Append('"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmount","Operator":"Mul');
        builder.Append('tiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY');
        builder.Append('"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","');
        builder.Append('FieldName":"Currency Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName');
        builder.Append('":"TotalInvAmtWOContract","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Va');
        builder.Append('riable","VariableName":"TotalInvAmtWOContractLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}},{"ActivityType":"NU');
        builder.Append('MBERCALCULATION","Activity":{"OutputVariableName":"PrevInvAmount","Operator":"Multiply By","LHS":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency');
        builder.Append(' Factor"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"O');
        builder.Append('utputVariableName":"TotalInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable"');
        builder.Append(',"VariableName":"TotalInvAmountLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNam');
        builder.Append('e":"TotalInvAmtWOContract","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variabl');
        builder.Append('eName":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName"');
        builder.Append(':"PrevInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Pr');
        builder.Append('evInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Get applied amount"}},{"Act');
        builder.Append('ivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","');
        builder.Append('LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document ');
        builder.Append('Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activi');
        builder.Append('ty":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. Type"}},"RHS":{"Type":"Co');
        builder.Append('nstant","Value":"Payment"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. No."}},"RHS":{"Ty');
        builder.Append('pe":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName"');
        builder.Append(':"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Vendor L');
        builder.Append('edger Entry","TableFieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName":"Do');
        builder.Append('cument No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. No."}}},{"FiterFieldName":"TDS Sec');
        builder.Append('tion Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}}]}},{"ActivityType":"IFSTA');
        builder.Append('TEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to ID"}},"RHS"');
        builder.Append(':{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariable');
        builder.Append('Name":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Ven');
        builder.Append('dor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName');
        builder.Append('":"Applies-to ID","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Gen. Journal Line","FieldName":"Applies-to ID"}}},{"FiterFieldName":"TDS Sec');
        builder.Append('tion Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}}]}}]}},{"ActivityType":"IF');
        builder.Append('STATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"L');
        builder.Append('ookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}},"RHS":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"PositiveAmount"}}}]},"Body":[{"ActivityType":"NUMERICEXPRESSIO');
        builder.Append('N","Activity":{"VariableName":"TaxableAmountExclApplied","Expression":"Amount-AppliedAmount","Tokens');
        builder.Append('":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Variable","VariableName":"AppliedAmount"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"A');
        builder.Append('ctivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TaxableAmountExclApplied","OutputValue"');
        builder.Append(':{"Type":"Constant","Value":"0"}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxabl');
        builder.Append('e Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmount","');
        builder.Append('Expression":"(PostedAmount+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"Appli');
        builder.Append('edAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmo');
        builder.Append('unt"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable ');
        builder.Append('Amount excluding posted contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Variable');
        builder.Append('Name":"TotalTaxableInvAmtWOContract","Expression":"((PostedAmount-ContractAmt)+Amount)-AppliedAmount');
        builder.Append('","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"ContractAmt","TokenValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"Toke');
        builder.Append('nName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName"');
        builder.Append(':"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Condition to calculate TDS A');
        builder.Append('mount considering Threshold limit"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[');
        builder.Append('{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed ');
        builder.Append('Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[');
        builder.Append('{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is L');
        builder.Append('ess Than Or Equals To","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},');
        builder.Append('"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},');
        builder.Append('"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTyp');
        builder.Append('e":"Not Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS"');
        builder.Append(':{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"B');
        builder.Append('ody":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumn');
        builder.Append('Name":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableN');
        builder.Append('ame":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"TotalTaxableInvAmtWOContract"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"I');
        builder.Append('FSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS"');
        builder.Append(':{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}},"RHS":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETV');
        builder.Append('ARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Condition":{"Bod');
        builder.Append('y":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","Ou');
        builder.Append('tputValue":{"Type":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ",');
        builder.Append('"ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value');
        builder.Append('"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condi');
        builder.Append('tion":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","R');
        builder.Append('ateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Output');
        builder.Append('VariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"TotalTaxableInvAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":');
        builder.Append('"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","');
        builder.Append('Value":"0"}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Th');
        builder.Append('an","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityT');
        builder.Append('ype":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}}],"ElseIf":{"Co');
        builder.Append('ndition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxa');
        builder.Append('bleAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableA');
        builder.Append('mountExclApplied"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSAmount"');
        builder.Append(',"Expression":"TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Component Percent","ComponentName":"Non PAN TDS"}}},{"TokenName":"TDSTaxa');
        builder.Append('bleAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAm');
        builder.Append('ount"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreSurchargeBaseAmt","Ou');
        builder.Append('tputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":');
        builder.Append('"Surcharge Base Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldN');
        builder.Append('ame":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFiel');
        builder.Append('dName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"AccountingDateFilter"}}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Acti');
        builder.Append('vity":{"VariableName":"TotalSurchargeBaseAmt","Expression":"PreSurchargeBaseAmt+TDSAmount","Tokens":');
        builder.Append('[{"TokenName":"PreSurchargeBaseAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"PreSurchargeBaseAmt"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Variable","VariableName":"TDSAmount"}}}]}},{"ActivityType":"IFSTATEMENT","Activit');
        builder.Append('y":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Tab');
        builder.Append('le","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterField');
        builder.Append('Name":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Secti');
        builder.Append('on","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Surcharge Overlook');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant');
        builder.Append('","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":');
        builder.Append('" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvA');
        builder.Append('mountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Thres');
        builder.Append('hold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator"');
        builder.Append(':" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"Tota');
        builder.Append('lInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge ');
        builder.Append('Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Surch');
        builder.Append('argeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalS');
        builder.Append('urchargeBaseAmt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activ');
        builder.Append('ity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}],"');
        builder.Append('ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNa');
        builder.Append('me":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"TDSAmount"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Act');
        builder.Append('ivity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"TDSAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition');
        builder.Append('":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"TDSTaxableAmount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVAR');
        builder.Append('IABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"PositiveAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"A');
        builder.Append('ctivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}}]}}}],"PostingVariables":');
        builder.Append('[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"Name":"TDSIncludingSurcharge","Datatype":"Numb');
        builder.Append('er"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":"PaymentAmt","Datatype":"Number"},{"Name":"To');
        builder.Append('talAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","Datatype":"Number"},{"Name":"PerContract","Da');
        builder.Append('tatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"');
        builder.Append('Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Da');
        builder.Append('te"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TDSPer","Datatype":"Number"},{"Nam');
        builder.Append('e":"SurchargePer","Datatype":"Number"},{"Name":"ECessPer","Datatype":"Number"},{"Name":"SHECessPer",');
        builder.Append('"Datatype":"Number"},{"Name":"VendorNo","Datatype":"String"},{"Name":"PositiveAmount","Datatype":"Nu');
        builder.Append('mber"}],"PostingScript":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludin');
        builder.Append('gSHECess","Expression":"{TDS}+{Surcharge}+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","Token');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"');
        builder.Append('{SHECess}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Ces');
        builder.Append('s "}}},{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","');
        builder.Append('ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{');
        builder.Append('"VariableName":"TDSIncludingSurcharge","Expression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Sur');
        builder.Append('charge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge');
        builder.Append('"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Componen');
        builder.Append('tName":"Non PAN TDS"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator');
        builder.Append('":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"Amount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityTyp');
        builder.Append('e":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalAmtLCY","Expression":"0-{Amt}","Tokens":[{"T');
        builder.Append('okenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]}},{"ActivityType":"NUMBERCALCULATION","Activity":');
        builder.Append('{"OutputVariableName":"PositiveAmount","Operator":"Minus","LHS":{"Type":"Constant","Value":"0"},"RHS');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNam');
        builder.Append('e":"Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":');
        builder.Append('{"OutputVariableName":"TotalAmtLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}},{"ActivityType":"SETVARIABLE",');
        builder.Append('"Activity":{"OutputVariableName":"PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}}]}}},{"ActivityType":"S');
        builder.Append('ETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date","M');
        builder.Append('ethod":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting ');
        builder.Append('Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type');
        builder.Append('","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less ');
        builder.Append('Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Acti');
        builder.Append('vity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableF');
        builder.Append('ilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"Fir');
        builder.Append('st","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","T');
        builder.Append('ableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equ');
        builder.Append('als To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"Output');
        builder.Append('VariableName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"En');
        builder.Append('dDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"FiscalYearStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"Activ');
        builder.Append('ityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"F');
        builder.Append('irst","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account N');
        builder.Append('o."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"Fite');
        builder.Append('rFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType');
        builder.Append('":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Acco');
        builder.Append('untingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Constant","Value":"Invoice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"P');
        builder.Append('aymentAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","Ta');
        builder.Append('bleFieldName":"Payment Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"');
        builder.Append('FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUMERI');
        builder.Append('CEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens":');
        builder.Append('[{"TokenName":"InvoiceAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"InvoiceAmt"}}},{"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Varia');
        builder.Append('bleName":"TotalInvAmt","Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}}},{"TokenName":"{InvAm');
        builder.Append('t}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}}}]');
        builder.Append('}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"E');
        builder.Append('quals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"Thresh');
        builder.Append('old Overlook","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMEN');
        builder.Append('T","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activi');
        builder.Append('ty":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"Source');
        builder.Append('Type":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body');
        builder.Append('":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"I');
        builder.Append('s Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"Activ');
        builder.Append('ityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater ');
        builder.Append('Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":');
        builder.Append('"SETVARIABLE","Activity":{"OutputVariableName":"PerContract","OutputValue":{"Type":"Constant","Value');
        builder.Append('":"true"}}}]}}]}}]}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator');
        builder.Append('":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Jour');
        builder.Append('nal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Payment"}}]},"Body":[{"Act');
        builder.Append('ivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}}],"ElseIf":{"Condition":{"');
        builder.Append('Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","Ou');
        builder.Append('tputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}}]}}');
        builder.Append('},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Eq');
        builder.Append('uals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Ac');
        builder.Append('count Type"}},"RHS":{"Type":"Constant","Value":"Vendor"}}]},"Body":[{"ActivityType":"SETVARIABLE","A');
        builder.Append('ctivity":{"OutputVariableName":"VendorNo","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}}],"ElseIf":{"Condition":{"');
        builder.Append('Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"VendorNo","OutputV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Bal. Account No."}}}}]}}}],"Components":[{"ComponentName":"Surcharge","Sequence":2,"Formula"');
        builder.Append(':{"VariableName":"","Expression":"{TDSAmt}*{SurchargePer}/100","Tokens":[{"TokenName":"{SurchargePer');
        builder.Append('}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surchar');
        builder.Append('ge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"SurchargeBaseAmt"}}}]}},{"ComponentName":"eCESS","Sequence":3,"Formula":{"VariableName":"');
        builder.Append('","Expression":"({TDSAmt}+{SurchargeAmt})*{EcessPer}/100","Tokens":[{"TokenName":"{EcessPer}","Token');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"Toke');
        builder.Append('nName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentN');
        builder.Append('ame":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Co');
        builder.Append('mponent","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"SHE Cess ","Sequence":4,"Formula":{"V');
        builder.Append('ariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{SheCessPer}/100","Tokens":[{"TokenName":"{S');
        builder.Append('heCessPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName"');
        builder.Append(':"SHE Cess "}}},{"TokenName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"Total TDS Amoun');
        builder.Append('t","Sequence":5,"Formula":{"VariableName":"","Expression":"NonPANTDS+Surcharge+eCess+SheCess","Token');
        builder.Append('s":[{"TokenName":"eCess","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Component');
        builder.Append('Name":"eCESS"}}},{"TokenName":"NonPANTDS","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Comp');
        builder.Append('onent","ComponentName":"Non PAN TDS"}}},{"TokenName":"SheCess","TokenValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"Surcharge","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}}]}},{"ComponentName":');
        builder.Append('"Non PAN TDS","Sequence":1,"Formula":{"VariableName":"","Expression":"TDSTaxableAmount*TDS/100","Tok');
        builder.Append('ens":[{"TokenName":"TDS","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"TDSTaxableAmount"}}},{"TokenName":"TDSTaxableAmount","TokenValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Component Percent","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"TDS Base Amount');
        builder.Append('","Sequence":6,"Formula":{"VariableName":"","Expression":"{TDSBaseAmt}","Tokens":[{"TokenName":"{TDS');
        builder.Append('BaseAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSBaseAmt');
        builder.Append('"}}}]}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Const');
        builder.Append('ant","Value":"Invoice"}},{"Operator":"or","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant"');
        builder.Append(',"Value":"Payment"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"T');
        builder.Append('able","TableName":"Vendor","TableFieldName":"P.A.N. Status","Method":"First","TableFilters":[{"Fiter');
        builder.Append('FieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}]}},"RHS":{"Type":"Constant","');
        builder.Append('Value":" "}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","Table');
        builder.Append('Name":"Allowed Sections","TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[{');
        builder.Append('"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName"');
        builder.Append(':"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant');
        builder.Append('","Value":""}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table",');
        builder.Append('"TableName":"TDS Concessional Code","TableFieldName":"Concessional Code","Method":"First","TableFilt');
        builder.Append('ers":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFi');
        builder.Append('eldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Cons');
        builder.Append('tant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Valu');
        builder.Append('e":"Vendor"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","V');
        builder.Append('alue":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Gen. Journal Line","FieldName":"System-Created Entry"}},"RHS":{"Type":"Constant","Valu');
        builder.Append('e":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Gen. Journal Line","FieldName":"Work Tax Nature Of Deduction"}},"RHS":{"Type":"Constant",');
        builder.Append('"Value":""}}]},"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","TableName":"TDS Posting Setup');
        builder.Append('","AccountSourceType":"Field","FieldName":"TDS Account","AccountingImpact":"Credit","ReverseCharge":');
        builder.Append('false,"ReverseAccountSourceType":"Field","ReverseChargeFieldName":"","When":[{"Condition":{"Body":[{');
        builder.Append('"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Gen. Journal Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}}]},"Val');
        builder.Append('ueType":"Insert Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger":true,"RecordVariable":"');
        builder.Append('","SubLedgerGrpBy":"Component","InsertRecordFields":[{"FieldName":"Vendor No.","Sequence":4,"Reverse');
        builder.Append('Sign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"VendorNo"}}}');
        builder.Append(',{"FieldName":"T.A.N. No.","Sequence":5,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Tax Attributes","AttributeName":"TAN No."}}},{"FieldName":"Section","Sequence":6,"ReverseS');
        builder.Append('ign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"TDS Section Code"}}},{"FieldName":"Assessee Code","Sequence":7,"ReverseSign":f');
        builder.Append('alse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Cod');
        builder.Append('e"}}},{"FieldName":"TDS Base Amount","Sequence":8,"ReverseSign":false,"Lookup":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"TDS %","Sequence":');
        builder.Append('9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","Componen');
        builder.Append('tName":"Non PAN TDS"}}},{"FieldName":"TDS Amount","Sequence":10,"ReverseSign":false,"Lookup":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"FieldName":"Surcharg');
        builder.Append('e %","Sequence":11,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component P');
        builder.Append('ercent","ComponentName":"Surcharge"}}},{"FieldName":"Surcharge Amount","Sequence":12,"ReverseSign":f');
        builder.Append('alse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"F');
        builder.Append('ieldName":"eCess %","Sequence":13,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Component Percent","ComponentName":"eCESS"}}},{"FieldName":"eCess Amount","Sequence":14,"Reverse');
        builder.Append('Sign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},');
        builder.Append('{"FieldName":"SHE Cess %","Sequence":15,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Component Percent","ComponentName":"SHE Cess "}}},{"FieldName":"SHE Cess Amount","Sequence');
        builder.Append('":16,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName');
        builder.Append('":"SHE Cess "}}},{"FieldName":"Concessional Code","Sequence":17,"ReverseSign":false,"Lookup":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Concessional Code"}}},{"FieldName');
        builder.Append('":"Concessional Form No.","Sequence":37,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Table","TableName":"TDS Concessional Code","TableFieldName":"Certificate No.","Method":"Fi');
        builder.Append('rst","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No');
        builder.Append('."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}},{"F');
        builder.Append('ieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{"FieldName":"Work Tax %","Sequence":32,"R');
        builder.Append('everseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentNam');
        builder.Append('e":"Work Tax"}}},{"FieldName":"Work Tax Amount","Sequence":34,"ReverseSign":false,"Lookup":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Component","ComponentName":"Work Tax"}}},{"FieldName":"Work Tax Base');
        builder.Append(' Amount","Sequence":33,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"0.00"}},{"FieldName"');
        builder.Append(':"Invoice Amount","Sequence":25,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"InvoiceAmount"}}},{"FieldName":"Posting Date","Sequence":3,"ReverseSign"');
        builder.Append(':false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Posting Date"}}},{"FieldName":"Document Type","Sequence":26,"ReverseSign":false,"L');
        builder.Append('ookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"Document Type"}}},{"FieldName":"Document No.","Sequence":2,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"Posted Document No."}}},');
        builder.Append('{"FieldName":"Account Type","Sequence":23,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"G');
        builder.Append('/L Account"}},{"FieldName":"Account No.","Sequence":24,"ReverseSign":false,"Lookup":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Table","TableName":"TDS Posting Setup","TableFieldName":"TDS Account","Meth');
        builder.Append('od":"First","TableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TD');
        builder.Append('S Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","F');
        builder.Append('ieldName":"Posting Date"}}}]}}},{"FieldName":"Party Type","Sequence":41,"ReverseSign":false,"Lookup"');
        builder.Append(':{"Type":"Constant","Value":"Vendor"}},{"FieldName":"Source Code","Sequence":28,"ReverseSign":false,');
        builder.Append('"Lookup":{"Type":"Constant","Value":"PURCHASES"}},{"FieldName":"TDS Amount Including Surcharge","Seq');
        builder.Append('uence":22,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableN');
        builder.Append('ame":"TDSIncludingSurcharge"}}},{"FieldName":"Bal. TDS Including SHE CESS","Sequence":29,"ReverseSig');
        builder.Append('n":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSHE');
        builder.Append('Cess"}}},{"FieldName":"Remaining Surcharge Amount","Sequence":31,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"Remaining');
        builder.Append(' TDS Amount","Sequence":43,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Com');
        builder.Append('ponent","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Line Amount","Sequence":44,"ReverseSign":');
        builder.Append('false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"Amount"}}},{"FieldName":"Total TDS Including SHE CESS","Sequence":21,"ReverseSign":');
        builder.Append('false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSHECes');
        builder.Append('s"}}},{"FieldName":"Per Contract","Sequence":39,"ReverseSign":false,"Lookup":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Variable","VariableName":"PerContract"}}},{"FieldName":"User ID","Sequence":30,"Re');
        builder.Append('verseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Database","DatabaseVariableName":');
        builder.Append('"UserId"}}},{"FieldName":"Transaction No.","Sequence":38,"ReverseSign":false,"Lookup":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry Transaction No."}}},{"Fie');
        builder.Append('ldName":"Original TDS Base Amount","Sequence":27,"ReverseSign":false,"Lookup":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"Payment Amount","Se');
        builder.Append('quence":40,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"PaymentAmount"}}},{"FieldName":"Currency Code","Sequence":45,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"C');
        builder.Append('urrency Code"}}},{"FieldName":"Currency Factor","Sequence":46,"ReverseSign":false,"Lookup":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currenc');
        builder.Append('y Factor"}}},{"FieldName":"Surcharge Base Amount","Sequence":42,"ReverseSign":false,"Lookup":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"FieldName":"G/L Entr');
        builder.Append('y No.","Sequence":1,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Fi');
        builder.Append('eld","PostingVariableName":"G/L Entry No."}}}]}}]}],"AttachedEvents":[{"EventName":"CallTaxEngineOnG');
        builder.Append('enJnlLine","Enabled":true,"Sequence":0},{"EventName":"OnAfterGenJnlLineUpdated","Enabled":true,"Sequ');
        builder.Append('ence":0}]},{"Description":"Calculation of Tax Deduction at Source through General Journal for Vendor');
        builder.Append(' where both PAN No. and Concessional Codes are not specified.\n","TaxType":"TDS","Code":"","TaxEntit');
        builder.Append('y":"Gen. Journal Line","ParentUseCase":"Calculation of Tax Deduction at Source through General Journ');
        builder.Append('al for Vendors.\n","PresentationOrder":266,"Indent":1,"PostingTableName":"TDS Posting Setup","Postin');
        builder.Append('gTableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Co');
        builder.Append('de"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"P');
        builder.Append('osting Date"}}}],"Attributes":[],"RateColumns":[{"Name":"Effective Date","When":[{"ValueType":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date');
        builder.Append('"}}]}],"ComputationVariables":[{"Name":"TotalAmount","Datatype":"Number"},{"Name":"TDSTaxableAmount"');
        builder.Append(',"Datatype":"Number"},{"Name":"SurchargeBaseAmt","Datatype":"Number"},{"Name":"TDSAmount","Datatype"');
        builder.Append(':"Number"},{"Name":"PrevInvAmountLCY","Datatype":"Number"},{"Name":"PrevInvAmount","Datatype":"Numbe');
        builder.Append('r"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name');
        builder.Append('":"PreviousContractAmount","Datatype":"Number"},{"Name":"TotalInvAmountLCY","Datatype":"Number"},{"N');
        builder.Append('ame":"TotalInvAmount","Datatype":"Number"},{"Name":"TotalInvAmtWOContractLCY","Datatype":"Number"},{');
        builder.Append('"Name":"TotalInvAmtWOContract","Datatype":"Number"},{"Name":"PreSurchargeBaseAmt","Datatype":"Number');
        builder.Append('"},{"Name":"TotalSurchargeBaseAmt","Datatype":"Number"},{"Name":"PositiveAmount","Datatype":"Number"');
        builder.Append('},{"Name":"PositiveAmountLCY","Datatype":"Number"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"Name"');
        builder.Append(':"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"Ac');
        builder.Append('countingDateFilter","Datatype":"String"},{"Name":"TotalCurrAmountLCY","Datatype":"Number"},{"Name":"');
        builder.Append('PositiveTotalCurrAmountLCY","Datatype":"Number"},{"Name":"AppliedAmount","Datatype":"Number"},{"Name');
        builder.Append('":"TotalTaxableInvAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmtWOContract","Datatype":"Nu');
        builder.Append('mber"},{"Name":"BatchAmountLCY","Datatype":"Number"},{"Name":"BatchPaymentAmountLCY","Datatype":"Num');
        builder.Append('ber"},{"Name":"BatchInvoiceAmountLCY","Datatype":"Number"},{"Name":"PositiveAmtExclGST","Datatype":"');
        builder.Append('Number"},{"Name":"TaxableAmountExclApplied","Datatype":"Number"}],"ComputationScript":[{"ActivityTyp');
        builder.Append('e":"COMMENT","Activity":{"Comment":"Converted Current Line''s amount and amount (LCY) to positive amo');
        builder.Append('unt"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType');
        builder.Append('":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"Amount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSIO');
        builder.Append('N","Activity":{"VariableName":"PositiveAmount","Expression":"0-Amount","Tokens":[{"TokenName":"Amoun');
        builder.Append('t","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Amount"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"Posi');
        builder.Append('tiveAmountLCY","Expression":"0-AmountLCY","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (');
        builder.Append('LCY)"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Ou');
        builder.Append('tputVariableName":"PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Gen. Journal Line","FieldName":"Amount"}}}},{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityType":');
        builder.Append('"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":');
        builder.Append('{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl. G');
        builder.Append('ST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity"');
        builder.Append(':{"OutputVariableName":"PositiveAmtExclGST","Operator":"Minus","LHS":{"Type":"Constant","Value":""},');
        builder.Append('"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Amount Excl. GST"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABL');
        builder.Append('E","Activity":{"OutputVariableName":"PositiveAmtExclGST","OutputValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}}}}]}}},{');
        builder.Append('"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not E');
        builder.Append('quals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}},"RHS":{"Type":');
        builder.Append('"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Po');
        builder.Append('sitiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Posit');
        builder.Append('iveAmtExclGST"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmountLCY');
        builder.Append('","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGS');
        builder.Append('T"}}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Created string for current financial year');
        builder.Append('"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldNa');
        builder.Append('me":"Starting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableF');
        builder.Append('ieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","Tab');
        builder.Append('leFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date",');
        builder.Append('"FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fis');
        builder.Append('cal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":');
        builder.Append('"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityTyp');
        builder.Append('e":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","');
        builder.Append('Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting');
        builder.Append(' Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Typ');
        builder.Append('e","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"');
        builder.Append('Is Greater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSIO');
        builder.Append('N","Activity":{"OutputVariableName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","To');
        builder.Append('ken":[{"TokenName":"EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Variable","VariableName":"FiscalYearEndDate"}}},{"TokenName":"StartDate","FormatString":"",');
        builder.Append('"LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearSt');
        builder.Append('artDate"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted Invoice amount"}},{"Act');
        builder.Append('ivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","OutputValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Metho');
        builder.Append('d":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Accoun');
        builder.Append('t No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"F');
        builder.Append('iterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterT');
        builder.Append('ype":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"A');
        builder.Append('ccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type');
        builder.Append('":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted ');
        builder.Append('Payment amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmount","Ou');
        builder.Append('tputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":');
        builder.Append('"Payment Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"T');
        builder.Append('DS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":');
        builder.Append('"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"COMMENT","Activity":{"');
        builder.Append('Comment":"Sum of posted payment and invoice amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity"');
        builder.Append(':{"VariableName":"PrevInvAmountLCY","Expression":"PostedInvoiceAmount+PostedPaymentAmount","Tokens":');
        builder.Append('[{"TokenName":"PostedInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"InvoiceAmount"}}},{"TokenName":"PostedPaymentAmount","TokenValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}}]}},{"ActivityType":"COMMENT","Act');
        builder.Append('ivity":{"Comment":"Total posted contract amount"}},{"ActivityType":"SETVARIABLE","Activity":{"Output');
        builder.Append('VariableName":"PreviousContractAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table"');
        builder.Append(',"TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFie');
        builder.Append('ldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Sectio');
        builder.Append('n","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Posting Date","Filt');
        builder.Append('erType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName"');
        builder.Append(':"AccountingDateFilter"}}},{"FiterFieldName":"Per Contract","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Constant","Value":"true"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Posted a');
        builder.Append('mount without contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"Tot');
        builder.Append('alInvAmtWOContractLCY","Expression":"TotalPostedAmount-PostedContractAmount","Tokens":[{"TokenName":');
        builder.Append('"PostedContractAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"PreviousContractAmount"}}},{"TokenName":"TotalPostedAmount","TokenValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activ');
        builder.Append('ity":{"Comment":"Total Payment Amount on current batch"}},{"ActivityType":"SETVARIABLE","Activity":{');
        builder.Append('"OutputVariableName":"BatchPaymentAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Table","TableName":"Gen. Journal Line","TableFieldName":"Amount (LCY)","Method":"Sum","TableFilters"');
        builder.Append(':[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Template N');
        builder.Append('ame"}}},{"FiterFieldName":"Line No.","FilterType":"Not Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterF');
        builder.Append('ieldName":"Account Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Gen. Journal Line","FieldName":"Account Type"}}},{"FiterFieldName":"A');
        builder.Append('ccount No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Document Type",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}},{"FiterFieldName":"Journa');
        builder.Append('l Batch Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"Journal Batch Name"}}},{"FiterFieldName":"TDS Se');
        builder.Append('ction Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":"COMMENT');
        builder.Append('","Activity":{"Comment":"Total Invoice Amount on current batch"}},{"ActivityType":"SETVARIABLE","Act');
        builder.Append('ivity":{"OutputVariableName":"BatchInvoiceAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Table","TableName":"Gen. Journal Line","TableFieldName":"Amount (LCY)","Method":"Sum","Table');
        builder.Append('Filters":[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Te');
        builder.Append('mplate Name"}}},{"FiterFieldName":"Line No.","FilterType":"Not Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Line No."}}},');
        builder.Append('{"FiterFieldName":"Account Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account Type"}}},{"FiterField');
        builder.Append('Name":"Account No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Documen');
        builder.Append('t Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}},{"FiterFieldName"');
        builder.Append(':"Journal Batch Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"Journal Batch Name"}}},{"FiterFieldName"');
        builder.Append(':"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":');
        builder.Append('"NUMBERCALCULATION","Activity":{"OutputVariableName":"BatchInvoiceAmountLCY","Operator":"Minus","LHS');
        builder.Append('":{"Type":"Constant","Value":"0"},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"BatchInvoiceAmountLCY"}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Batch amoun');
        builder.Append('t including Current Line Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"B');
        builder.Append('atchAmountLCY","Expression":"BatchPaymentAmount+BatchInvoiceAmount+AmountLCY","Tokens":[{"TokenName"');
        builder.Append(':"AmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Positiv');
        builder.Append('eAmountLCY"}}},{"TokenName":"BatchInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"BatchInvoiceAmountLCY"}}},{"TokenName":"BatchPaymentAmount","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchPaymentAmountLCY"}}}]}},{"');
        builder.Append('ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Po');
        builder.Append('sting to G/L"}},"RHS":{"Type":"Constant","Value":"true"}}]},"Body":[{"ActivityType":"SETVARIABLE","A');
        builder.Append('ctivity":{"OutputVariableName":"BatchAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"PositiveAmountLCY"}}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity');
        builder.Append('":{"VariableName":"TotalInvAmountLCY","Expression":"PostedAmountLCY+BatchAmountLCY","Tokens":[{"Toke');
        builder.Append('nName":"BatchAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"BatchAmountLCY"}}},{"TokenName":"PostedAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"PrevInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Com');
        builder.Append('ment":"Converted Amount from LCY to FCY"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"B');
        builder.Append('ody":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Gen. Journal Line","FieldName":"Currency Code"}},"RHS":{"Type":"Constant","Value":""}}]},');
        builder.Append('"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmount","Opera');
        builder.Append('tor":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInv');
        builder.Append('AmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"Currency Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVar');
        builder.Append('iableName":"TotalInvAmtWOContract","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Variable","VariableName":"TotalInvAmtWOContractLCY"}},"RHS":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}},{"Activity');
        builder.Append('Type":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PrevInvAmount","Operator":"Multiply By",');
        builder.Append('"LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"Currency Factor"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Acti');
        builder.Append('vity":{"OutputVariableName":"TotalInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TotalInvAmountLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVa');
        builder.Append('riableName":"TotalInvAmtWOContract","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable"');
        builder.Append(',"VariableName":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVari');
        builder.Append('ableName":"PrevInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"PrevInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Get applied amount');
        builder.Append('"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"');
        builder.Append('Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}}]},"Body":[{"ActivityType":"IFSTATEMENT');
        builder.Append('","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. Type"}},"RHS":{"');
        builder.Append('Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. No."}},"');
        builder.Append('RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVari');
        builder.Append('ableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":');
        builder.Append('"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterField');
        builder.Append('Name":"Document No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. No."}}},{"FiterFieldName"');
        builder.Append(':"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}}]}},{"ActivityTyp');
        builder.Append('e":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS"');
        builder.Append(':{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to ID');
        builder.Append('"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Outpu');
        builder.Append('tVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"Fiter');
        builder.Append('FieldName":"Applies-to ID","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to ID"}}},{"FiterFieldName"');
        builder.Append(':"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}}]}}]}},{"Activity');
        builder.Append('Type":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than",');
        builder.Append('"LHS":{"Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}},"RHS":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}]},"Body":[{"ActivityType":"NUMERIC');
        builder.Append('EXPRESSION","Activity":{"VariableName":"TaxableAmountExclApplied","Expression":"Amount-AppliedAmount');
        builder.Append('","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"AppliedAmount"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"B');
        builder.Append('ody":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TaxableAmountExclApplied","Out');
        builder.Append('putValue":{"Type":"Constant","Value":"0"}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Tot');
        builder.Append('al Taxable Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInv');
        builder.Append('Amount","Expression":"(PostedAmount+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenNam');
        builder.Append('e":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"A');
        builder.Append('ppliedAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"V');
        builder.Append('ariable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total');
        builder.Append(' Taxable Amount excluding posted contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{');
        builder.Append('"VariableName":"TotalTaxableInvAmtWOContract","Expression":"((PostedAmount-ContractAmt)+Amount)-Appl');
        builder.Append('iedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"ContractAmt","Tok');
        builder.Append('enValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}');
        builder.Append('}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Condition to calcul');
        builder.Append('ate TDS Amount considering Threshold limit"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":');
        builder.Append('{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":');
        builder.Append('"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. J');
        builder.Append('ournal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]}');
        builder.Append(',"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTy');
        builder.Append('pe":"Is Less Than Or Equals To","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmou');
        builder.Append('ntLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amou');
        builder.Append('nt"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Con');
        builder.Append('ditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value');
        builder.Append('"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condi');
        builder.Append('tion":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","R');
        builder.Append('ateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Output');
        builder.Append('VariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"TotalTaxableInvAmtWOContract"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Activit');
        builder.Append('yType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Th');
        builder.Append('an","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}},"RHS":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityTy');
        builder.Append('pe":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Conditi');
        builder.Append('on":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAm');
        builder.Append('ount","OutputValue":{"Type":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Opera');
        builder.Append('tor":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contr');
        builder.Append('act Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity');
        builder.Append('":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('olumn","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"TotalTaxableInvAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Activ');
        builder.Append('ityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Co');
        builder.Append('nstant","Value":"0"}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is G');
        builder.Append('reater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"');
        builder.Append('ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}}],"Els');
        builder.Append('eIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName"');
        builder.Append(':"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":');
        builder.Append('"TaxableAmountExclApplied"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"T');
        builder.Append('DSAmount","Expression":"TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Non PAN TDS"}}},{"TokenName"');
        builder.Append(':"TDSTaxableAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDS');
        builder.Append('TaxableAmount"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreSurchargeBas');
        builder.Append('eAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFi');
        builder.Append('eldName":"Surcharge Base Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"');
        builder.Append('FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"AccountingDateFilter"}}}]}}}},{"ActivityType":"NUMERICEXPRESSI');
        builder.Append('ON","Activity":{"VariableName":"TotalSurchargeBaseAmt","Expression":"PreSurchargeBaseAmt+TDSAmount",');
        builder.Append('"Tokens":[{"TokenName":"PreSurchargeBaseAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"V');
        builder.Append('ariable","VariableName":"PreSurchargeBaseAmt"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}]}},{"ActivityType":"IFSTATEMENT"');
        builder.Append(',"Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceT');
        builder.Append('ype":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"F');
        builder.Append('iterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"');
        builder.Append('TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Surcharge');
        builder.Append(' Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":');
        builder.Append('"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"O');
        builder.Append('perator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":');
        builder.Append('"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcha');
        builder.Append('rge Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"');
        builder.Append('Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"S');
        builder.Append('urcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNam');
        builder.Append('e":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"TotalSurchargeBaseAmt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABL');
        builder.Append('E","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Constant","Value":"0"}');
        builder.Append('}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputV');
        builder.Append('ariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"TDSAmount"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIA');
        builder.Append('BLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"TDSAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"');
        builder.Append('Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Variable');
        builder.Append('","VariableName":"TDSTaxableAmount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType');
        builder.Append('":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"B');
        builder.Append('ody":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}}]}}}],"PostingVa');
        builder.Append('riables":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"Name":"TDSIncludingSurcharge","Dataty');
        builder.Append('pe":"Number"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":"PaymentAmt","Datatype":"Number"},{"');
        builder.Append('Name":"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","Datatype":"Number"},{"Name":"PerCont');
        builder.Append('ract","Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Da');
        builder.Append('tatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Data');
        builder.Append('type":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TDSPer","Datatype":"Numbe');
        builder.Append('r"},{"Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPer","Datatype":"Number"},{"Name":"SHE');
        builder.Append('CessPer","Datatype":"Number"},{"Name":"VendorNo","Datatype":"String"},{"Name":"Applied","Datatype":"');
        builder.Append('Boolean"},{"Name":"PositiveAmount","Datatype":"Number"}],"PostingScript":[{"ActivityType":"NUMERICEX');
        builder.Append('PRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expression":"{TDS}+{Surcharge}+{eCESS}+{');
        builder.Append('SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Com');
        builder.Append('ponent","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Surcharge}","TokenValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}}');
        builder.Append(',{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSurcharge","Expression"');
        builder.Append(':"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ActivityType":"IFSTATE');
        builder.Append('MENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}},"RHS":{"Type');
        builder.Append('":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"');
        builder.Append('TotalAmtLCY","Expression":"0-{Amt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]}');
        builder.Append('},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PositiveAmount","Operator":"');
        builder.Append('Minus","LHS":{"Type":"Constant","Value":""},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"');
        builder.Append('Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalAmtLCY","OutputValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Amount (LCY)"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount","O');
        builder.Append('utputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line"');
        builder.Append(',"FieldName":"Amount"}}}}]}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Fiscal');
        builder.Append('YearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accoun');
        builder.Append('ting Period","TableFieldName":"Starting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax');
        builder.Append(' Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tab');
        builder.Append('leName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFiel');
        builder.Append('dName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","T');
        builder.Append('ableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterF');
        builder.Append('ieldName":"Starting Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},');
        builder.Append('{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"');
        builder.Append('true"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"f');
        builder.Append('alse"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","Out');
        builder.Append('putValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","Table');
        builder.Append('FieldName":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","T');
        builder.Append('ableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup"');
        builder.Append(',"TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal');
        builder.Append(' Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"C');
        builder.Append('losed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"E');
        builder.Append('nding Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}}},{"Acti');
        builder.Append('vityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter","Expression":"{');
        builder.Append('StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVariableName":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}},{"TokenName":"S');
        builder.Append('tartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"FiscalYearEndDate"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNa');
        builder.Append('me":"InvoiceAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entr');
        builder.Append('y","TableFieldName":"Invoice Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No."');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"');
        builder.Append('}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Typ');
        builder.Append('e","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"');
        builder.Append('SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmt","OutputValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Method":"First","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"F');
        builder.Append('iterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName');
        builder.Append('":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax A');
        builder.Append('ttributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Fil');
        builder.Append('ter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDate');
        builder.Append('Filter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant",');
        builder.Append('"Value":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt');
        builder.Append('","Expression":"InvoiceAmt+PaymentAmt","Tokens":[{"TokenName":"InvoiceAmt","TokenValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmt"}}},{"TokenName":"PaymentAmt","Tok');
        builder.Append('enValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmt"}}}]}},{"Acti');
        builder.Append('vityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression":"{Amt}+{InvAmt}"');
        builder.Append(',"Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Var');
        builder.Append('iableName":"TotalAmtLCY"}}},{"TokenName":"{InvAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"TotalInvAmt"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condit');
        builder.Append('ion":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Allowed Sections","TableFieldName":"Threshold Overlook","Method":"First","TableFilters":[{"Fit');
        builder.Append('erFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TD');
        builder.Append('S Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","V');
        builder.Append('alue":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ",');
        builder.Append('"ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"');
        builder.Append('}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}');
        builder.Append(']},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condition');
        builder.Append('Type":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"');
        builder.Append('}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condit');
        builder.Append('ion":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable');
        builder.Append('","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnN');
        builder.Append('ame":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bod');
        builder.Append('y":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"TotalAmtLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"P');
        builder.Append('er Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PerC');
        builder.Append('ontract","OutputValue":{"Type":"Constant","Value":"true"}}}]}}]}}]}}]}}]}},{"ActivityType":"IFSTATEM');
        builder.Append('ENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type');
        builder.Append('":"Constant","Value":"Payment"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariable');
        builder.Append('Name":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"PositiveAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Act');
        builder.Append('ivity":{"OutputVariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"PositiveAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Conditi');
        builder.Append('on":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Value":"Vend');
        builder.Append('or"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"VendorNo","OutputVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldN');
        builder.Append('ame":"Account No."}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Act');
        builder.Append('ivity":{"OutputVariableName":"VendorNo","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Gen. Journal Line","FieldName":"Bal. Account No."}}}}]}}},{"ActivityType":"I');
        builder.Append('FSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. No');
        builder.Append('."}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Outp');
        builder.Append('utVariableName":"Applied","OutputValue":{"Type":"Constant","Value":"true"}}}]}}],"Components":[{"Com');
        builder.Append('ponentName":"Non PAN TDS","Sequence":1,"Formula":{"VariableName":"","Expression":"TDSTaxableAmount*T');
        builder.Append('DS/100","Tokens":[{"TokenName":"TDS","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component');
        builder.Append(' Percent","ComponentName":"Non PAN TDS"}}},{"TokenName":"TDSTaxableAmount","TokenValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ComponentName":"eCE');
        builder.Append('SS","Sequence":3,"Formula":{"VariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{EcessPer}/100');
        builder.Append('","Tokens":[{"TokenName":"{EcessPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Componen');
        builder.Append('t Percent","ComponentName":"eCESS"}}},{"TokenName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"Component');
        builder.Append('Name":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Expression":"NonPANTDS+Surcharge');
        builder.Append('+eCess+SheCess","Tokens":[{"TokenName":"eCess","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Component","ComponentName":"eCESS"}}},{"TokenName":"NonPANTDS","TokenValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"TokenName":"SheCess","TokenValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"Surch');
        builder.Append('arge","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}');
        builder.Append('}]}},{"ComponentName":"TDS Base Amount","Sequence":6,"Formula":{"VariableName":"","Expression":"{TDS');
        builder.Append('BaseAmt}","Tokens":[{"TokenName":"{TDSBaseAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"TDSBaseAmt"}}}]}},{"ComponentName":"SHE Cess ","Sequence":4,"Formula":{"');
        builder.Append('VariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{SheCessPer}/100","Tokens":[{"TokenName":"{');
        builder.Append('SheCessPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName');
        builder.Append('":"SHE Cess "}}},{"TokenName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"Surcharge","Se');
        builder.Append('quence":2,"Formula":{"VariableName":"","Expression":"{TDSAmt}*{SurchargePer}/100","Tokens":[{"TokenN');
        builder.Append('ame":"{SurchargePer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","Comp');
        builder.Append('onentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"SurchargeBaseAmt"}}}]}}],"Condition":{"Body":[{"Operator":" ","Conditi');
        builder.Append('onType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}},{"Operator":"or","ConditionTy');
        builder.Append('pe":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNa');
        builder.Append('me":"Document Type"}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType"');
        builder.Append(':"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"P.A.N. St');
        builder.Append('atus","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"Account No."}}}]}},"RHS":{"Type":"Constant","Value":" "}},{"Operator":"and","ConditionType":"Equals');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"Non Residen');
        builder.Append('t Payments","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","Fi');
        builder.Append('lterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line",');
        builder.Append('"FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"T');
        builder.Append('DS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equa');
        builder.Append('ls","LHS":{"Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","TableFieldName":"Conc');
        builder.Append('essional Code","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"T');
        builder.Append('DS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equa');
        builder.Append('ls","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Acco');
        builder.Append('unt Type"}},"RHS":{"Type":"Constant","Value":"Vendor"}},{"Operator":"and","ConditionType":"Not Equal');
        builder.Append('s","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS S');
        builder.Append('ection Code"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS');
        builder.Append('":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"System-Creat');
        builder.Append('ed Entry"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Work Tax Nature');
        builder.Append(' Of Deduction"}},"RHS":{"Type":"Constant","Value":""}}]},"TaxPostingSetup":[{"ComponentName":"Total ');
        builder.Append('TDS Amount","TableName":"TDS Posting Setup","AccountSourceType":"Field","FieldName":"TDS Account","A');
        builder.Append('ccountingImpact":"Credit","ReverseCharge":false,"ReverseAccountSourceType":"Field","ReverseChargeFie');
        builder.Append('ldName":"","When":[{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}},"R');
        builder.Append('HS":{"Type":"Constant","Value":""}}]},"ValueType":"Insert Record","InsertRecord":{"TableName":"TDS E');
        builder.Append('ntry","RunTrigger":true,"RecordVariable":"","SubLedgerGrpBy":"Component","InsertRecordFields":[{"Fie');
        builder.Append('ldName":"Vendor No.","Sequence":4,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"VendorNo"}}},{"FieldName":"T.A.N. No.","Sequence":5,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"TAN No."}}},{"F');
        builder.Append('ieldName":"Section","Sequence":6,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FieldName":"A');
        builder.Append('ssessee Code","Sequence":7,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax');
        builder.Append(' Attributes","AttributeName":"Assessee Code"}}},{"FieldName":"TDS Base Amount","Sequence":8,"Reverse');
        builder.Append('Sign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base A');
        builder.Append('mount"}}},{"FieldName":"TDS %","Sequence":9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Component Percent","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Amount","Sequenc');
        builder.Append('e":10,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentNam');
        builder.Append('e":"Non PAN TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":false,"Lookup":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"FieldName":"Surch');
        builder.Append('arge Amount","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Com');
        builder.Append('ponent","ComponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSign":false,"Loo');
        builder.Append('kup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"FieldN');
        builder.Append('ame":"eCess Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Component","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Cess "}}');
        builder.Append('},{"FieldName":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional Code","Sequenc');
        builder.Append('e":17,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Attribu');
        builder.Append('teName":"Concessional Code"}}},{"FieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":false,"Lo');
        builder.Append('okup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{"FieldN');
        builder.Append('ame":"Work Tax %","Sequence":32,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Component Percent","ComponentName":"Work Tax"}}},{"FieldName":"Work Tax Amount","Sequence":34,"Rev');
        builder.Append('erseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Work T');
        builder.Append('ax"}}},{"FieldName":"Work Tax Base Amount","Sequence":33,"ReverseSign":false,"Lookup":{"Type":"Const');
        builder.Append('ant","Value":"0.00"}},{"FieldName":"Invoice Amount","Sequence":25,"ReverseSign":false,"Lookup":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmount"}}},{"FieldName":"Postin');
        builder.Append('g Date","Sequence":3,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FieldName":"Document Type","S');
        builder.Append('equence":26,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Gen. Journal Line","FieldName":"Document Type"}}},{"FieldName":"Document No.","Sequence":');
        builder.Append('2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVaria');
        builder.Append('bleName":"Posted Document No."}}},{"FieldName":"Account Type","Sequence":23,"ReverseSign":false,"Loo');
        builder.Append('kup":{"Type":"Constant","Value":"G/L Account"}},{"FieldName":"Account No.","Sequence":24,"ReverseSig');
        builder.Append('n":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Posting Setup","T');
        builder.Append('ableFieldName":"TDS Account","Method":"First","TableFilters":[{"FiterFieldName":"TDS Section","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType"');
        builder.Append(':"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}},{"FieldName":"Party Type","Sequenc');
        builder.Append('e":40,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"Vendor"}},{"FieldName":"Source Code",');
        builder.Append('"Sequence":28,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"PURCHASES"}},{"FieldName":"TD');
        builder.Append('S Amount Including Surcharge","Sequence":22,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"TDSIncludingSurcharge"}}},{"FieldName":"Bal. TDS Including S');
        builder.Append('HE CESS","Sequence":29,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Applied","Sequence":46,"ReverseSign":false,');
        builder.Append('"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Applied"}}},{"FieldName"');
        builder.Append(':"Remaining Surcharge Amount","Sequence":31,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"Remaining TDS Amount","Sequenc');
        builder.Append('e":42,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentNam');
        builder.Append('e":"Non PAN TDS"}}},{"FieldName":"TDS Line Amount","Sequence":43,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amou');
        builder.Append('nt"}}},{"FieldName":"Total TDS Including SHE CESS","Sequence":21,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"P');
        builder.Append('er Contract","Sequence":39,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"PerContract"}}},{"FieldName":"User ID","Sequence":30,"ReverseSign":false,"Loo');
        builder.Append('kup":{"Type":"Lookup","Lookup":{"SourceType":"Database","DatabaseVariableName":"UserId"}}},{"FieldNa');
        builder.Append('me":"Transaction No.","Sequence":37,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Posting Field","PostingVariableName":"G/L Entry Transaction No."}}},{"FieldName":"Original TDS');
        builder.Append(' Base Amount","Sequence":27,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Co');
        builder.Append('mponent","ComponentName":"TDS Base Amount"}}},{"FieldName":"Payment Amount","Sequence":38,"ReverseSi');
        builder.Append('gn":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"');
        builder.Append('}}},{"FieldName":"Currency Code","Sequence":44,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Code"}}},{"Fi');
        builder.Append('eldName":"Currency Factor","Sequence":45,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}},{"FieldN');
        builder.Append('ame":"Surcharge Base Amount","Sequence":41,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"');
        builder.Append('ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariable');
        builder.Append('Name":"G/L Entry No."}}}]}}]}],"AttachedEvents":[{"EventName":"CallTaxEngineOnGenJnlLine","Enabled":');
        builder.Append('true,"Sequence":0},{"EventName":"OnAfterGenJnlLineUpdated","Enabled":true,"Sequence":0}]},{"Descript');
        builder.Append('ion":"Calculation of Tax Deduction at Source through General Journal for Vendor where PAN No. is spe');
        builder.Append('cified along with Concessional Codes.\n","TaxType":"TDS","Code":"","TaxEntity":"Gen. Journal Line","');
        builder.Append('ParentUseCase":"Calculation of Tax Deduction at Source through General Journal for Vendors.\n","Pres');
        builder.Append('entationOrder":267,"Indent":1,"PostingTableName":"TDS Posting Setup","PostingTableFilters":[{"FiterF');
        builder.Append('ieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName"');
        builder.Append(':"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}],"Attrib');
        builder.Append('utes":[{"Name":"Concessional Code","When":[{"ValueType":"Relation","Relation":{"TableName":"TDS Conc');
        builder.Append('essional Code","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}');
        builder.Append('}}]}}]},{"Name":"PAN No.","When":[{"ValueType":"Relation","Relation":{"TableName":"Vendor","TableFil');
        builder.Append('ters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}]}}]}],"RateColu');
        builder.Append('mns":[{"Name":"Effective Date","When":[{"ValueType":"Lookup","Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Gen. Journal Line","FieldName":"Posting Date"}}]}],"ComputationVariables":[{"Name":"To');
        builder.Append('talAmount","Datatype":"Number"},{"Name":"TDSTaxableAmount","Datatype":"Number"},{"Name":"SurchargeBa');
        builder.Append('seAmt","Datatype":"Number"},{"Name":"TDSAmount","Datatype":"Number"},{"Name":"PrevInvAmountLCY","Dat');
        builder.Append('atype":"Number"},{"Name":"PrevInvAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Nu');
        builder.Append('mber"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"PreviousContractAmount","Datatype":"Num');
        builder.Append('ber"},{"Name":"TotalInvAmountLCY","Datatype":"Number"},{"Name":"TotalInvAmount","Datatype":"Number"}');
        builder.Append(',{"Name":"TotalInvAmtWOContractLCY","Datatype":"Number"},{"Name":"TotalInvAmtWOContract","Datatype":');
        builder.Append('"Number"},{"Name":"PreSurchargeBaseAmt","Datatype":"Number"},{"Name":"TotalSurchargeBaseAmt","Dataty');
        builder.Append('pe":"Number"},{"Name":"PositiveAmount","Datatype":"Number"},{"Name":"PositiveAmountLCY","Datatype":"');
        builder.Append('Number"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},');
        builder.Append('{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{');
        builder.Append('"Name":"TotalCurrAmountLCY","Datatype":"Number"},{"Name":"PositiveTotalCurrAmountLCY","Datatype":"Nu');
        builder.Append('mber"},{"Name":"AppliedAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmount","Datatype":"Numb');
        builder.Append('er"},{"Name":"TotalTaxableInvAmtWOContract","Datatype":"Number"},{"Name":"BatchAmountLCY","Datatype"');
        builder.Append(':"Number"},{"Name":"BatchPaymentAmountLCY","Datatype":"Number"},{"Name":"BatchInvoiceAmountLCY","Dat');
        builder.Append('atype":"Number"},{"Name":"PositiveAmtExclGST","Datatype":"Number"},{"Name":"TaxableAmountExclApplied');
        builder.Append('","Datatype":"Number"}],"ComputationScript":[{"ActivityType":"COMMENT","Activity":{"Comment":"Conver');
        builder.Append('ted Current Line''s amount and amount (LCY) to positive amount"}},{"ActivityType":"IFSTATEMENT","Acti');
        builder.Append('vity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}},"RHS":{"Type":"Constant');
        builder.Append('","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PositiveAmo');
        builder.Append('unt","Expression":"0-Amount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}]}},{"Activity');
        builder.Append('Type":"NUMERICEXPRESSION","Activity":{"VariableName":"PositiveAmountLCY","Expression":"0-AmountLCY",');
        builder.Append('"Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]}}],"ElseIf":{"Condition":{"Body"');
        builder.Append(':[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount","Output');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"Amount"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmountL');
        builder.Append('CY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal');
        builder.Append(' Line","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bo');
        builder.Append('dy":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}},"RHS":{"Type":"Constant","Value":""}');
        builder.Append('}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PositiveAmtExclGST');
        builder.Append('","Operator":"Minus","LHS":{"Type":"Constant","Value":""},"RHS":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}}}}],"ElseIf":{"');
        builder.Append('Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Posit');
        builder.Append('iveAmtExclGST","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Amount Excl. GST"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"');
        builder.Append('Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"PositiveAmtExclGST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Activi');
        builder.Append('tyType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount","OutputValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}}}},{"ActivityType":"SETVAR');
        builder.Append('IABLE","Activity":{"OutputVariableName":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}}}}]}},{"ActivityType":"COMMENT","Activ');
        builder.Append('ity":{"Comment":"Created string for current financial year"}},{"ActivityType":"SETVARIABLE","Activit');
        builder.Append('y":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last","Table');
        builder.Append('Filters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"Fi');
        builder.Append('rst","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","');
        builder.Append('TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equals To","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariab');
        builder.Append('leName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName');
        builder.Append('":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"FiterFiel');
        builder.Append('dName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[');
        builder.Append('{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}');
        builder.Append('}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value');
        builder.Append('":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value');
        builder.Append('":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNam');
        builder.Append('e":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"Accou');
        builder.Append('ntingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString');
        builder.Append('":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalY');
        builder.Append('earEndDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}}]}},{"ActivityType":"COMMENT","');
        builder.Append('Activity":{"Comment":"Total posted Invoice amount"}},{"ActivityType":"SETVARIABLE","Activity":{"Outp');
        builder.Append('utVariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Table');
        builder.Append('Name":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName"');
        builder.Append(':"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","Fil');
        builder.Append('terType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"A');
        builder.Append('ssessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":');
        builder.Append('"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"Ac');
        builder.Append('tivityType":"COMMENT","Activity":{"Comment":"Total posted Payment amount"}},{"ActivityType":"SETVARI');
        builder.Append('ABLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Method":"Sum","TableFilt');
        builder.Append('ers":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFi');
        builder.Append('eldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Ass');
        builder.Append('essee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attribu');
        builder.Append('tes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter');
        builder.Append('"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value');
        builder.Append('":"Payment"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Sum of posted payment and invoic');
        builder.Append('e amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PrevInvAmountLCY","Expre');
        builder.Append('ssion":"PostedInvoiceAmount+PostedPaymentAmount","Tokens":[{"TokenName":"PostedInvoiceAmount","Token');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmount"}}},{"TokenN');
        builder.Append('ame":"PostedPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"PaymentAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted contract a');
        builder.Append('mount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreviousContractAmount","Ou');
        builder.Append('tputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":');
        builder.Append('"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"T');
        builder.Append('DS Section Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldNam');
        builder.Append('e":"Per Contract","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}}}},{"Act');
        builder.Append('ivityType":"COMMENT","Activity":{"Comment":"Total Posted amount without contract amount"}},{"Activit');
        builder.Append('yType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmtWOContractLCY","Expression":"Total');
        builder.Append('PostedAmount-PostedContractAmount","Tokens":[{"TokenName":"PostedContractAmount","TokenValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName"');
        builder.Append(':"TotalPostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":');
        builder.Append('"TotalInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Payment Amount on c');
        builder.Append('urrent batch"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchPaymentAmountLC');
        builder.Append('Y","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Gen. Journal Line","Ta');
        builder.Append('bleFieldName":"Amount (LCY)","Method":"Sum","TableFilters":[{"FiterFieldName":"Journal Template Name');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","Filt');
        builder.Append('erType":"Not Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Account Type","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"Account Type"}}},{"FiterFieldName":"Account No.","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Account No."}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type');
        builder.Append('":"Constant","Value":"Payment"}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fi');
        builder.Append('eldName":"Journal Batch Name"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"TDS Section Code"}}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Invoice Amo');
        builder.Append('unt on current batch"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchInvoice');
        builder.Append('AmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Gen. Journal L');
        builder.Append('ine","TableFieldName":"Amount (LCY)","Method":"Sum","TableFilters":[{"FiterFieldName":"Journal Templ');
        builder.Append('ate Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No');
        builder.Append('.","FilterType":"Not Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Account Type","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"Account Type"}}},{"FiterFieldName":"Account No.","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"Account No."}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Constant","Value":"Invoice"}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Journal Batch Name"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVar');
        builder.Append('iableName":"BatchInvoiceAmountLCY","Operator":"Minus","LHS":{"Type":"Constant","Value":"0"},"RHS":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchInvoiceAmountLCY"}}}},{"Activi');
        builder.Append('tyType":"COMMENT","Activity":{"Comment":"Total Batch amount including Current Line Amount"}},{"Activ');
        builder.Append('ityType":"NUMERICEXPRESSION","Activity":{"VariableName":"BatchAmountLCY","Expression":"BatchPaymentA');
        builder.Append('mount+BatchInvoiceAmount+AmountLCY","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}}},{"TokenName":"BatchInvoiceA');
        builder.Append('mount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchInvoiceA');
        builder.Append('mountLCY"}}},{"TokenName":"BatchPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"BatchPaymentAmountLCY"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"C');
        builder.Append('ondition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"TDS Posting to G/L"}},"RHS":{"Type":"Constant","');
        builder.Append('Value":"true"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchAmoun');
        builder.Append('tLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmoun');
        builder.Append('tLCY"}}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmountLCY","Exp');
        builder.Append('ression":"PostedAmountLCY+BatchAmountLCY","Tokens":[{"TokenName":"BatchAmountLCY","TokenValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchAmountLCY"}}},{"TokenName":"Poste');
        builder.Append('dAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvA');
        builder.Append('mountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Amount from LCY to FCY"}}');
        builder.Append(',{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not');
        builder.Append(' Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"Currency Code"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION');
        builder.Append('","Activity":{"OutputVariableName":"TotalInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}},');
        builder.Append('{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmtWOContract","Operat');
        builder.Append('or":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvA');
        builder.Append('mtWOContractLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. ');
        builder.Append('Journal Line","FieldName":"Currency Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"Out');
        builder.Append('putVariableName":"PrevInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}}],"ElseIf":{"Conditio');
        builder.Append('n":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmoun');
        builder.Append('t","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLC');
        builder.Append('Y"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmtWOContract","Outpu');
        builder.Append('tValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"');
        builder.Append('}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PrevInvAmount","OutputValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}}]}}},{"Activit');
        builder.Append('yType":"COMMENT","Activity":{"Comment":"Get applied amount"}},{"ActivityType":"IFSTATEMENT","Activit');
        builder.Append('y":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant",');
        builder.Append('"Value":"Invoice"}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Opera');
        builder.Append('tor":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. J');
        builder.Append('ournal Line","FieldName":"Applies-to Doc. Type"}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Ope');
        builder.Append('rator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Gen. Journal Line","FieldName":"Applies-to Doc. No."}},"RHS":{"Type":"Constant","Value":""}}]},"Bo');
        builder.Append('dy":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount","OutputValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Am');
        builder.Append('ount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName":"Document No.","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"Applies-to Doc. No."}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"TDS Section Code"}}}]}}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{');
        builder.Append('"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Gen. Journal Line","FieldName":"Applies-to ID"}},"RHS":{"Type":"Constant","Value":""}}]');
        builder.Append('},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount","OutputValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","TableFieldName');
        builder.Append('":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName":"Applies-to ID","FilterType":"E');
        builder.Append('quals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jour');
        builder.Append('nal Line","FieldName":"Applies-to ID"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"TDS Section Code"}}}]}}}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition');
        builder.Append('":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"AppliedAmount"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"PositiveAmount"}}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"Ta');
        builder.Append('xableAmountExclApplied","Expression":"Amount-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenNa');
        builder.Append('me":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('AppliedAmount"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activ');
        builder.Append('ity":{"OutputVariableName":"TaxableAmountExclApplied","OutputValue":{"Type":"Constant","Value":"0"}}');
        builder.Append('}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount"}},{"ActivityType":"NUME');
        builder.Append('RICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmount","Expression":"(PostedAmount+Amount');
        builder.Append(')-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"PostedAmoun');
        builder.Append('t","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}');
        builder.Append(']}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount excluding posted contract ');
        builder.Append('amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmtWOContra');
        builder.Append('ct","Expression":"((PostedAmount-ContractAmt)+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount"');
        builder.Append(',"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},');
        builder.Append('{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"AppliedAmount"}}},{"TokenName":"ContractAmt","TokenValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"PostedAmount","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"Activity');
        builder.Append('Type":"COMMENT","Activity":{"Comment":"Condition to calculate TDS Amount considering Threshold limit');
        builder.Append('"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"');
        builder.Append('Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","Me');
        builder.Append('thod":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Ac');
        builder.Append('count No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code');
        builder.Append('"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","');
        builder.Append('Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Ac');
        builder.Append('tivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than Or Equals To","LHS":{"Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEM');
        builder.Append('ENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{');
        builder.Append('"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]');
        builder.Append('},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionT');
        builder.Append('ype":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}');
        builder.Append(',"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]}');
        builder.Append(',"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmtWOContract');
        builder.Append('"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Conditio');
        builder.Append('n":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"PositiveAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","Rate');
        builder.Append('ColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVaria');
        builder.Append('bleName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"S');
        builder.Append('ETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Va');
        builder.Append('lue":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"');
        builder.Append('Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Val');
        builder.Append('ue":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","C');
        builder.Append('onditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmo');
        builder.Append('untLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amo');
        builder.Append('unt"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount",');
        builder.Append('"OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmou');
        builder.Append('nt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Output');
        builder.Append('VariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}]}}}],"ElseIf":{');
        builder.Append('"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Colum');
        builder.Append('n","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"O');
        builder.Append('utputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"TaxableAmountExclApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Ac');
        builder.Append('tivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}},{"Activ');
        builder.Append('ityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSAmount","Expression":"TDSTaxableAmt*TDSP');
        builder.Append('er/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Compon');
        builder.Append('ent Percent","ComponentName":"TDS"}}},{"TokenName":"TDSTaxableAmt","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ActivityType":"SETVARIABLE"');
        builder.Append(',"Activity":{"OutputVariableName":"PreSurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Table","TableName":"TDS Entry","TableFieldName":"Surcharge Base Amount","Method":"Sum","T');
        builder.Append('ableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{');
        builder.Append('"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldNa');
        builder.Append('me":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax');
        builder.Append(' Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL F');
        builder.Append('ilter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDa');
        builder.Append('teFilter"}}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalSurchargeBase');
        builder.Append('Amt","Expression":"PreSurchargeBaseAmt+TDSAmount","Tokens":[{"TokenName":"PreSurchargeBaseAmt","Toke');
        builder.Append('nValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreSurchargeBaseAmt"}}},{');
        builder.Append('"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"TDSAmount"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ",');
        builder.Append('"ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","Table');
        builder.Append('FieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"TDS Section Code"}}},{"FiterFieldName":"Surcharge Overlook","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":');
        builder.Append('"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":');
        builder.Append('{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType"');
        builder.Append(':"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","L');
        builder.Append('HS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"Activity');
        builder.Append('Type":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"TotalSurchargeBaseAmt"}}}}],"ElseIf":{"Conditio');
        builder.Append('n":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBase');
        builder.Append('Amt","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}}],"ElseIf":{"Condit');
        builder.Append('ion":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBa');
        builder.Append('seAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}');
        builder.Append('}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType');
        builder.Append('":"Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}},"RHS":{"Type');
        builder.Append('":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"');
        builder.Append('TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Positiv');
        builder.Append('eAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"O');
        builder.Append('utputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"TDSTaxableAmount"}}}}]}}}],"PostingVariables":[{"Name":"TDSIncludingSHECess","Datatype"');
        builder.Append(':"Number"},{"Name":"TDSIncludingSurcharge","Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"Num');
        builder.Append('ber"},{"Name":"PaymentAmt","Datatype":"Number"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name":"');
        builder.Append('TotalInvAmt","Datatype":"Number"},{"Name":"PerContract","Datatype":"Boolean"},{"Name":"PaymentAmount');
        builder.Append('","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"FiscalYearStartDate","D');
        builder.Append('atatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Data');
        builder.Append('type":"String"},{"Name":"TDSPer","Datatype":"Number"},{"Name":"SurchargePer","Datatype":"Number"},{"');
        builder.Append('Name":"ECessPer","Datatype":"Number"},{"Name":"SHECessPer","Datatype":"Number"},{"Name":"VendorNo","');
        builder.Append('Datatype":"String"},{"Name":"PositiveAmount","Datatype":"Number"}],"PostingScript":[{"ActivityType":');
        builder.Append('"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expression":"{TDS}+{Surcharge}');
        builder.Append('+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Surcharge}","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName');
        builder.Append('":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]');
        builder.Append('}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSurcharge","Expressio');
        builder.Append('n":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ActivityType":"IFSTATEMENT",');
        builder.Append('"Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}},"RHS":{"Type":"Con');
        builder.Append('stant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalA');
        builder.Append('mtLCY","Expression":"0-{Amt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]}},{"Ac');
        builder.Append('tivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PositiveAmount","Operator":"Minus"');
        builder.Append(',"LHS":{"Type":"Constant","Value":""},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Gen. Journal Line","FieldName":"Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":');
        builder.Append('[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalAmtLCY","OutputValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount');
        builder.Append(' (LCY)"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount","OutputV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Amount"}}}}]}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearSt');
        builder.Append('artDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting P');
        builder.Append('eriod","TableFieldName":"Starting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type ');
        builder.Append('Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName');
        builder.Append('":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName"');
        builder.Append(':"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableNa');
        builder.Append('me":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldNa');
        builder.Append('me":"Starting Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"Fite');
        builder.Append('rFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}');
        builder.Append('},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}');
        builder.Append('}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","OutputVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldN');
        builder.Append('ame":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"E');
        builder.Append('quals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFi');
        builder.Append('eldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","Tabl');
        builder.Append('eFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending ');
        builder.Append('Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}}},{"ActivityTy');
        builder.Append('pe":"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter","Expression":"{StartD');
        builder.Append('ate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVariableName":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}},{"TokenName":"StartDa');
        builder.Append('te","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"FiscalYearEndDate"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"I');
        builder.Append('nvoiceAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","Ta');
        builder.Append('bleFieldName":"Invoice Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"');
        builder.Append('FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"SETVAR');
        builder.Append('IABLE","Activity":{"OutputVariableName":"PaymentAmt","OutputValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Method":"First","TableFilt');
        builder.Append('ers":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFi');
        builder.Append('eldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Ass');
        builder.Append('essee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attribu');
        builder.Append('tes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter');
        builder.Append('"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value');
        builder.Append('":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Exp');
        builder.Append('ression":"InvoiceAmt+PaymentAmt","Tokens":[{"TokenName":"InvoiceAmt","TokenValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmt"}}},{"TokenName":"PaymentAmt","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmt"}}}]}},{"ActivityTy');
        builder.Append('pe":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression":"{Amt}+{InvAmt}","Toke');
        builder.Append('ns":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableN');
        builder.Append('ame":"TotalAmtLCY"}}},{"TokenName":"{InvAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TotalInvAmt"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{');
        builder.Append('"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"');
        builder.Append('Allowed Sections","TableFieldName":"Threshold Overlook","Method":"First","TableFilters":[{"FiterFiel');
        builder.Append('dName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Sect');
        builder.Append('ion","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":');
        builder.Append('""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condi');
        builder.Append('tionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RH');
        builder.Append('S":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Bo');
        builder.Append('dy":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":');
        builder.Append('"Is Greater Than","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RH');
        builder.Append('S":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{');
        builder.Append('"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","Var');
        builder.Append('iableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"');
        builder.Append('TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"');
        builder.Append('Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"TotalAmtLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Con');
        builder.Append('tract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PerContrac');
        builder.Append('t","OutputValue":{"Type":"Constant","Value":"true"}}}]}}]}}]}}]}}]}},{"ActivityType":"IFSTATEMENT","');
        builder.Append('Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Con');
        builder.Append('stant","Value":"Payment"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":');
        builder.Append('"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Pos');
        builder.Append('itiveAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variab');
        builder.Append('le","VariableName":"PositiveAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"');
        builder.Append('Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Value":"Vendor"}}]');
        builder.Append('},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"VendorNo","OutputValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Account No."}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"VendorNo","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Gen. Journal Line","FieldName":"Bal. Account No."}}}}]}}}],"Components":[{"Compone');
        builder.Append('ntName":"TDS Base Amount","Sequence":6,"Formula":{"VariableName":"","Expression":"{TDSBaseAmt}","Tok');
        builder.Append('ens":[{"TokenName":"{TDSBaseAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"TDSBaseAmt"}}}]}},{"ComponentName":"Surcharge","Sequence":2,"Formula":{"VariableName":');
        builder.Append('"","Expression":"{TDSAmt}*{SurchargePer}/100","Tokens":[{"TokenName":"{SurchargePer}","TokenValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"TokenNam');
        builder.Append('e":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Surcha');
        builder.Append('rgeBaseAmt"}}}]}},{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Exp');
        builder.Append('ression":"TDS+Surcharge+eCess+SheCess","Tokens":[{"TokenName":"eCess","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"SheCess","TokenValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"Surch');
        builder.Append('arge","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}');
        builder.Append('},{"TokenName":"TDS","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName');
        builder.Append('":"TDS"}}}]}},{"ComponentName":"SHE Cess ","Sequence":4,"Formula":{"VariableName":"","Expression":"(');
        builder.Append('{TDSAmt}+{SurchargeAmt})*{SheCessPer}/100","Tokens":[{"TokenName":"{SheCessPer}","TokenValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Cess "}}},{"TokenName":"{');
        builder.Append('SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Sur');
        builder.Append('charge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component",');
        builder.Append('"ComponentName":"TDS"}}}]}},{"ComponentName":"eCESS","Sequence":3,"Formula":{"VariableName":"","Expr');
        builder.Append('ession":"({TDSAmt}+{SurchargeAmt})*{EcessPer}/100","Tokens":[{"TokenName":"{EcessPer}","TokenValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"TokenName":');
        builder.Append('"{SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"S');
        builder.Append('urcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component');
        builder.Append('","ComponentName":"TDS"}}}]}},{"ComponentName":"TDS","Sequence":1,"Formula":{"VariableName":"","Expr');
        builder.Append('ession":"TDSTaxableAmount*TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"TokenName":"TDSTaxableAmount",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}');
        builder.Append(']}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant"');
        builder.Append(',"Value":"Invoice"}},{"Operator":"or","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Va');
        builder.Append('lue":"Payment"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","T');
        builder.Append('ableName":"Vendor","TableFieldName":"P.A.N. Status","Method":"First","TableFilters":[{"FiterFieldNam');
        builder.Append('e":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record');
        builder.Append('","TableName":"Gen. Journal Line","FieldName":"Account No."}}}]}},"RHS":{"Type":"Constant","Value":"');
        builder.Append(' "}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName');
        builder.Append('":"Vendor","TableFieldName":"P.A.N. No.","Method":"First","TableFilters":[{"FiterFieldName":"No.","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Gen. Journal Line","FieldName":"Account No."}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Opera');
        builder.Append('tor":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"TDS Conce');
        builder.Append('ssional Code","TableFieldName":"Concessional Code","Method":"First","TableFilters":[{"FiterFieldName');
        builder.Append('":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"O');
        builder.Append('perator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Value":"Vendor"}},{"Operat');
        builder.Append('or":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}},{"Operator"');
        builder.Append(':"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Work Tax Nature Of Deduction"}},"RHS":{"Type":"Constant","Value":""}},{"Oper');
        builder.Append('ator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"System-Created Entry"}},"RHS":{"Type":"Constant","Value":""}},{"Operato');
        builder.Append('r":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Section');
        builder.Append('s","TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[{"FiterFieldName":"Vend');
        builder.Append('or No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"TaxP');
        builder.Append('ostingSetup":[{"ComponentName":"Total TDS Amount","TableName":"TDS Posting Setup","AccountSourceType');
        builder.Append('":"Field","FieldName":"TDS Account","AccountingImpact":"Credit","ReverseCharge":false,"ReverseAccoun');
        builder.Append('tSourceType":"Field","ReverseChargeFieldName":"","When":[{"Condition":{"Body":[{"Operator":" ","Cond');
        builder.Append('itionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}}]},"ValueType":"Insert Reco');
        builder.Append('rd","InsertRecord":{"TableName":"TDS Entry","RunTrigger":true,"RecordVariable":"","SubLedgerGrpBy":"');
        builder.Append('Component","InsertRecordFields":[{"FieldName":"Vendor No.","Sequence":4,"ReverseSign":false,"Lookup"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"VendorNo"}}},{"FieldName":"T.A.N');
        builder.Append('. No.","Sequence":5,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attrib');
        builder.Append('utes","AttributeName":"TAN No."}}},{"FieldName":"Section","Sequence":6,"ReverseSign":false,"Lookup":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"TDS Section Code"}}},{"FieldName":"Assessee Code","Sequence":7,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FieldName":"');
        builder.Append('TDS Base Amount","Sequence":8,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"TDS %","Sequence":9,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"Fi');
        builder.Append('eldName":"TDS Amount","Sequence":10,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Component","ComponentName":"TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":fal');
        builder.Append('se,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}');
        builder.Append('}},{"FieldName":"Surcharge Amount","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"R');
        builder.Append('everseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentNam');
        builder.Append('e":"eCESS"}}},{"FieldName":"eCess Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence"');
        builder.Append(':15,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","Compon');
        builder.Append('entName":"SHE Cess "}}},{"FieldName":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Conce');
        builder.Append('ssional Code","Sequence":17,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Ta');
        builder.Append('x Attributes","AttributeName":"Concessional Code"}}},{"FieldName":"Concessional Form No.","Sequence"');
        builder.Append(':37,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Co');
        builder.Append('ncessional Code","TableFieldName":"Certificate No.","Method":"First","TableFilters":[{"FiterFieldNam');
        builder.Append('e":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}},{"FieldName":"Deductee PAN No.","Sequen');
        builder.Append('ce":18,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Attrib');
        builder.Append('uteName":"PAN No."}}},{"FieldName":"Work Tax %","Sequence":32,"ReverseSign":false,"Lookup":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Work Tax"}}},{"FieldName":"Work ');
        builder.Append('Tax Amount","Sequence":34,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Comp');
        builder.Append('onent","ComponentName":"Work Tax"}}},{"FieldName":"Work Tax Base Amount","Sequence":33,"ReverseSign"');
        builder.Append(':false,"Lookup":{"Type":"Constant","Value":"0.00"}},{"FieldName":"Invoice Amount","Sequence":25,"Rev');
        builder.Append('erseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceA');
        builder.Append('mount"}}},{"FieldName":"Posting Date","Sequence":3,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{');
        builder.Append('"FieldName":"Document Type","Sequence":26,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}}},{"FieldNa');
        builder.Append('me":"Document No.","Sequence":2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Posting Field","PostingVariableName":"Posted Document No."}}},{"FieldName":"Account Type","Sequenc');
        builder.Append('e":23,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"G/L Account"}},{"FieldName":"Account ');
        builder.Append('No.","Sequence":24,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tab');
        builder.Append('leName":"TDS Posting Setup","TableFieldName":"TDS Account","Method":"First","TableFilters":[{"FiterF');
        builder.Append('ieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName"');
        builder.Append(':"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}},{"Fi');
        builder.Append('eldName":"Party Type","Sequence":41,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"Vendor"');
        builder.Append('}},{"FieldName":"Source Code","Sequence":28,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":');
        builder.Append('"PURCHASES"}},{"FieldName":"TDS Amount Including Surcharge","Sequence":22,"ReverseSign":false,"Looku');
        builder.Append('p":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSurcharge"}}},{"Fi');
        builder.Append('eldName":"Bal. TDS Including SHE CESS","Sequence":29,"ReverseSign":false,"Lookup":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Remaining Sur');
        builder.Append('charge Amount","Sequence":31,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('omponent","ComponentName":"Surcharge"}}},{"FieldName":"Remaining TDS Amount","Sequence":43,"ReverseS');
        builder.Append('ign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}},{"F');
        builder.Append('ieldName":"TDS Line Amount","Sequence":44,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}},{"FieldName":"To');
        builder.Append('tal TDS Including SHE CESS","Sequence":21,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Per Contract","Sequence"');
        builder.Append(':39,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('PerContract"}}},{"FieldName":"User ID","Sequence":30,"ReverseSign":false,"Lookup":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Database","DatabaseVariableName":"UserId"}}},{"FieldName":"Transaction No.","');
        builder.Append('Sequence":38,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","P');
        builder.Append('ostingVariableName":"G/L Entry Transaction No."}}},{"FieldName":"Original TDS Base Amount","Sequence');
        builder.Append('":27,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName');
        builder.Append('":"TDS Base Amount"}}},{"FieldName":"Payment Amount","Sequence":40,"ReverseSign":false,"Lookup":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}},{"FieldName":"Curre');
        builder.Append('ncy Code","Sequence":45,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"Currency Code"}}},{"FieldName":"Currency Fact');
        builder.Append('or","Sequence":46,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}},{"FieldName":"Surcharge Base Am');
        builder.Append('ount","Sequence":42,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component"');
        builder.Append(',"ComponentName":"TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry No."}}}]}}]}],');
        builder.Append('"AttachedEvents":[{"EventName":"CallTaxEngineOnGenJnlLine","Enabled":true,"Sequence":0},{"EventName"');
        builder.Append(':"OnAfterGenJnlLineUpdated","Enabled":true,"Sequence":0}]},{"Description":"Calculation of Tax Deduct');
        builder.Append('ion at Source through General Journal for Vendor where  PAN No. is specified without Concessional Co');
        builder.Append('des.\n","TaxType":"TDS","Code":"","TaxEntity":"Gen. Journal Line","ParentUseCase":"Calculation of Ta');
        builder.Append('x Deduction at Source through General Journal for Vendors.\n","PresentationOrder":268,"Indent":1,"Po');
        builder.Append('stingTableName":"TDS Posting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"I');
        builder.Append('s Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Gen. Journal Line","FieldName":"Posting Date"}}}],"Attributes":[{"Name":"PAN No.","When":[');
        builder.Append('{"ValueType":"Relation","Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Gen. Journal Line","FieldName":"Account No."}}}]}}]}],"RateColumns":[{"Name":"Effective Date","Wh');
        builder.Append('en":[{"ValueType":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","');
        builder.Append('FieldName":"Posting Date"}}]}],"ComputationVariables":[{"Name":"TotalAmount","Datatype":"Number"},{"');
        builder.Append('Name":"TDSTaxableAmount","Datatype":"Number"},{"Name":"SurchargeBaseAmt","Datatype":"Number"},{"Name');
        builder.Append('":"TDSAmount","Datatype":"Number"},{"Name":"PrevInvAmountLCY","Datatype":"Number"},{"Name":"PrevInvA');
        builder.Append('mount","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"PaymentAmount","Da');
        builder.Append('tatype":"Number"},{"Name":"PreviousContractAmount","Datatype":"Number"},{"Name":"TotalInvAmountLCY",');
        builder.Append('"Datatype":"Number"},{"Name":"TotalInvAmount","Datatype":"Number"},{"Name":"TotalInvAmtWOContractLCY');
        builder.Append('","Datatype":"Number"},{"Name":"TotalInvAmtWOContract","Datatype":"Number"},{"Name":"PreSurchargeBas');
        builder.Append('eAmt","Datatype":"Number"},{"Name":"TotalSurchargeBaseAmt","Datatype":"Number"},{"Name":"PositiveAmo');
        builder.Append('unt","Datatype":"Number"},{"Name":"PositiveAmountLCY","Datatype":"Number"},{"Name":"TDSBaseAmt","Dat');
        builder.Append('atype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datat');
        builder.Append('ype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TotalCurrAmountLCY","Datat');
        builder.Append('ype":"Number"},{"Name":"PositiveTotalCurrAmountLCY","Datatype":"Number"},{"Name":"AppliedAmount","Da');
        builder.Append('tatype":"Number"},{"Name":"TotalTaxableInvAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmtWO');
        builder.Append('Contract","Datatype":"Number"},{"Name":"BatchAmountLCY","Datatype":"Number"},{"Name":"BatchPaymentAm');
        builder.Append('ountLCY","Datatype":"Number"},{"Name":"BatchInvoiceAmountLCY","Datatype":"Number"},{"Name":"Positive');
        builder.Append('AmtExclGST","Datatype":"Number"},{"Name":"TaxableAmountExclApplied","Datatype":"Number"}],"Computati');
        builder.Append('onScript":[{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Current Line''s amount and amou');
        builder.Append('nt (LCY) to positive amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Oper');
        builder.Append('ator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Gen. Journal Line","FieldName":"Amount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Activit');
        builder.Append('yType":"NUMERICEXPRESSION","Activity":{"VariableName":"PositiveAmount","Expression":"0-Amount","Toke');
        builder.Append('ns":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Gen. Journal Line","FieldName":"Amount"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activit');
        builder.Append('y":{"VariableName":"PositiveAmountLCY","Expression":"0-AmountLCY","Tokens":[{"TokenName":"AmountLCY"');
        builder.Append(',"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"Amount (LCY)"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETV');
        builder.Append('ARIABLE","Activity":{"OutputVariableName":"PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}},{"ActivityTyp');
        builder.Append('e":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmountLCY","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}');
        builder.Append('}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTyp');
        builder.Append('e":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fi');
        builder.Append('eldName":"Amount Excl. GST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBE');
        builder.Append('RCALCULATION","Activity":{"OutputVariableName":"PositiveAmtExclGST","Operator":"Minus","LHS":{"Type"');
        builder.Append(':"Constant","Value":""},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Gen. Journal Line","FieldName":"Amount Excl. GST"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"A');
        builder.Append('ctivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmtExclGST","OutputValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amo');
        builder.Append('unt Excl. GST"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ');
        builder.Append('","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtE');
        builder.Append('xclGST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{');
        builder.Append('"OutputVariableName":"PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"PositiveAmtExclGST"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariable');
        builder.Append('Name":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"PositiveAmtExclGST"}}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Created string fo');
        builder.Append('r current financial year"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYe');
        builder.Append('arStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounti');
        builder.Append('ng Period","TableFieldName":"Starting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax T');
        builder.Append('ype Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Table');
        builder.Append('Name":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldN');
        builder.Append('ame":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tab');
        builder.Append('leName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFie');
        builder.Append('ldName":"Starting Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"');
        builder.Append('FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"tr');
        builder.Append('ue"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"fal');
        builder.Append('se"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","Outpu');
        builder.Append('tValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFi');
        builder.Append('eldName":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","Tab');
        builder.Append('leFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","');
        builder.Append('TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Y');
        builder.Append('ear","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Clo');
        builder.Append('sed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"End');
        builder.Append('ing Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}}},{"Activi');
        builder.Append('tyType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter","Expression":"{St');
        builder.Append('artDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVariableName":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}},{"TokenName":"Start');
        builder.Append('Date","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Var');
        builder.Append('iableName":"FiscalYearStartDate"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted');
        builder.Append(' Invoice amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","O');
        builder.Append('utputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName"');
        builder.Append(':"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName"');
        builder.Append(':"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equa');
        builder.Append('ls","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"COMMENT","Activity":{');
        builder.Append('"Comment":"Total posted Payment amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableN');
        builder.Append('ame":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS ');
        builder.Append('Entry","TableFieldName":"Payment Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No');
        builder.Append('.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"E');
        builder.Append('quals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jour');
        builder.Append('nal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Cod');
        builder.Append('e"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document T');
        builder.Append('ype","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType"');
        builder.Append(':"COMMENT","Activity":{"Comment":"Sum of posted payment and invoice amount"}},{"ActivityType":"NUMER');
        builder.Append('ICEXPRESSION","Activity":{"VariableName":"PrevInvAmountLCY","Expression":"PostedInvoiceAmount+Posted');
        builder.Append('PaymentAmount","Tokens":[{"TokenName":"PostedInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"InvoiceAmount"}}},{"TokenName":"PostedPaymentAmount","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}}]}},{"Acti');
        builder.Append('vityType":"COMMENT","Activity":{"Comment":"Total posted contract amount"}},{"ActivityType":"SETVARIA');
        builder.Append('BLE","Activity":{"OutputVariableName":"PreviousContractAmount","OutputValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","T');
        builder.Append('ableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{');
        builder.Append('"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldNa');
        builder.Append('me":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Per Contract","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Constant","Value":"true"}}]}}}},{"ActivityType":"COMMENT","Activity":{"');
        builder.Append('Comment":"Total Posted amount without contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activi');
        builder.Append('ty":{"VariableName":"TotalInvAmtWOContractLCY","Expression":"TotalPostedAmount-PostedContractAmount"');
        builder.Append(',"Tokens":[{"TokenName":"PostedContractAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"TotalPostedAmount","TokenValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}]}},{"Activi');
        builder.Append('tyType":"COMMENT","Activity":{"Comment":"Total Payment Amount on current batch"}},{"ActivityType":"S');
        builder.Append('ETVARIABLE","Activity":{"OutputVariableName":"BatchPaymentAmountLCY","OutputValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"Gen. Journal Line","TableFieldName":"Amount (LCY)","Meth');
        builder.Append('od":"Sum","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldN');
        builder.Append('ame":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Not Equals","FilterValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName');
        builder.Append('":"Line No."}}},{"FiterFieldName":"Account Type","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account Type"');
        builder.Append('}}},{"FiterFieldName":"Account No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFie');
        builder.Append('ldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}},{');
        builder.Append('"FiterFieldName":"Journal Batch Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Batch Name"}}},{');
        builder.Append('"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}},');
        builder.Append('{"ActivityType":"COMMENT","Activity":{"Comment":"Total Invoice Amount on current batch"}},{"Activity');
        builder.Append('Type":"SETVARIABLE","Activity":{"OutputVariableName":"BatchInvoiceAmountLCY","OutputValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Table","TableName":"Gen. Journal Line","TableFieldName":"Amount (LCY');
        builder.Append(')","Method":"Sum","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line"');
        builder.Append(',"FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Not Equals","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","F');
        builder.Append('ieldName":"Line No."}}},{"FiterFieldName":"Account Type","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Accou');
        builder.Append('nt Type"}}},{"FiterFieldName":"Account No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"');
        builder.Append('FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invo');
        builder.Append('ice"}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Batch Na');
        builder.Append('me"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}');
        builder.Append('}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"BatchInvoiceAmountLCY"');
        builder.Append(',"Operator":"Minus","LHS":{"Type":"Constant","Value":"0"},"RHS":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"BatchInvoiceAmountLCY"}}}},{"ActivityType":"COMMENT","Activity":{"Com');
        builder.Append('ment":"Total Batch amount including Current Line Amount"}},{"ActivityType":"NUMERICEXPRESSION","Acti');
        builder.Append('vity":{"VariableName":"BatchAmountLCY","Expression":"BatchPaymentAmount+BatchInvoiceAmount+AmountLCY');
        builder.Append('","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable"');
        builder.Append(',"VariableName":"PositiveAmountLCY"}}},{"TokenName":"BatchInvoiceAmount","TokenValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"BatchInvoiceAmountLCY"}}},{"TokenName":"BatchPa');
        builder.Append('ymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchPa');
        builder.Append('ymentAmountLCY"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" "');
        builder.Append(',"ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"TDS Posting to G/L"}},"RHS":{"Type":"Constant","Value":"true"}}]},"Body":[{"Activi');
        builder.Append('tyType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchAmountLCY","OutputValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}}}}]}},{"ActivityType":"NUME');
        builder.Append('RICEXPRESSION","Activity":{"VariableName":"TotalInvAmountLCY","Expression":"PostedAmountLCY+BatchAmo');
        builder.Append('untLCY","Tokens":[{"TokenName":"BatchAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"BatchAmountLCY"}}},{"TokenName":"PostedAmountLCY","TokenValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}]}},{"ActivityType":"C');
        builder.Append('OMMENT","Activity":{"Comment":"Converted Amount from LCY to FCY"}},{"ActivityType":"IFSTATEMENT","Ac');
        builder.Append('tivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Code"}},"RHS":{"Type":"C');
        builder.Append('onstant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName"');
        builder.Append(':"TotalInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}},{"ActivityType":"NUMBERCALCULATION');
        builder.Append('","Activity":{"OutputVariableName":"TotalInvAmtWOContract","Operator":"Multiply By","LHS":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}},"RHS":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currenc');
        builder.Append('y Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PrevInvAmount","');
        builder.Append('Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Pre');
        builder.Append('vInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jo');
        builder.Append('urnal Line","FieldName":"Currency Factor"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityT');
        builder.Append('ype":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmount","OutputValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}},{"ActivityType":"SETVARIABL');
        builder.Append('E","Activity":{"OutputVariableName":"TotalInvAmtWOContract","OutputValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"SETVARIABLE"');
        builder.Append(',"Activity":{"OutputVariableName":"PrevInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"PrevInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comm');
        builder.Append('ent":"Get applied amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operato');
        builder.Append('r":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}}]},"Body":[{"Ac');
        builder.Append('tivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals",');
        builder.Append('"LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-');
        builder.Append('to Doc. Type"}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType":"Not ');
        builder.Append('Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Applies-to Doc. No."}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE"');
        builder.Append(',"Activity":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"Document No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. N');
        builder.Append('o."}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}');
        builder.Append('}}]}}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condition');
        builder.Append('Type":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","F');
        builder.Append('ieldName":"Applies-to ID"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARI');
        builder.Append('ABLE","Activity":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum"');
        builder.Append(',"TableFilters":[{"FiterFieldName":"Applies-to ID","FilterType":"Equals","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to ');
        builder.Append('ID"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}');
        builder.Append('}}]}}}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condit');
        builder.Append('ionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}},"R');
        builder.Append('HS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}]},"Body":[');
        builder.Append('{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TaxableAmountExclApplied","Expressio');
        builder.Append('n":"Amount-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}}]}}],"ElseIf":{"C');
        builder.Append('ondition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Taxabl');
        builder.Append('eAmountExclApplied","OutputValue":{"Type":"Constant","Value":"0"}}}]}}},{"ActivityType":"COMMENT","A');
        builder.Append('ctivity":{"Comment":"Total Taxable Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Variab');
        builder.Append('leName":"TotalTaxableInvAmount","Expression":"(PostedAmount+Amount)-AppliedAmount","Tokens":[{"Token');
        builder.Append('Name":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Posit');
        builder.Append('iveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"AppliedAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Act');
        builder.Append('ivity":{"Comment":"Total Taxable Amount excluding posted contract amount"}},{"ActivityType":"NUMERIC');
        builder.Append('EXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmtWOContract","Expression":"((PostedAmount-C');
        builder.Append('ontractAmt)+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","Toke');
        builder.Append('nValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"Token');
        builder.Append('Name":"ContractAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('PreviousContractAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comme');
        builder.Append('nt":"Condition to calculate TDS Amount considering Threshold limit"}},{"ActivityType":"IFSTATEMENT",');
        builder.Append('"Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceTy');
        builder.Append('pe":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"Fi');
        builder.Append('terFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"T');
        builder.Append('DS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Threshold ');
        builder.Append('Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"');
        builder.Append('Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Op');
        builder.Append('erator":" ","ConditionType":"Is Less Than Or Equals To","LHS":{"Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnN');
        builder.Append('ame":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bod');
        builder.Append('y":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnN');
        builder.Append('ame":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATE');
        builder.Append('MENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIA');
        builder.Append('BLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"TotalTaxableInvAmtWOContract"}}}}],"ElseIf":{"Condition":{"Bod');
        builder.Append('y":[]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condi');
        builder.Append('tionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountL');
        builder.Append('CY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}');
        builder.Append('}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","Outpu');
        builder.Append('tValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"');
        builder.Append('}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVar');
        builder.Append('iableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Con');
        builder.Append('dition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Column","Ra');
        builder.Append('teColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType"');
        builder.Append(':"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","L');
        builder.Append('HS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":');
        builder.Append('"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmount"}}}}],"ElseIf":{"Condition":{"B');
        builder.Append('ody":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","');
        builder.Append('OutputValue":{"Type":"Constant","Value":"0"}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":"');
        builder.Append(' ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevIn');
        builder.Append('vAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold');
        builder.Append(' Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmou');
        builder.Append('nt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountEx');
        builder.Append('clApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activit');
        builder.Append('y":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"V');
        builder.Append('ariable","VariableName":"TaxableAmountExclApplied"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","Acti');
        builder.Append('vity":{"VariableName":"TDSAmount","Expression":"TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenName":"TD');
        builder.Append('SPer","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"');
        builder.Append('}}},{"TokenName":"TDSTaxableAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"TDSTaxableAmount"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":');
        builder.Append('"PreSurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS');
        builder.Append(' Entry","TableFieldName":"Surcharge Base Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"V');
        builder.Append('endor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Asse');
        builder.Append('ssee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}}]}}}},{"ActivityType":');
        builder.Append('"NUMERICEXPRESSION","Activity":{"VariableName":"TotalSurchargeBaseAmt","Expression":"PreSurchargeBas');
        builder.Append('eAmt+TDSAmount","Tokens":[{"TokenName":"PreSurchargeBaseAmt","TokenValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Variable","VariableName":"PreSurchargeBaseAmt"}}},{"TokenName":"TDSAmount","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}]}},{"ActivityTyp');
        builder.Append('e":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"L');
        builder.Append('ookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","Ta');
        builder.Append('bleFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"F');
        builder.Append('iterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterField');
        builder.Append('Name":"Surcharge Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}');
        builder.Append('},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Conditi');
        builder.Append('on":{"Body":[{"Operator":" ","ConditionType":"Is Less Than Or Equals To","LHS":{"Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Col');
        builder.Append('umn","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activ');
        builder.Append('ity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","');
        builder.Append('Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"TotalSurchargeBaseAmt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body"');
        builder.Append(':[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"');
        builder.Append('Type":"Constant","Value":"0"}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETV');
        builder.Append('ARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Bod');
        builder.Append('y":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}},{"ActivityType');
        builder.Append('":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}},"RHS":{"Type":"Constant","Value":');
        builder.Append('""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}}],"ElseIf');
        builder.Append('":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"T');
        builder.Append('DSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxab');
        builder.Append('leAmount"}}}}]}}}],"PostingVariables":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"Name":"T');
        builder.Append('DSIncludingSurcharge","Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":"Paymen');
        builder.Append('tAmt","Datatype":"Number"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","Datatyp');
        builder.Append('e":"Number"},{"Name":"PerContract","Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"Number"');
        builder.Append('},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Na');
        builder.Append('me":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Nam');
        builder.Append('e":"TDSPer","Datatype":"Number"},{"Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPer","Dat');
        builder.Append('atype":"Number"},{"Name":"SHECessPer","Datatype":"Number"},{"Name":"VendorNo","Datatype":"String"},{');
        builder.Append('"Name":"PositiveAmount","Datatype":"Number"}],"PostingScript":[{"ActivityType":"NUMERICEXPRESSION","');
        builder.Append('Activity":{"VariableName":"TDSIncludingSHECess","Expression":"{TDS}+{Surcharge}+{eCESS}+{SHECess}","');
        builder.Append('Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Co');
        builder.Append('mponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ActivityType":"N');
        builder.Append('UMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSurcharge","Expression":"{TDS}+{Surcharge}');
        builder.Append('","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Compone');
        builder.Append('nt","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Component","ComponentName":"TDS"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Conditio');
        builder.Append('n":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Gen. Journal Line","FieldName":"Amount"}},"RHS":{"Type":"Constant","Value":""}}]}');
        builder.Append(',"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalAmtLCY","Expression":"');
        builder.Append('0-{Amt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]}},{"ActivityType":"NUMBERCA');
        builder.Append('LCULATION","Activity":{"OutputVariableName":"PositiveAmount","Operator":"Minus","LHS":{"Type":"Const');
        builder.Append('ant","Value":""},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jo');
        builder.Append('urnal Line","FieldName":"TDS Invoice Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Activi');
        builder.Append('tyType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalAmtLCY","OutputValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}');
        builder.Append('}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount","OutputValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"T');
        builder.Append('DS Invoice Amount"}}}}]}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYea');
        builder.Append('rStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accountin');
        builder.Append('g Period","TableFieldName":"Starting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Ty');
        builder.Append('pe Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldNa');
        builder.Append('me":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tabl');
        builder.Append('eName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFiel');
        builder.Append('dName":"Starting Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"F');
        builder.Append('iterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"tru');
        builder.Append('e"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"fals');
        builder.Append('e"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","Output');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFie');
        builder.Append('ldName":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","Tabl');
        builder.Append('eFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","T');
        builder.Append('ableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Ye');
        builder.Append('ar","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Clos');
        builder.Append('ed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Endi');
        builder.Append('ng Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}}},{"Activit');
        builder.Append('yType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter","Expression":"{Sta');
        builder.Append('rtDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVariableName":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}},{"TokenName":"Star');
        builder.Append('tDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"FiscalYearEndDate"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName"');
        builder.Append(':"InvoiceAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry",');
        builder.Append('"TableFieldName":"Invoice Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}}');
        builder.Append(',{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"SET');
        builder.Append('VARIABLE","Activity":{"OutputVariableName":"PaymentAmt","OutputValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Method":"First","TableF');
        builder.Append('ilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"Fite');
        builder.Append('rFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"');
        builder.Append('Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attr');
        builder.Append('ibutes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFil');
        builder.Append('ter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Va');
        builder.Append('lue":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","');
        builder.Append('Expression":"InvoiceAmt+PaymentAmt","Tokens":[{"TokenName":"InvoiceAmt","TokenValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmt"}}},{"TokenName":"PaymentAmt","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmt"}}}]}},{"Activit');
        builder.Append('yType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression":"{Amt}+{InvAmt}","T');
        builder.Append('okens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"TotalAmtLCY"}}},{"TokenName":"{InvAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"TotalInvAmt"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition');
        builder.Append('":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName');
        builder.Append('":"Allowed Sections","TableFieldName":"Threshold Overlook","Method":"First","TableFilters":[{"FiterF');
        builder.Append('ieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS S');
        builder.Append('ection","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Valu');
        builder.Append('e":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Co');
        builder.Append('nditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},');
        builder.Append('"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},');
        builder.Append('"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTyp');
        builder.Append('e":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},');
        builder.Append('"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition');
        builder.Append('":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName');
        builder.Append('":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":');
        builder.Append('[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","Variabl');
        builder.Append('eName":"TotalAmtLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per ');
        builder.Append('Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PerCont');
        builder.Append('ract","OutputValue":{"Type":"Constant","Value":"true"}}}]}}]}}]}}]}}]}},{"ActivityType":"IFSTATEMENT');
        builder.Append('","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"');
        builder.Append('Constant","Value":"Payment"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNam');
        builder.Append('e":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('PositiveAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"PositiveAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition"');
        builder.Append(':{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Value":"Vendor"');
        builder.Append('}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"VendorNo","OutputValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName');
        builder.Append('":"Account No."}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"VendorNo","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Gen. Journal Line","FieldName":"Bal. Account No."}}}}]}}}],"Components":[{"Comp');
        builder.Append('onentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Expression":"TDSAmount+Surc');
        builder.Append('hargeAmount+ECessAmount+SHECessAmount","Tokens":[{"TokenName":"ECessAmount","TokenValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"SHECessAmount","To');
        builder.Append('kenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"Token');
        builder.Append('Name":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentN');
        builder.Append('ame":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('omponent","ComponentName":"TDS"}}}]}},{"ComponentName":"SHE Cess ","Sequence":4,"Formula":{"Variable');
        builder.Append('Name":"","Expression":"(TDSAmount+SurchargeAmount)*SHECessPercent/100","Tokens":[{"TokenName":"SHECe');
        builder.Append('ssPercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":');
        builder.Append('"SHE Cess "}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ComponentName":"Surcharge","Sequence":');
        builder.Append('2,"Formula":{"VariableName":"","Expression":"SurchargeTaxableAmount*SurchargePercent/100","Tokens":[');
        builder.Append('{"TokenName":"SurchargePercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Perc');
        builder.Append('ent","ComponentName":"Surcharge"}}},{"TokenName":"SurchargeTaxableAmount","TokenValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"SurchargeBaseAmt"}}}]}},{"ComponentName":"TDS"');
        builder.Append(',"Sequence":1,"Formula":{"VariableName":"","Expression":"TDSTaxableAmount*TDSPercent/100","Tokens":[');
        builder.Append('{"TokenName":"TDSPercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","');
        builder.Append('ComponentName":"TDS"}}},{"TokenName":"TDSTaxableAmount","TokenValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ComponentName":"eCESS","Sequence":3,"F');
        builder.Append('ormula":{"VariableName":"","Expression":"(TDSAmount+SurchargeAmount)*EcessPercent/100","Tokens":[{"T');
        builder.Append('okenName":"EcessPercent","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","C');
        builder.Append('omponentName":"eCESS"}}},{"TokenName":"SurchargeAmount","TokenValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ComponentName":"TDS Base Amo');
        builder.Append('unt","Sequence":6,"Formula":{"VariableName":"","Expression":"TDSBaseAmount","Tokens":[{"TokenName":"');
        builder.Append('TDSBaseAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSBa');
        builder.Append('seAmt"}}}]}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"');
        builder.Append('Constant","Value":"Invoice"}},{"Operator":"or","ConditionType":"Equals","LHS":{"Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Cons');
        builder.Append('tant","Value":"Payment"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"');
        builder.Append('Table","TableName":"Vendor","TableFieldName":"P.A.N. Status","Method":"First","TableFilters":[{"Fite');
        builder.Append('rFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}]}},"RHS":{"Type":"Constant",');
        builder.Append('"Value":" "}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","');
        builder.Append('TableName":"Vendor","TableFieldName":"P.A.N. No.","Method":"First","TableFilters":[{"FiterFieldName"');
        builder.Append(':"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Gen. Journal Line","FieldName":"Account No."}}}]}},"RHS":{"Type":"Constant","Value":""}');
        builder.Append('},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"TDS ');
        builder.Append('Concessional Code","TableFieldName":"Concessional Code","Method":"First","TableFilters":[{"FiterFiel');
        builder.Append('dName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}');
        builder.Append('},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Value":"Vendor"}},{"O');
        builder.Append('perator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Gen. Journal Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}},{"Oper');
        builder.Append('ator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sect');
        builder.Append('ions","TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[{"FiterFieldName":"V');
        builder.Append('endor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","Fil');
        builder.Append('terType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Op');
        builder.Append('erator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Work Tax Nature Of Deduction"}},"RHS":{"Type":"Constant","Value":""}}');
        builder.Append(',{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Gen. Journal Line","FieldName":"System-Created Entry"}},"RHS":{"Type":"Constant","Value":""}}]},');
        builder.Append('"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","TableName":"TDS Posting Setup","AccountSourc');
        builder.Append('eType":"Field","FieldName":"TDS Account","AccountingImpact":"Credit","ReverseCharge":false,"ReverseA');
        builder.Append('ccountSourceType":"Field","ReverseChargeFieldName":"","When":[{"Condition":{"Body":[{"Operator":" ",');
        builder.Append('"ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}}]},"ValueType":"Insert');
        builder.Append(' Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger":true,"RecordVariable":"","SubLedgerGrp');
        builder.Append('By":"Component","InsertRecordFields":[{"FieldName":"Vendor No.","Sequence":4,"ReverseSign":false,"Lo');
        builder.Append('okup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"VendorNo"}}},{"FieldName":"');
        builder.Append('T.A.N. No.","Sequence":5,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax A');
        builder.Append('ttributes","AttributeName":"TAN No."}}},{"FieldName":"Section","Sequence":6,"ReverseSign":false,"Loo');
        builder.Append('kup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Field');
        builder.Append('Name":"TDS Section Code"}}},{"FieldName":"Assessee Code","Sequence":7,"ReverseSign":false,"Lookup":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FieldNa');
        builder.Append('me":"TDS Base Amount","Sequence":8,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"TDS %","Sequence":9,"ReverseSign"');
        builder.Append(':false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}}');
        builder.Append(',{"FieldName":"TDS Amount","Sequence":10,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Component","ComponentName":"TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign');
        builder.Append('":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcha');
        builder.Append('rge"}}},{"FieldName":"Surcharge Amount","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":');
        builder.Append('13,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","Compone');
        builder.Append('ntName":"eCESS"}}},{"FieldName":"eCess Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequ');
        builder.Append('ence":15,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","C');
        builder.Append('omponentName":"SHE Cess "}}},{"FieldName":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Looku');
        builder.Append('p":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"');
        builder.Append('Concessional Code","Sequence":17,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Tax Attributes","AttributeName":"Concessional Code"}}},{"FieldName":"Concessional Form No.","Sequ');
        builder.Append('ence":37,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"T');
        builder.Append('DS Concessional Code","TableFieldName":"Certificate No.","Method":"First","TableFilters":[{"FiterFie');
        builder.Append('ldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Sectio');
        builder.Append('n","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}},{"FieldName":"Deductee PAN No.","S');
        builder.Append('equence":18,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","A');
        builder.Append('ttributeName":"PAN No."}}},{"FieldName":"Work Tax %","Sequence":32,"ReverseSign":false,"Lookup":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Work Tax"}}},{"FieldName":"');
        builder.Append('Work Tax Amount","Sequence":34,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Component","ComponentName":"Work Tax"}}},{"FieldName":"Work Tax Base Amount","Sequence":33,"Reverse');
        builder.Append('Sign":false,"Lookup":{"Type":"Constant","Value":"0.00"}},{"FieldName":"Invoice Amount","Sequence":25');
        builder.Append(',"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Inv');
        builder.Append('oiceAmount"}}},{"FieldName":"Posting Date","Sequence":3,"ReverseSign":false,"Lookup":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"');
        builder.Append('}}},{"FieldName":"Document Type","Sequence":26,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}}},{"Fi');
        builder.Append('eldName":"Document No.","Sequence":2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Posting Field","PostingVariableName":"Posted Document No."}}},{"FieldName":"Account Type","Se');
        builder.Append('quence":23,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"G/L Account"}},{"FieldName":"Acc');
        builder.Append('ount No.","Sequence":24,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table"');
        builder.Append(',"TableName":"TDS Posting Setup","TableFieldName":"TDS Account","Method":"First","TableFilters":[{"F');
        builder.Append('iterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterField');
        builder.Append('Name":"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}}');
        builder.Append(',{"FieldName":"Source Code","Sequence":28,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"P');
        builder.Append('URCHASES"}},{"FieldName":"TDS Amount Including Surcharge","Sequence":22,"ReverseSign":false,"Lookup"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSurcharge"}}},{"Fiel');
        builder.Append('dName":"Bal. TDS Including SHE CESS","Sequence":29,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Remaining Surch');
        builder.Append('arge Amount","Sequence":31,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Com');
        builder.Append('ponent","ComponentName":"Surcharge"}}},{"FieldName":"Remaining TDS Amount","Sequence":42,"ReverseSig');
        builder.Append('n":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}},{"Fie');
        builder.Append('ldName":"TDS Line Amount","Sequence":43,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}},{"FieldName":"Tota');
        builder.Append('l TDS Including SHE CESS","Sequence":21,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Per Contract","Sequence":3');
        builder.Append('9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Pe');
        builder.Append('rContract"}}},{"FieldName":"User ID","Sequence":30,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Database","DatabaseVariableName":"UserId"}}},{"FieldName":"Transaction No.","Se');
        builder.Append('quence":38,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","Pos');
        builder.Append('tingVariableName":"G/L Entry Transaction No."}}},{"FieldName":"Original TDS Base Amount","Sequence":');
        builder.Append('27,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":');
        builder.Append('"TDS Base Amount"}}},{"FieldName":"Payment Amount","Sequence":40,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}},{"FieldName":"Currenc');
        builder.Append('y Code","Sequence":45,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Gen. Journal Line","FieldName":"Currency Code"}}},{"FieldName":"Currency Factor');
        builder.Append('","Sequence":46,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record');
        builder.Append('","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}},{"FieldName":"Surcharge Base Amou');
        builder.Append('nt","Sequence":44,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","');
        builder.Append('ComponentName":"TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"ReverseSign":false,"Lookup":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry No."}}}]}}]}],"A');
        builder.Append('ttachedEvents":[{"EventName":"CallTaxEngineOnGenJnlLine","Enabled":true,"Sequence":0},{"EventName":"');
        builder.Append('OnAfterGenJnlLineUpdated","Enabled":true,"Sequence":0}]},{"Description":"Calculation of Tax Deductio');
        builder.Append('n at Source through General Journal for Non-Residents Vendor.\n","TaxType":"TDS","Code":"","TaxEntit');
        builder.Append('y":"Gen. Journal Line","ParentUseCase":"","PresentationOrder":281,"Indent":0,"PostingTableName":"TDS');
        builder.Append(' Posting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","Filter');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equal');
        builder.Append('s To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"Posting Date"}}}],"Attributes":[{"Name":"PAN No.","When":[{"Condition":{"Body"');
        builder.Append(':[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Gen. Journal Line","FieldName":"Bal. Account Type"}},"RHS":{"Type":"Constant","Value":"Vendor"}}]');
        builder.Append('},"ValueType":"Relation","Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","F');
        builder.Append('ilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Gen. Journal Line","FieldName":"Bal. Account No."}}}]}},{"Condition":{"Body":[{"Operator":" ","C');
        builder.Append('onditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Value":"Vendor"}}]},"ValueType":"Relation",');
        builder.Append('"Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","F');
        builder.Append('ieldName":"Account No."}}}]}}]},{"Name":"TAN No.","When":[{"ValueType":"Relation","Relation":{"Table');
        builder.Append('Name":"Gen. Journal Line","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"Line No."}}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNa');
        builder.Append('me":"Journal Batch Name"}}}]}}]},{"Name":"Country Code","When":[{"ValueType":"Relation","Relation":{');
        builder.Append('"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"A');
        builder.Append('ccount No."}}}]}}]},{"Name":"Section Code","When":[{"ValueType":"Relation","Relation":{"TableName":"');
        builder.Append('Gen. Journal Line","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Line No."}}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Jo');
        builder.Append('urnal Batch Name"}}}]}}]},{"Name":"Nature of Remittance","When":[{"ValueType":"Relation","Relation":');
        builder.Append('{"TableName":"Gen. Journal Line","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"Line No."}}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","');
        builder.Append('FieldName":"Journal Batch Name"}}}]}}]},{"Name":"Non Resident Payment","When":[{"ValueType":"Relatio');
        builder.Append('n","Relation":{"TableName":"Allowed Sections","TableFilters":[{"FiterFieldName":"Vendor No","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Ge');
        builder.Append('n. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"TDS Section Code"}}}]}}]},{"Name":"Act Applicable","When":[{"ValueType":"Relation","');
        builder.Append('Relation":{"TableName":"Gen. Journal Line","TableFilters":[{"FiterFieldName":"Journal Template Name"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Journal Batch Name","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"Journal Batch Name"}}}]}}]},{"Name":"Assessee Code","When":[{"ValueType":"Rela');
        builder.Append('tion","Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"Account No."}}}]}}]}],"RateColumns":[{"Name":"Effective Date","When":[{"ValueType":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Postin');
        builder.Append('g Date"}}]}],"ComputationVariables":[],"ComputationScript":[],"PostingVariables":[],"PostingScript":');
        builder.Append('[],"Components":[],"Condition":{"Body":[]},"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","T');
        builder.Append('ableName":"TDS Posting Setup","AccountSourceType":"Field","FieldName":"TDS Account","AccountingImpac');
        builder.Append('t":"Debit","ReverseCharge":false,"ReverseAccountSourceType":"Field","ReverseChargeFieldName":""}],"A');
        builder.Append('ttachedEvents":[]},{"Description":"Calculation of Tax Deduction at Source through General Journal fo');
        builder.Append('r Non-Residents Vendor where PAN No. is specified along with Concessional Codes.\n","TaxType":"TDS",');
        builder.Append('"Code":"","TaxEntity":"Gen. Journal Line","ParentUseCase":"Calculation of Tax Deduction at Source th');
        builder.Append('rough General Journal for Non-Residents Vendor.\n","PresentationOrder":282,"Indent":1,"PostingTableN');
        builder.Append('ame":"TDS Posting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than');
        builder.Append(' Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Posting Date"}}}],"Attributes":[{"Name":"PAN No.","When":[{"ValueType');
        builder.Append('":"Relation","Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Account No."}}}]}}]},{"Name":"Concessional Code","When":[{"Condition":{"Body');
        builder.Append('":[]},"ValueType":"Relation","Relation":{"TableName":"TDS Concessional Code","TableFilters":[{"Fiter');
        builder.Append('FieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Sec');
        builder.Append('tion","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}]}],"RateColumns":[],"Computation');
        builder.Append('Variables":[{"Name":"TotalAmount","Datatype":"Number"},{"Name":"TDSTaxableAmount","Datatype":"Number');
        builder.Append('"},{"Name":"SurchargeBaseAmt","Datatype":"Number"},{"Name":"TDSAmount","Datatype":"Number"},{"Name":');
        builder.Append('"PrevInvAmountLCY","Datatype":"Number"},{"Name":"PrevInvAmount","Datatype":"Number"},{"Name":"Invoic');
        builder.Append('eAmount","Datatype":"Number"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"PreviousContract');
        builder.Append('Amount","Datatype":"Number"},{"Name":"TotalInvAmountLCY","Datatype":"Number"},{"Name":"TotalInvAmoun');
        builder.Append('t","Datatype":"Number"},{"Name":"TotalInvAmtWOContractLCY","Datatype":"Number"},{"Name":"TotalInvAmt');
        builder.Append('WOContract","Datatype":"Number"},{"Name":"PreSurchargeBaseAmt","Datatype":"Number"},{"Name":"TotalSu');
        builder.Append('rchargeBaseAmt","Datatype":"Number"},{"Name":"PositiveAmount","Datatype":"Number"},{"Name":"Positive');
        builder.Append('AmountLCY","Datatype":"Number"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"Name":"FiscalYearStartDa');
        builder.Append('te","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter"');
        builder.Append(',"Datatype":"String"},{"Name":"TotalCurrAmountLCY","Datatype":"Number"},{"Name":"PositiveTotalCurrAm');
        builder.Append('ountLCY","Datatype":"Number"},{"Name":"AppliedAmount","Datatype":"Number"},{"Name":"TotalTaxableInvA');
        builder.Append('mount","Datatype":"Number"},{"Name":"TotalTaxableInvAmtWOContract","Datatype":"Number"},{"Name":"Bat');
        builder.Append('chAmountLCY","Datatype":"Number"},{"Name":"BatchPaymentAmountLCY","Datatype":"Number"},{"Name":"Batc');
        builder.Append('hInvoiceAmountLCY","Datatype":"Number"},{"Name":"PositiveAmtExclGST","Datatype":"Number"},{"Name":"T');
        builder.Append('axableAmountExclApplied","Datatype":"Number"}],"ComputationScript":[{"ActivityType":"COMMENT","Activ');
        builder.Append('ity":{"Comment":"Converted Current Line''s amount and amount (LCY) to positive amount"}},{"ActivityTy');
        builder.Append('pe":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","L');
        builder.Append('HS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}},');
        builder.Append('"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"Var');
        builder.Append('iableName":"PositiveAmount","Expression":"0-Amount","Tokens":[{"TokenName":"Amount","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"A');
        builder.Append('mount"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PositiveAmountLCY","Exp');
        builder.Append('ression":"0-AmountLCY","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]}}],"ElseI');
        builder.Append('f":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"');
        builder.Append('PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Gen. Journal Line","FieldName":"Amount"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariabl');
        builder.Append('eName":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityType":"IFSTATEMENT","Acti');
        builder.Append('vity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}},"RHS":{"Type"');
        builder.Append(':"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableNa');
        builder.Append('me":"PositiveAmtExclGST","Operator":"Minus","LHS":{"Type":"Constant","Value":""},"RHS":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl');
        builder.Append('. GST"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Out');
        builder.Append('putVariableName":"PositiveAmtExclGST","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}}}}]}}},{"ActivityType":"IFS');
        builder.Append('TATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Look');
        builder.Append('up":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}},"RHS":{"Type":"Constant","Value":');
        builder.Append('""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount","Outp');
        builder.Append('utValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}}}},');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmountLCY","OutputValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}}}}]}},{"Activit');
        builder.Append('yType":"COMMENT","Activity":{"Comment":"Created string for current financial year"}},{"ActivityType"');
        builder.Append(':"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date"');
        builder.Append(',"Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounti');
        builder.Append('ng Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax T');
        builder.Append('ype","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Le');
        builder.Append('ss Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterTyp');
        builder.Append('e":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","A');
        builder.Append('ctivity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"');
        builder.Append('First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First"');
        builder.Append(',"TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or ');
        builder.Append('Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. ');
        builder.Append('Journal Line","FieldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"Out');
        builder.Append('putVariableName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":');
        builder.Append('"EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"FiscalYearEndDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}}]}},{"Ac');
        builder.Append('tivityType":"COMMENT","Activity":{"Comment":"Total posted Invoice amount"}},{"ActivityType":"SETVARI');
        builder.Append('ABLE","Activity":{"OutputVariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilt');
        builder.Append('ers":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFi');
        builder.Append('eldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Ass');
        builder.Append('essee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attribu');
        builder.Append('tes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter');
        builder.Append('"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value');
        builder.Append('":"Invoice"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted Payment amount"}},{');
        builder.Append('"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","M');
        builder.Append('ethod":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Ac');
        builder.Append('count No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}');
        builder.Append(',{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","Fil');
        builder.Append('terType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Sum of po');
        builder.Append('sted payment and invoice amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"P');
        builder.Append('revInvAmountLCY","Expression":"PostedInvoiceAmount+PostedPaymentAmount","Tokens":[{"TokenName":"Post');
        builder.Append('edInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Inv');
        builder.Append('oiceAmount"}}},{"TokenName":"PostedPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"PaymentAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"');
        builder.Append('Total posted contract amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Prev');
        builder.Append('iousContractAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS E');
        builder.Append('ntry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFil');
        builder.Append('ter"}}},{"FiterFieldName":"Per Contract","FilterType":"Equals","FilterValue":{"Type":"Constant","Val');
        builder.Append('ue":"true"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Posted amount without contr');
        builder.Append('act amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmtWOContractL');
        builder.Append('CY","Expression":"TotalPostedAmount-PostedContractAmount","Tokens":[{"TokenName":"PostedContractAmou');
        builder.Append('nt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContract');
        builder.Append('Amount"}}},{"TokenName":"TotalPostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Va');
        builder.Append('riable","VariableName":"TotalInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"To');
        builder.Append('tal Payment Amount on current batch"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName');
        builder.Append('":"BatchPaymentAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":');
        builder.Append('"Gen. Journal Line","TableFieldName":"Amount (LCY)","Method":"Sum","TableFilters":[{"FiterFieldName"');
        builder.Append(':"Journal Template Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFiel');
        builder.Append('dName":"Line No.","FilterType":"Not Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Account ');
        builder.Append('Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Gen. Journal Line","FieldName":"Account Type"}}},{"FiterFieldName":"Account No.","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Document Type","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Constant","Value":"Payment"}},{"FiterFieldName":"Journal Batch Name","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Gen. Journal Line","FieldName":"Journal Batch Name"}}},{"FiterFieldName":"TDS Section Code","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comm');
        builder.Append('ent":"Total Invoice Amount on current batch"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVari');
        builder.Append('ableName":"BatchInvoiceAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tab');
        builder.Append('leName":"Gen. Journal Line","TableFieldName":"Amount (LCY)","Method":"Sum","TableFilters":[{"FiterFi');
        builder.Append('eldName":"Journal Template Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"F');
        builder.Append('iterFieldName":"Line No.","FilterType":"Not Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"');
        builder.Append('Account Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"Account Type"}}},{"FiterFieldName":"Account No."');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Document Type","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}},{"FiterFieldName":"Journal Batch Nam');
        builder.Append('e","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"Journal Batch Name"}}},{"FiterFieldName":"TDS Section Code"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":"NUMBERCALCULATION"');
        builder.Append(',"Activity":{"OutputVariableName":"BatchInvoiceAmountLCY","Operator":"Minus","LHS":{"Type":"Constant');
        builder.Append('","Value":"0"},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchInvoice');
        builder.Append('AmountLCY"}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Batch amount including Current');
        builder.Append(' Line Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"BatchAmountLCY","Exp');
        builder.Append('ression":"BatchPaymentAmount+BatchInvoiceAmount+AmountLCY","Tokens":[{"TokenName":"AmountLCY","Token');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}}},{"To');
        builder.Append('kenName":"BatchInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"BatchInvoiceAmountLCY"}}},{"TokenName":"BatchPaymentAmount","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Variable","VariableName":"BatchPaymentAmountLCY"}}}]}},{"ActivityType":"IFST');
        builder.Append('ATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Posting to G/L"}},"RH');
        builder.Append('S":{"Type":"Constant","Value":"true"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVa');
        builder.Append('riableName":"BatchAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"PositiveAmountLCY"}}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"');
        builder.Append('TotalInvAmountLCY","Expression":"PostedAmountLCY+BatchAmountLCY","Tokens":[{"TokenName":"BatchAmount');
        builder.Append('LCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchAmountLCY"');
        builder.Append('}}},{"TokenName":"PostedAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"PrevInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Am');
        builder.Append('ount from LCY to FCY"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":"');
        builder.Append(' ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Currency Code"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityT');
        builder.Append('ype":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmount","Operator":"Multiply By",');
        builder.Append('"LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"Currency Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalIn');
        builder.Append('vAmtWOContract","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"TotalInvAmtWOContractLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}},{"ActivityType":"NUMBERCALCUL');
        builder.Append('ATION","Activity":{"OutputVariableName":"PrevInvAmount","Operator":"Multiply By","LHS":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}');
        builder.Append('}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVaria');
        builder.Append('bleName":"TotalInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"TotalInvAmountLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalI');
        builder.Append('nvAmtWOContract","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"To');
        builder.Append('talInvAmtWOContractLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PrevInvA');
        builder.Append('mount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmoun');
        builder.Append('tLCY"}}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Get applied amount"}},{"ActivityType"');
        builder.Append(':"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"R');
        builder.Append('HS":{"Type":"Constant","Value":"Invoice"}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Cond');
        builder.Append('ition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. Type"}},"RHS":{"Type":"Constant","V');
        builder.Append('alue":"Payment"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. No."}},"RHS":{"Type":"Const');
        builder.Append('ant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedA');
        builder.Append('mount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entr');
        builder.Append('y","TableFieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName":"Document No.');
        builder.Append('","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Gen. Journal Line","FieldName":"Applies-to Doc. No."}}},{"FiterFieldName":"TDS Section Code"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}}]}},{"ActivityType":"IFSTATEMENT","A');
        builder.Append('ctivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to ID"}},"RHS":{"Type":"');
        builder.Append('Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"App');
        builder.Append('liedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger');
        builder.Append(' Entry","TableFieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName":"Applies');
        builder.Append('-to ID","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Gen. Journal Line","FieldName":"Applies-to ID"}}},{"FiterFieldName":"TDS Section Code"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}}]}}]}},{"ActivityType":"IFSTATEMENT"');
        builder.Append(',"Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"AppliedAmount"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"PositiveAmount"}}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activi');
        builder.Append('ty":{"VariableName":"TaxableAmountExclApplied","Expression":"Amount-AppliedAmount","Tokens":[{"Token');
        builder.Append('Name":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Posit');
        builder.Append('iveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"AppliedAmount"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityTyp');
        builder.Append('e":"SETVARIABLE","Activity":{"OutputVariableName":"TaxableAmountExclApplied","OutputValue":{"Type":"');
        builder.Append('Constant","Value":"0"}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount"}');
        builder.Append('},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmount","Expression');
        builder.Append('":"(PostedAmount+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"');
        builder.Append('TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableN');
        builder.Append('ame":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount exc');
        builder.Append('luding posted contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"Tot');
        builder.Append('alTaxableInvAmtWOContract","Expression":"((PostedAmount-ContractAmt)+Amount)-AppliedAmount","Tokens"');
        builder.Append(':[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"ContractAmt","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"Po');
        builder.Append('stedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvA');
        builder.Append('mount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Condition to calculate TDS Amount cons');
        builder.Append('idering Threshold limit"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator');
        builder.Append('":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections",');
        builder.Append('"TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Field');
        builder.Append('Name":"TDS Section Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Activity');
        builder.Append('Type":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than O');
        builder.Append('r Equals To","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"');
        builder.Append('ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Eq');
        builder.Append('uals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"');
        builder.Append('Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Op');
        builder.Append('erator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS');
        builder.Append(' Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDST');
        builder.Append('axableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Total');
        builder.Append('TaxableInvAmtWOContract"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"IFSTATEMENT');
        builder.Append('","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","');
        builder.Append('Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Condition":{"Body":[]},"Bo');
        builder.Append('dy":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue"');
        builder.Append(':{"Type":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","Condition');
        builder.Append('Type":"Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":');
        builder.Append('{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bo');
        builder.Append('dy":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","Var');
        builder.Append('iableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnN');
        builder.Append('ame":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNa');
        builder.Append('me":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"TotalTaxableInvAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIAB');
        builder.Append('LE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":"0"');
        builder.Append('}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":');
        builder.Append('{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETV');
        builder.Append('ARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}}],"ElseIf":{"Condition":{');
        builder.Append('"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount"');
        builder.Append(',"OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclA');
        builder.Append('pplied"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSAmount","Expressi');
        builder.Append('on":"TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"TokenName":"TDSTaxableAmt","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"Acti');
        builder.Append('vityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreSurchargeBaseAmt","OutputValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Surcharge Base Am');
        builder.Append('ount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldN');
        builder.Append('ame":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section ');
        builder.Append('Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Da');
        builder.Append('te","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"AccountingDateFilter"}}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableNa');
        builder.Append('me":"TotalSurchargeBaseAmt","Expression":"PreSurchargeBaseAmt+TDSAmount","Tokens":[{"TokenName":"Pre');
        builder.Append('SurchargeBaseAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Pr');
        builder.Append('eSurchargeBaseAmt"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"TDSAmount"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"');
        builder.Append('Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"A');
        builder.Append('llowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Surcharge Overlook","FilterType":"Eq');
        builder.Append('uals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"');
        builder.Append('Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType');
        builder.Append('":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},');
        builder.Append('"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTyp');
        builder.Append('e":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"');
        builder.Append('RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}');
        builder.Append('}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","Outp');
        builder.Append('utValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalSurchargeBaseAmt"}}');
        builder.Append('}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVaria');
        builder.Append('bleName":"SurchargeBaseAmt","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}],"ElseIf":{"Conditio');
        builder.Append('n":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBase');
        builder.Append('Amt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}');
        builder.Append(']}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVar');
        builder.Append('iableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"TDSAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Opera');
        builder.Append('tor":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TDSTaxabl');
        builder.Append('eAmount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":');
        builder.Append('{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"PositiveAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETV');
        builder.Append('ARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"TDSTaxableAmount"}}}}]}}}],"PostingVariables":[{"Name":"TDSInclu');
        builder.Append('dingSHECess","Datatype":"Number"},{"Name":"TDSIncludingSurcharge","Datatype":"Number"},{"Name":"Invo');
        builder.Append('iceAmt","Datatype":"Number"},{"Name":"PaymentAmt","Datatype":"Number"},{"Name":"TotalAmtLCY","Dataty');
        builder.Append('pe":"Number"},{"Name":"TotalInvAmt","Datatype":"Number"},{"Name":"PerContract","Datatype":"Boolean"}');
        builder.Append(',{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"');
        builder.Append('FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"Acco');
        builder.Append('untingDateFilter","Datatype":"String"},{"Name":"TDSPer","Datatype":"Number"},{"Name":"SurchargePer",');
        builder.Append('"Datatype":"Number"},{"Name":"ECessPer","Datatype":"Number"},{"Name":"SHECessPer","Datatype":"Number');
        builder.Append('"},{"Name":"VendorNo","Datatype":"String"},{"Name":"PositiveAmount","Datatype":"Number"}],"PostingSc');
        builder.Append('ript":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Express');
        builder.Append('ion":"{TDS}+{Surcharge}+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName');
        builder.Append('":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Su');
        builder.Append('rcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","C');
        builder.Append('omponentName":"TDS"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludi');
        builder.Append('ngSurcharge","Expression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"Activ');
        builder.Append('ityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Tha');
        builder.Append('n","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amoun');
        builder.Append('t"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":');
        builder.Append('{"VariableName":"TotalAmtLCY","Expression":"0-{Amt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"A');
        builder.Append('mount (LCY)"}}}]}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PositiveAmo');
        builder.Append('unt","Operator":"Minus","LHS":{"Type":"Constant","Value":""},"RHS":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}}],"ElseIf":{"Conditi');
        builder.Append('on":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalAmtLCY"');
        builder.Append(',"OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"Amount (LCY)"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"P');
        builder.Append('ositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Amount"}}}}]}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVari');
        builder.Append('ableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Table');
        builder.Append('Name":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last","TableFilters":[{"Fit');
        builder.Append('erFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilt');
        builder.Append('ers":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[');
        builder.Append(']}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Co');
        builder.Append('nstant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Con');
        builder.Append('stant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Fiscal');
        builder.Append('YearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounti');
        builder.Append('ng Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Typ');
        builder.Append('e Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableNa');
        builder.Append('me":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldNam');
        builder.Append('e":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Table');
        builder.Append('Name":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterField');
        builder.Append('Name":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"F');
        builder.Append('iterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"F');
        builder.Append('iterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Dat');
        builder.Append('e"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter');
        builder.Append('","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVar');
        builder.Append('iableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}');
        builder.Append('},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{');
        builder.Append('"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tab');
        builder.Append('leName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"First","TableFilters":[{"FiterFieldN');
        builder.Append('ame":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName');
        builder.Append('":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldNa');
        builder.Append('me":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmt","OutputValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Met');
        builder.Append('hod":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Ac');
        builder.Append('count No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}');
        builder.Append(',{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","Fil');
        builder.Append('terType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableN');
        builder.Append('ame":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens":[{"TokenName":"InvoiceAmt","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmt"}}},{"TokenName":');
        builder.Append('"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Payment');
        builder.Append('Amt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression"');
        builder.Append(':"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"TotalAmtLCY"}}},{"TokenName":"{InvAmt}","TokenValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}}}]}},{"ActivityType":"IFSTATEMENT","A');
        builder.Append('ctivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType');
        builder.Append('":"Table","TableName":"Allowed Sections","TableFieldName":"Threshold Overlook","Method":"First","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"Fi');
        builder.Append('terFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Ty');
        builder.Append('pe":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":');
        builder.Append('[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Thr');
        builder.Append('eshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operato');
        builder.Append('r":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Pe');
        builder.Append('r Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","A');
        builder.Append('ctivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"Sour');
        builder.Append('ceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Col');
        builder.Append('umn","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{');
        builder.Append('"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","R');
        builder.Append('ateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVa');
        builder.Append('riableName":"PerContract","OutputValue":{"Type":"Constant","Value":"true"}}}]}}]}}]}}]}}]}},{"Activi');
        builder.Append('tyType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS');
        builder.Append('":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Typ');
        builder.Append('e"}},"RHS":{"Type":"Constant","Value":"Payment"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}}],"ElseIf":{"Condition":{"Body":[]');
        builder.Append('},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","OutputValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNa');
        builder.Append('me":"Amount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ",');
        builder.Append('"ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Value":"Vendor"}}]},"Body":[{"ActivityTyp');
        builder.Append('e":"SETVARIABLE","Activity":{"OutputVariableName":"VendorNo","OutputValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}}],"Else');
        builder.Append('If":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":');
        builder.Append('"VendorNo","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. ');
        builder.Append('Journal Line","FieldName":"Bal. Account No."}}}}]}}}],"Components":[{"ComponentName":"SHE Cess ","Se');
        builder.Append('quence":4,"Formula":{"VariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{SheCessPer}/100","To');
        builder.Append('kens":[{"TokenName":"{SheCessPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component P');
        builder.Append('ercent","ComponentName":"SHE Cess "}}},{"TokenName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ComponentName":"');
        builder.Append('TDS","Sequence":1,"Formula":{"VariableName":"","Expression":"TaxableAmount*TDS/100","Tokens":[{"Toke');
        builder.Append('nName":"TaxableAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"TDSTaxableAmount"}}},{"TokenName":"TDS","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Com');
        builder.Append('ponent Percent","ComponentName":"TDS"}}}]}},{"ComponentName":"TDS Base Amount","Sequence":6,"Formula');
        builder.Append('":{"VariableName":"","Expression":"{TDSBaseAmt}","Tokens":[{"TokenName":"{TDSBaseAmt}","TokenValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSBaseAmt"}}}]}},{"ComponentName');
        builder.Append('":"Surcharge","Sequence":2,"Formula":{"VariableName":"","Expression":"{TDSAmt}*{SurchargePer}/100","');
        builder.Append('Tokens":[{"TokenName":"{SurchargePer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Compone');
        builder.Append('nt Percent","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"SurchargeBaseAmt"}}}]}},{"ComponentName":"eCESS","Seq');
        builder.Append('uence":3,"Formula":{"VariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{EcessPer}/100","Token');
        builder.Append('s":[{"TokenName":"{EcessPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percen');
        builder.Append('t","ComponentName":"eCESS"}}},{"TokenName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},{"ComponentName":"Total TDS');
        builder.Append(' Amount","Sequence":5,"Formula":{"VariableName":"","Expression":"TDS+Surcharge+eCess+SheCess","Token');
        builder.Append('s":[{"TokenName":"eCess","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Component');
        builder.Append('Name":"eCESS"}}},{"TokenName":"SheCess","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Compon');
        builder.Append('ent","ComponentName":"SHE Cess "}}},{"TokenName":"Surcharge","TokenValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"TDS","TokenValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}}],"Condition":{"Body":[{"Operato');
        builder.Append('r":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}},{"Operator":"o');
        builder.Append('r","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal');
        builder.Append(' Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and",');
        builder.Append('"ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName"');
        builder.Append(':"P.A.N. Status","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","');
        builder.Append('FieldName":"Account No."}}}]}},"RHS":{"Type":"Constant","Value":" "}},{"Operator":"and","ConditionTy');
        builder.Append('pe":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"P.A.N.');
        builder.Append(' No.","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"Account No."}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Not Equ');
        builder.Append('als","LHS":{"Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","TableFieldName":"Con');
        builder.Append('cessional Code","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equ');
        builder.Append('als","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Acc');
        builder.Append('ount Type"}},"RHS":{"Type":"Constant","Value":"Vendor"}},{"Operator":"and","ConditionType":"Not Equa');
        builder.Append('ls","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS ');
        builder.Append('Section Code"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LH');
        builder.Append('S":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"Non Resident Pay');
        builder.Append('ments","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Se');
        builder.Append('ction Code"}}}]}},"RHS":{"Type":"Constant","Value":"Yes"}},{"Operator":"and","ConditionType":"Equals');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"System');
        builder.Append('-Created Entry"}},"RHS":{"Type":"Constant","Value":""}}]},"TaxPostingSetup":[{"ComponentName":"Total');
        builder.Append(' TDS Amount","TableName":"TDS Posting Setup","AccountSourceType":"Field","FieldName":"TDS Account","');
        builder.Append('AccountingImpact":"Credit","ReverseCharge":false,"ReverseAccountSourceType":"Field","ReverseChargeFi');
        builder.Append('eldName":"","When":[{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}},"');
        builder.Append('RHS":{"Type":"Constant","Value":""}}]},"ValueType":"Insert Record","InsertRecord":{"TableName":"TDS ');
        builder.Append('Entry","RunTrigger":true,"RecordVariable":"","SubLedgerGrpBy":"Component","InsertRecordFields":[{"Fi');
        builder.Append('eldName":"Vendor No.","Sequence":4,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"VendorNo"}}},{"FieldName":"T.A.N. No.","Sequence":5,"ReverseSign":fal');
        builder.Append('se,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"TAN No."}}},{"');
        builder.Append('FieldName":"Section","Sequence":6,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FieldName":"');
        builder.Append('Assessee Code","Sequence":7,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Ta');
        builder.Append('x Attributes","AttributeName":"Assessee Code"}}},{"FieldName":"TDS Base Amount","Sequence":8,"Revers');
        builder.Append('eSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base ');
        builder.Append('Amount"}}},{"FieldName":"TDS %","Sequence":9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Component Percent","ComponentName":"TDS"}}},{"FieldName":"TDS Amount","Sequence":10,"');
        builder.Append('ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS');
        builder.Append('"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"FieldName":"Surcharge Amount","S');
        builder.Append('equence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Compon');
        builder.Append('entName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSign":false,"Lookup":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"FieldName":"eCess Amo');
        builder.Append('unt","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component",');
        builder.Append('"ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"ReverseSign":false,"Lookup":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Cess "}}},{"FieldName":');
        builder.Append('"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional Code","Sequence":17,"ReverseS');
        builder.Append('ign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Conces');
        builder.Append('sional Code"}}},{"FieldName":"Concessional Form No.","Sequence":38,"ReverseSign":false,"Lookup":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","TableFieldName":"Ce');
        builder.Append('rtificate No.","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"T');
        builder.Append('DS Section Code"}}}]}}},{"FieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":false,"Lookup":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{"FieldName":"N');
        builder.Append('on Resident Payments","Sequence":41,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Table","TableName":"Allowed Sections","TableFieldName":"Non Resident Payments","Method":"First');
        builder.Append('","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}');
        builder.Append('},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}},{"F');
        builder.Append('ieldName":"Nature of Remittance","Sequence":19,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Nature of Remittance"}');
        builder.Append('}},{"FieldName":"Act Applicable","Sequence":37,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Act Applicable"}}},{"F');
        builder.Append('ieldName":"Invoice Amount","Sequence":25,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"Posting Date","Sequence":3,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Posting Date"}}},{"FieldName":"Document Type","Sequence":26,"ReverseS');
        builder.Append('ign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"Document Type"}}},{"FieldName":"Document No.","Sequence":2,"ReverseSign":false');
        builder.Append(',"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"Posted Docu');
        builder.Append('ment No."}}},{"FieldName":"Account Type","Sequence":23,"ReverseSign":false,"Lookup":{"Type":"Constan');
        builder.Append('t","Value":"G/L Account"}},{"FieldName":"Account No.","Sequence":24,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Posting Setup","TableFieldName":"TDS A');
        builder.Append('ccount","Method":"First","TableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","F');
        builder.Append('ieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equ');
        builder.Append('als To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Posting Date"}}}]}}},{"FieldName":"Party Type","Sequence":45,"ReverseSign":f');
        builder.Append('alse,"Lookup":{"Type":"Constant","Value":"Vendor"}},{"FieldName":"Source Code","Sequence":28,"Revers');
        builder.Append('eSign":false,"Lookup":{"Type":"Constant","Value":"PURCHASES"}},{"FieldName":"TDS Amount Including Su');
        builder.Append('rcharge","Sequence":22,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"TDSIncludingSurcharge"}}},{"FieldName":"Bal. TDS Including SHE CESS","Sequence":2');
        builder.Append('9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TD');
        builder.Append('SIncludingSHECess"}}},{"FieldName":"Remaining Surcharge Amount","Sequence":31,"ReverseSign":false,"L');
        builder.Append('ookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldNam');
        builder.Append('e":"Remaining TDS Amount","Sequence":47,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Component","ComponentName":"TDS"}}},{"FieldName":"TDS Line Amount","Sequence":48,"ReverseS');
        builder.Append('ign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"Amount"}}},{"FieldName":"Total TDS Including SHE CESS","Sequence":21,"ReverseS');
        builder.Append('ign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingS');
        builder.Append('HECess"}}},{"FieldName":"Per Contract","Sequence":43,"ReverseSign":false,"Lookup":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"PerContract"}}},{"FieldName":"User ID","Sequence":3');
        builder.Append('0,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Database","DatabaseVariableN');
        builder.Append('ame":"UserId"}}},{"FieldName":"Transaction No.","Sequence":42,"ReverseSign":false,"Lookup":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry Transaction No."}}},');
        builder.Append('{"FieldName":"Original TDS Base Amount","Sequence":27,"ReverseSign":false,"Lookup":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"Payment Amount');
        builder.Append('","Sequence":44,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Var');
        builder.Append('iableName":"PaymentAmount"}}},{"FieldName":"Currency Code","Sequence":39,"ReverseSign":false,"Lookup');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNam');
        builder.Append('e":"Currency Code"}}},{"FieldName":"Currency Factor","Sequence":40,"ReverseSign":false,"Lookup":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Cu');
        builder.Append('rrency Factor"}}},{"FieldName":"Surcharge Base Amount","Sequence":46,"ReverseSign":false,"Lookup":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}},{"FieldName":"G/L Entry N');
        builder.Append('o.","Sequence":1,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field');
        builder.Append('","PostingVariableName":"G/L Entry No."}}}]}}]}],"AttachedEvents":[{"EventName":"CallTaxEngineOnGenJ');
        builder.Append('nlLine","Enabled":true,"Sequence":0},{"EventName":"OnAfterGenJnlLineUpdated","Enabled":true,"Sequenc');
        builder.Append('e":0}]},{"Description":"Calculation of Tax Deduction at Source through General Journal for Non-Resid');
        builder.Append('ents Vendor where  PAN No. is specified without Concessional Codes.\n","TaxType":"TDS","Code":"","Ta');
        builder.Append('xEntity":"Gen. Journal Line","ParentUseCase":"Calculation of Tax Deduction at Source through General');
        builder.Append(' Journal for Non-Residents Vendor.\n","PresentationOrder":283,"Indent":1,"PostingTableName":"TDS Pos');
        builder.Append('ting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNa');
        builder.Append('me":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Posting Date"}}}],"Attributes":[{"Name":"PAN No.","When":[{"ValueType":"Relation",');
        builder.Append('"Relation":{"TableName":"Vendor","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","F');
        builder.Append('ieldName":"Account No."}}}]}}]}],"RateColumns":[],"ComputationVariables":[{"Name":"TotalAmount","Dat');
        builder.Append('atype":"Number"},{"Name":"TDSTaxableAmount","Datatype":"Number"},{"Name":"SurchargeBaseAmt","Datatyp');
        builder.Append('e":"Number"},{"Name":"TDSAmount","Datatype":"Number"},{"Name":"PrevInvAmountLCY","Datatype":"Number"');
        builder.Append('},{"Name":"PrevInvAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":');
        builder.Append('"PaymentAmount","Datatype":"Number"},{"Name":"PreviousContractAmount","Datatype":"Number"},{"Name":"');
        builder.Append('TotalInvAmountLCY","Datatype":"Number"},{"Name":"TotalInvAmount","Datatype":"Number"},{"Name":"Total');
        builder.Append('InvAmtWOContractLCY","Datatype":"Number"},{"Name":"TotalInvAmtWOContract","Datatype":"Number"},{"Nam');
        builder.Append('e":"PreSurchargeBaseAmt","Datatype":"Number"},{"Name":"TotalSurchargeBaseAmt","Datatype":"Number"},{');
        builder.Append('"Name":"PositiveAmount","Datatype":"Number"},{"Name":"PositiveAmountLCY","Datatype":"Number"},{"Name');
        builder.Append('":"TDSBaseAmt","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"Fiscal');
        builder.Append('YearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TotalCu');
        builder.Append('rrAmountLCY","Datatype":"Number"},{"Name":"PositiveTotalCurrAmountLCY","Datatype":"Number"},{"Name":');
        builder.Append('"AppliedAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmount","Datatype":"Number"},{"Name":"T');
        builder.Append('otalTaxableInvAmtWOContract","Datatype":"Number"},{"Name":"BatchAmountLCY","Datatype":"Number"},{"Na');
        builder.Append('me":"BatchPaymentAmountLCY","Datatype":"Number"},{"Name":"BatchInvoiceAmountLCY","Datatype":"Number"');
        builder.Append('},{"Name":"PositiveAmtExclGST","Datatype":"Number"},{"Name":"TaxableAmountExclApplied","Datatype":"N');
        builder.Append('umber"}],"ComputationScript":[{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Current Lin');
        builder.Append('e''s amount and amount (LCY) to positive amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Conditi');
        builder.Append('on":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"Amount"}},"RHS":{"Type":"Constant","Value":""}}]');
        builder.Append('},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PositiveAmount","Expressio');
        builder.Append('n":"0-Amount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}]}},{"ActivityType":"NUMERICE');
        builder.Append('XPRESSION","Activity":{"VariableName":"PositiveAmountLCY","Expression":"0-AmountLCY","Tokens":[{"Tok');
        builder.Append('enName":"AmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"');
        builder.Append('ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount","OutputValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount');
        builder.Append('"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmountLCY","OutputValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNa');
        builder.Append('me":"Amount (LCY)"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator');
        builder.Append('":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"Amount Excl. GST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"A');
        builder.Append('ctivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PositiveAmtExclGST","Operator":"M');
        builder.Append('inus","LHS":{"Type":"Constant","Value":""},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}}}}],"ElseIf":{"Condition":{"Bo');
        builder.Append('dy":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmtExclGST",');
        builder.Append('"OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"Amount Excl. GST"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bo');
        builder.Append('dy":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"PositiveAmtExclGST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVAR');
        builder.Append('IABLE","Activity":{"OutputVariableName":"PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"PositiveAmtExclGST"}}}},{"ActivityType":"SETVARIABLE","Activit');
        builder.Append('y":{"OutputVariableName":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"PositiveAmtExclGST"}}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment"');
        builder.Append(':"Created string for current financial year"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVari');
        builder.Append('ableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Table');
        builder.Append('Name":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last","TableFilters":[{"Fit');
        builder.Append('erFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilt');
        builder.Append('ers":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[');
        builder.Append(']}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Co');
        builder.Append('nstant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Con');
        builder.Append('stant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Fiscal');
        builder.Append('YearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounti');
        builder.Append('ng Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Typ');
        builder.Append('e Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableNa');
        builder.Append('me":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldNam');
        builder.Append('e":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Table');
        builder.Append('Name":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterField');
        builder.Append('Name":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"F');
        builder.Append('iterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"F');
        builder.Append('iterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Dat');
        builder.Append('e"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter');
        builder.Append('","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVar');
        builder.Append('iableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}},');
        builder.Append('{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"FiscalYearStartDate"}}}]}},{"ActivityType":"COMMENT","Activity":{"Com');
        builder.Append('ment":"Total posted Invoice amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName"');
        builder.Append(':"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entr');
        builder.Append('y","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal ');
        builder.Append('Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}');
        builder.Append('},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type"');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"CO');
        builder.Append('MMENT","Activity":{"Comment":"Total posted Payment amount"}},{"ActivityType":"SETVARIABLE","Activity');
        builder.Append('":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table');
        builder.Append('","TableName":"TDS Entry","TableFieldName":"Payment Amount","Method":"Sum","TableFilters":[{"FiterFi');
        builder.Append('eldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Secti');
        builder.Append('on","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Attribute');
        builder.Append('Name":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFie');
        builder.Append('ldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}');
        builder.Append('}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Sum of posted payment and invoice amount"}},{"A');
        builder.Append('ctivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PrevInvAmountLCY","Expression":"PostedI');
        builder.Append('nvoiceAmount+PostedPaymentAmount","Tokens":[{"TokenName":"PostedInvoiceAmount","TokenValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmount"}}},{"TokenName":"PostedPay');
        builder.Append('mentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentA');
        builder.Append('mount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted contract amount"}},{"Acti');
        builder.Append('vityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreviousContractAmount","OutputValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount');
        builder.Append('","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code');
        builder.Append('"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Per Contrac');
        builder.Append('t","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}}}},{"ActivityType":"COM');
        builder.Append('MENT","Activity":{"Comment":"Total Posted amount without contract amount"}},{"ActivityType":"NUMERIC');
        builder.Append('EXPRESSION","Activity":{"VariableName":"TotalInvAmtWOContractLCY","Expression":"TotalPostedAmount-Po');
        builder.Append('stedContractAmount","Tokens":[{"TokenName":"PostedContractAmount","TokenValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"TotalPostedAm');
        builder.Append('ount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmount');
        builder.Append('LCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Payment Amount on current batch"}}');
        builder.Append(',{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchPaymentAmountLCY","OutputValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Gen. Journal Line","TableFieldName":"');
        builder.Append('Amount (LCY)","Method":"Sum","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jo');
        builder.Append('urnal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Not Eq');
        builder.Append('uals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"Line No."}}},{"FiterFieldName":"Account Type","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldN');
        builder.Append('ame":"Account Type"}}},{"FiterFieldName":"Account No.","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account');
        builder.Append(' No."}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","V');
        builder.Append('alue":"Payment"}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journ');
        builder.Append('al Batch Name"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Sec');
        builder.Append('tion Code"}}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Invoice Amount on current ');
        builder.Append('batch"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchInvoiceAmountLCY","Out');
        builder.Append('putValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Gen. Journal Line","TableFiel');
        builder.Append('dName":"Amount (LCY)","Method":"Sum","TableFilters":[{"FiterFieldName":"Journal Template Name","Filt');
        builder.Append('erType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":');
        builder.Append('"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType"');
        builder.Append(':"Not Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Ge');
        builder.Append('n. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Account Type","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line"');
        builder.Append(',"FieldName":"Account Type"}}},{"FiterFieldName":"Account No.","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"Account No."}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Cons');
        builder.Append('tant","Value":"Invoice"}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName');
        builder.Append('":"Journal Batch Name"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"TDS Section Code"}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"Bat');
        builder.Append('chInvoiceAmountLCY","Operator":"Minus","LHS":{"Type":"Constant","Value":"0"},"RHS":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Variable","VariableName":"BatchInvoiceAmountLCY"}}}},{"ActivityType":"COMMEN');
        builder.Append('T","Activity":{"Comment":"Total Batch amount including Current Line Amount"}},{"ActivityType":"NUMER');
        builder.Append('ICEXPRESSION","Activity":{"VariableName":"BatchAmountLCY","Expression":"BatchPaymentAmount+BatchInvo');
        builder.Append('iceAmount+AmountLCY","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"PositiveAmountLCY"}}},{"TokenName":"BatchInvoiceAmount","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchInvoiceAmountLCY"}}},{"');
        builder.Append('TokenName":"BatchPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Var');
        builder.Append('iableName":"BatchPaymentAmountLCY"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bod');
        builder.Append('y":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"TDS Posting to G/L"}},"RHS":{"Type":"Constant","Value":"true"}}');
        builder.Append(']},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchAmountLCY","OutputVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}}}}]}},{"');
        builder.Append('ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmountLCY","Expression":"Poste');
        builder.Append('dAmountLCY+BatchAmountLCY","Tokens":[{"TokenName":"BatchAmountLCY","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Variable","VariableName":"BatchAmountLCY"}}},{"TokenName":"PostedAmountLCY","To');
        builder.Append('kenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}]}}');
        builder.Append(',{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Amount from LCY to FCY"}},{"ActivityType');
        builder.Append('":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":');
        builder.Append('{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Code"');
        builder.Append('}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"');
        builder.Append('OutputVariableName":"TotalInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}},{"ActivityType"');
        builder.Append(':"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmtWOContract","Operator":"Multiply B');
        builder.Append('y","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY');
        builder.Append('"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","');
        builder.Append('FieldName":"Currency Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName');
        builder.Append('":"PrevInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}}],"ElseIf":{"Condition":{"Body":[]},');
        builder.Append('"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmount","OutputValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}},{"Activi');
        builder.Append('tyType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmtWOContract","OutputValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}}}},{"Activity');
        builder.Append('Type":"SETVARIABLE","Activity":{"OutputVariableName":"PrevInvAmount","OutputValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT');
        builder.Append('","Activity":{"Comment":"Get applied amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition"');
        builder.Append(':{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","T');
        builder.Append('ableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoic');
        builder.Append('e"}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condi');
        builder.Append('tionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","F');
        builder.Append('ieldName":"Applies-to Doc. Type"}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","C');
        builder.Append('onditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal ');
        builder.Append('Line","FieldName":"Applies-to Doc. No."}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Activity');
        builder.Append('Type":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply",');
        builder.Append('"Method":"Sum","TableFilters":[{"FiterFieldName":"Document No.","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"Applies-to Doc. No."}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"TDS Section Code"}}}]}}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Opera');
        builder.Append('tor":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Ge');
        builder.Append('n. Journal Line","FieldName":"Applies-to ID"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Act');
        builder.Append('ivityType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Ap');
        builder.Append('ply","Method":"Sum","TableFilters":[{"FiterFieldName":"Applies-to ID","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Applies-to ID"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"TDS Section Code"}}}]}}}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Op');
        builder.Append('erator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('AppliedAmount"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAm');
        builder.Append('ount"}}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TaxableAmountExcl');
        builder.Append('Applied","Expression":"Amount-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmo');
        builder.Append('unt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}');
        builder.Append('}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVa');
        builder.Append('riableName":"TaxableAmountExclApplied","OutputValue":{"Type":"Constant","Value":"0"}}}]}}},{"Activit');
        builder.Append('yType":"COMMENT","Activity":{"Comment":"Total Taxable Amount"}},{"ActivityType":"NUMERICEXPRESSION",');
        builder.Append('"Activity":{"VariableName":"TotalTaxableInvAmount","Expression":"(PostedAmount+Amount)-AppliedAmount');
        builder.Append('","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"PostedAmount","TokenValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityT');
        builder.Append('ype":"COMMENT","Activity":{"Comment":"Total Taxable Amount excluding posted contract amount"}},{"Act');
        builder.Append('ivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmtWOContract","Expression');
        builder.Append('":"((PostedAmount-ContractAmt)+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"A');
        builder.Append('ppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Applie');
        builder.Append('dAmount"}}},{"TokenName":"ContractAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"PreviousContractAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT"');
        builder.Append(',"Activity":{"Comment":"Condition to calculate TDS Amount considering Threshold limit"}},{"ActivityT');
        builder.Append('ype":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{');
        builder.Append('"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","');
        builder.Append('TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{');
        builder.Append('"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFie');
        builder.Append('ldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}');
        builder.Append(']}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condi');
        builder.Append('tion":{"Body":[{"Operator":" ","ConditionType":"Is Less Than Or Equals To","LHS":{"Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('olumn","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity"');
        builder.Append(':{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"C');
        builder.Append('olumn","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Act');
        builder.Append('ivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greate');
        builder.Append('r Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"Acti');
        builder.Append('vityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmtWOContract"}}}}],"ElseIf"');
        builder.Append(':{"Condition":{"Body":[]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"O');
        builder.Append('perator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"PositiveAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Pe');
        builder.Append('r Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTa');
        builder.Append('xableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Taxabl');
        builder.Append('eAmountExclApplied"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Ac');
        builder.Append('tivity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":""}}}]}}}]');
        builder.Append('}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"Sourc');
        builder.Append('eType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Bod');
        builder.Append('y":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"');
        builder.Append('Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body');
        builder.Append('":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmount"}}}}],"ElseI');
        builder.Append('f":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"');
        builder.Append('TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}]}}}],"ElseIf":{"Condition":{"B');
        builder.Append('ody":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnN');
        builder.Append('ame":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNa');
        builder.Append('me":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"TaxableAmountExclApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SE');
        builder.Append('TVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}},{"ActivityType":"NUMER');
        builder.Append('ICEXPRESSION","Activity":{"VariableName":"TDSAmount","Expression":"TDSTaxableAmt*TDSPer/100","Tokens');
        builder.Append('":[{"TokenName":"TDSPer","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","C');
        builder.Append('omponentName":"TDS"}}},{"TokenName":"TDSTaxableAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"O');
        builder.Append('utputVariableName":"PreSurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Tabl');
        builder.Append('e","TableName":"TDS Entry","TableFieldName":"Surcharge Base Amount","Method":"Sum","TableFilters":[{');
        builder.Append('"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName');
        builder.Append('":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee C');
        builder.Append('ode","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","A');
        builder.Append('ttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}}]}}');
        builder.Append('}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalSurchargeBaseAmt","Expressio');
        builder.Append('n":"PreSurchargeBaseAmt+TDSAmount","Tokens":[{"TokenName":"PreSurchargeBaseAmt","TokenValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreSurchargeBaseAmt"}}},{"TokenName":"TD');
        builder.Append('SAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}');
        builder.Append('}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType"');
        builder.Append(':"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","');
        builder.Append('Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Co');
        builder.Append('de"}}},{"FiterFieldName":"Surcharge Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant"');
        builder.Append(',"Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","');
        builder.Append('Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT",');
        builder.Append('"Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIA');
        builder.Append('BLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Variable","VariableName":"TotalSurchargeBaseAmt"}}}}],"ElseIf":{"Condition":{"Body":[]},');
        builder.Append('"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputVal');
        builder.Append('ue":{"Type":"Constant","Value":"0"}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType"');
        builder.Append(':"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]');
        builder.Append('},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}},{"Activi');
        builder.Append('tyType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS');
        builder.Append('":{"Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}},"RHS":{"Type":"Constant","V');
        builder.Append('alue":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","Ou');
        builder.Append('tputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}}],"');
        builder.Append('ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNa');
        builder.Append('me":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TD');
        builder.Append('STaxableAmount"}}}}]}}}],"PostingVariables":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"Na');
        builder.Append('me":"TDSIncludingSurcharge","Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":"');
        builder.Append('PaymentAmt","Datatype":"Number"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","D');
        builder.Append('atatype":"Number"},{"Name":"PerContract","Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"N');
        builder.Append('umber"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"');
        builder.Append('},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"}');
        builder.Append(',{"Name":"TDSPer","Datatype":"Number"},{"Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPer');
        builder.Append('","Datatype":"Number"},{"Name":"SHECessPer","Datatype":"Number"},{"Name":"VendorNo","Datatype":"Stri');
        builder.Append('ng"}],"PostingScript":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingS');
        builder.Append('HECess","Expression":"{TDS}+{Surcharge}+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"{S');
        builder.Append('HECess}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess ');
        builder.Append('"}}},{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Co');
        builder.Append('mponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Component","ComponentName":"TDS"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableN');
        builder.Append('ame":"TDSIncludingSurcharge","Expression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","');
        builder.Append('TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"Tok');
        builder.Append('enName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TD');
        builder.Append('S"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTy');
        builder.Append('pe":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","F');
        builder.Append('ieldName":"Amount (LCY)"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICE');
        builder.Append('XPRESSION","Activity":{"VariableName":"TotalAmtLCY","Expression":"0-{Amt}","Tokens":[{"TokenName":"{');
        builder.Append('Amt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"Amount (LCY)"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":');
        builder.Append('"SETVARIABLE","Activity":{"OutputVariableName":"TotalAmtLCY","OutputValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}}]}}},{');
        builder.Append('"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"');
        builder.Append('Starting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equal');
        builder.Append('s","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldN');
        builder.Append('ame":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFie');
        builder.Append('ldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","Filt');
        builder.Append('erType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Y');
        builder.Append('ear","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Clos');
        builder.Append('ed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"S');
        builder.Append('ETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Metho');
        builder.Append('d":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Peri');
        builder.Append('od","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","M');
        builder.Append('ethod":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Gr');
        builder.Append('eater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","A');
        builder.Append('ctivity":{"OutputVariableName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":');
        builder.Append('[{"TokenName":"EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"FiscalYearStartDate"}}},{"TokenName":"StartDate","FormatString":"","Lo');
        builder.Append('okupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDa');
        builder.Append('te"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Am');
        builder.Append('ount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Sectio');
        builder.Append('n Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting ');
        builder.Append('Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"Outpu');
        builder.Append('tVariableName":"PaymentAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName');
        builder.Append('":"TDS Entry","TableFieldName":"Payment Amount","Method":"First","TableFilters":[{"FiterFieldName":"');
        builder.Append('Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Rec');
        builder.Append('ord","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Ass');
        builder.Append('essee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"D');
        builder.Append('ocument Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"Acti');
        builder.Append('vityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+Paym');
        builder.Append('entAmt","Tokens":[{"TokenName":"InvoiceAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Va');
        builder.Append('riable","VariableName":"InvoiceAmt"}}},{"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Variable","VariableName":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","');
        builder.Append('Activity":{"VariableName":"TotalInvAmt","Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}"');
        builder.Append(',"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}}},{"T');
        builder.Append('okenName":"{InvAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":');
        builder.Append('"TotalInvAmt"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","');
        builder.Append('ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableF');
        builder.Append('ieldName":"Threshold Overlook","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"');
        builder.Append('Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Activity');
        builder.Append('Type":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than",');
        builder.Append('"LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFS');
        builder.Append('TATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{');
        builder.Append('"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Va');
        builder.Append('lue":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","');
        builder.Append('ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}');
        builder.Append('},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]');
        builder.Append('},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionT');
        builder.Append('ype":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":');
        builder.Append('[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PerContract","OutputValue":{"Type":');
        builder.Append('"Constant","Value":"true"}}}]}}]}}]}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"');
        builder.Append('Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Payment"}');
        builder.Append('}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmount","OutputVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Field');
        builder.Append('Name":"Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activit');
        builder.Append('y":{"OutputVariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}}]}}},{"ActivityType":"IFSTATEMEN');
        builder.Append('T","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"');
        builder.Append('Constant","Value":"Vendor"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName');
        builder.Append('":"VendorNo","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"Account No."}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityT');
        builder.Append('ype":"SETVARIABLE","Activity":{"OutputVariableName":"VendorNo","OutputValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Bal. Account No."}}}}');
        builder.Append(']}}}],"Components":[{"ComponentName":"TDS","Sequence":1,"Formula":{"VariableName":"","Expression":"T');
        builder.Append('DSTaxableAmount*TDS/100","Tokens":[{"TokenName":"TDS","TokenValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Component Percent","ComponentName":"TDS"}}},{"TokenName":"TDSTaxableAmount","TokenValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ComponentN');
        builder.Append('ame":"SHE Cess ","Sequence":4,"Formula":{"VariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{');
        builder.Append('SheCessPer}/100","Tokens":[{"TokenName":"{SheCessPer}","TokenValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Component Percent","ComponentName":"SHE Cess "}}},{"TokenName":"{SurchargeAmt}","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{');
        builder.Append('TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}');
        builder.Append('},{"ComponentName":"eCESS","Sequence":3,"Formula":{"VariableName":"","Expression":"({TDSAmt}+{Surcha');
        builder.Append('rgeAmt})*{EcessPer}/100","Tokens":[{"TokenName":"{EcessPer}","TokenValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"TokenName":"{SurchargeAmt}","TokenVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":');
        builder.Append('"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}');
        builder.Append(']}},{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Expression":"TDS+');
        builder.Append('Surcharge+eCess+SheCess","Tokens":[{"TokenName":"eCess","TokenValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"SheCess","TokenValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"Surcharge","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName"');
        builder.Append(':"TDS","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}}]}},');
        builder.Append('{"ComponentName":"TDS Base Amount","Sequence":6,"Formula":{"VariableName":"","Expression":"{TDSBaseA');
        builder.Append('mt}","Tokens":[{"TokenName":"{TDSBaseAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"TDSBaseAmt"}}}]}},{"ComponentName":"Surcharge","Sequence":2,"Formula":{"Varia');
        builder.Append('bleName":"","Expression":"{TDSAmt}*{SurchargePer}/100","Tokens":[{"TokenName":"{SurchargePer}","Toke');
        builder.Append('nValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{');
        builder.Append('"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"SurchargeBaseAmt"}}}]}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lo');
        builder.Append('okup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"');
        builder.Append('RHS":{"Type":"Constant","Value":"Invoice"}},{"Operator":"or","ConditionType":"Equals","LHS":{"Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS"');
        builder.Append(':{"Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{');
        builder.Append('"SourceType":"Table","TableName":"Vendor","TableFieldName":"P.A.N. Status","Method":"First","TableFi');
        builder.Append('lters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}]}},"RHS":{"Typ');
        builder.Append('e":"Constant","Value":" "}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceT');
        builder.Append('ype":"Table","TableName":"Vendor","TableFieldName":"P.A.N. No.","Method":"First","TableFilters":[{"F');
        builder.Append('iterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}]}},"RHS":{"Type":"Constan');
        builder.Append('t","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","Ta');
        builder.Append('bleName":"TDS Concessional Code","TableFieldName":"Concessional Code","Method":"First","TableFilters');
        builder.Append('":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterField');
        builder.Append('Name":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constan');
        builder.Append('t","Value":""}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant",');
        builder.Append('"Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Value":"Ve');
        builder.Append('ndor"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName"');
        builder.Append(':"Allowed Sections","TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[{"Fite');
        builder.Append('rFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS');
        builder.Append(' Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Va');
        builder.Append('lue":"Yes"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Gen. Journal Line","FieldName":"Work Tax Nature Of Deduction"}},"RHS":{"Type":"Const');
        builder.Append('ant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Gen. Journal Line","FieldName":"System-Created Entry"}},"RHS":{"Type":"Constant');
        builder.Append('","Value":""}}]},"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","TableName":"TDS Posting Set');
        builder.Append('up","AccountSourceType":"Field","FieldName":"TDS Account","AccountingImpact":"Credit","ReverseCharge');
        builder.Append('":false,"ReverseAccountSourceType":"Field","ReverseChargeFieldName":"","When":[{"Condition":{"Body":');
        builder.Append('[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Gen. Journal Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}}]},"V');
        builder.Append('alueType":"Insert Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger":true,"RecordVariable"');
        builder.Append(':"","SubLedgerGrpBy":"Component","InsertRecordFields":[{"FieldName":"Vendor No.","Sequence":4,"Rever');
        builder.Append('seSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"VendorNo"}');
        builder.Append('}},{"FieldName":"T.A.N. No.","Sequence":5,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Tax Attributes","AttributeName":"TAN No."}}},{"FieldName":"Section","Sequence":6,"Revers');
        builder.Append('eSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"TDS Section Code"}}},{"FieldName":"Assessee Code","Sequence":7,"ReverseSign"');
        builder.Append(':false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee C');
        builder.Append('ode"}}},{"FieldName":"TDS Base Amount","Sequence":8,"ReverseSign":false,"Lookup":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"TDS %","Sequence');
        builder.Append('":9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('"}}},{"FieldName":"TDS Amount","Sequence":10,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Component","ComponentName":"TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"Reverse');
        builder.Append('Sign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":""}}},{"Field');
        builder.Append('Name":"Surcharge Amount","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSign');
        builder.Append('":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":""}}},{"FieldName');
        builder.Append('":"eCess Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Component","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"ReverseSign":false,"');
        builder.Append('Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":""}}},{"FieldName":"SHE Ce');
        builder.Append('ss Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Compo');
        builder.Append('nent","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional Code","Sequence":17,"ReverseSign":fa');
        builder.Append('lse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Concessional ');
        builder.Append('Code"}}},{"FieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":false,"Lookup":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{"FieldName":"Non Resident Pay');
        builder.Append('ments","Sequence":41,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","T');
        builder.Append('ableName":"Allowed Sections","TableFieldName":"Non Resident Payments","Method":"First","TableFilters');
        builder.Append('":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldN');
        builder.Append('ame":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}},{"FieldName":"Natu');
        builder.Append('re of Remittance","Sequence":19,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Gen. Journal Line","FieldName":"Nature of Remittance"}}},{"FieldName"');
        builder.Append(':"Act Applicable","Sequence":37,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Current Record","TableName":"Gen. Journal Line","FieldName":"Act Applicable"}}},{"FieldName":"Work');
        builder.Append(' Tax %","Sequence":32,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Componen');
        builder.Append('t Percent","ComponentName":"Work Tax"}}},{"FieldName":"Work Tax Amount","Sequence":34,"ReverseSign":');
        builder.Append('false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Work Tax"}}},{"F');
        builder.Append('ieldName":"Work Tax Base Amount","Sequence":33,"ReverseSign":false,"Lookup":{"Type":"Constant","Valu');
        builder.Append('e":"0.00"}},{"FieldName":"Invoice Amount","Sequence":25,"ReverseSign":false,"Lookup":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"Posting Date');
        builder.Append('","Sequence":3,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FieldName":"Document Type","Sequenc');
        builder.Append('e":26,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"Document Type"}}},{"FieldName":"Document No.","Sequence":2,"Rev');
        builder.Append('erseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableNam');
        builder.Append('e":"Posted Document No."}}},{"FieldName":"Account Type","Sequence":23,"ReverseSign":false,"Lookup":{');
        builder.Append('"Type":"Constant","Value":"G/L Account"}},{"FieldName":"Account No.","Sequence":24,"ReverseSign":fal');
        builder.Append('se,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Posting Setup","TableFi');
        builder.Append('eldName":"TDS Account","Method":"First","TableFilters":[{"FiterFieldName":"TDS Section","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. J');
        builder.Append('ournal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is L');
        builder.Append('ess Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}},{"FieldName":"Party Type","Sequence":45,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"Vendor"}},{"FieldName":"Country Code","Sequ');
        builder.Append('ence":38,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Attr');
        builder.Append('ibuteName":"Country Code"}}},{"FieldName":"Source Code","Sequence":28,"ReverseSign":false,"Lookup":{');
        builder.Append('"Type":"Constant","Value":"PURCHASES"}},{"FieldName":"TDS Amount Including Surcharge","Sequence":22,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSI');
        builder.Append('ncludingSurcharge"}}},{"FieldName":"Bal. TDS Including SHE CESS","Sequence":29,"ReverseSign":false,"');
        builder.Append('Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{');
        builder.Append('"FieldName":"Remaining Surcharge Amount","Sequence":31,"ReverseSign":false,"Lookup":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":"Remaining TDS Amoun');
        builder.Append('t","Sequence":47,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","C');
        builder.Append('omponentName":"TDS"}}},{"FieldName":"TDS Line Amount","Sequence":48,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"A');
        builder.Append('mount"}}},{"FieldName":"Total TDS Including SHE CESS","Sequence":21,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSIncludingSHECess"}}},{"FieldName"');
        builder.Append(':"Per Contract","Sequence":43,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"PerContract"}}},{"FieldName":"User ID","Sequence":30,"ReverseSign":false,"');
        builder.Append('Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Database","DatabaseVariableName":"UserId"}}},{"Fiel');
        builder.Append('dName":"Transaction No.","Sequence":42,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Posting Field","PostingVariableName":"G/L Entry Transaction No."}}},{"FieldName":"Original ');
        builder.Append('TDS Base Amount","Sequence":27,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"Payment Amount","Sequence":44,"Revers');
        builder.Append('eSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmou');
        builder.Append('nt"}}},{"FieldName":"Work Tax Nature Of Deduction","Sequence":36,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Work');
        builder.Append(' Tax Nature Of Deduction"}}},{"FieldName":"Currency Code","Sequence":39,"ReverseSign":false,"Lookup"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName');
        builder.Append('":"Currency Code"}}},{"FieldName":"Currency Factor","Sequence":40,"ReverseSign":false,"Lookup":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Cur');
        builder.Append('rency Factor"}}},{"FieldName":"Surcharge Base Amount","Sequence":46,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS"}}},{"FieldName":"G/L Entry No');
        builder.Append('.","Sequence":1,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field"');
        builder.Append(',"PostingVariableName":"G/L Entry No."}}}]}}]}],"AttachedEvents":[{"EventName":"CallTaxEngineOnGenJn');
        builder.Append('lLine","Enabled":true,"Sequence":0},{"EventName":"OnAfterGenJnlLineUpdated","Enabled":true,"Sequence');
        builder.Append('":0}]},{"Description":"Calculation of Tax Deduction at Source through General Journal for Non-Reside');
        builder.Append('nts Vendor where no PAN No. is specified along with Concessional Codes.\n","TaxType":"TDS","Code":""');
        builder.Append(',"TaxEntity":"Gen. Journal Line","ParentUseCase":"Calculation of Tax Deduction at Source through Gen');
        builder.Append('eral Journal for Non-Residents Vendor.\n","PresentationOrder":284,"Indent":1,"PostingTableName":"TDS');
        builder.Append(' Posting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","Filter');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equal');
        builder.Append('s To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"Posting Date"}}}],"Attributes":[{"Name":"Concessional Code","When":[{"ValueTyp');
        builder.Append('e":"Relation","Relation":{"TableName":"TDS Concessional Code","TableFilters":[{"FiterFieldName":"Ven');
        builder.Append('dor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record');
        builder.Append('","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"TDS Section Code"}}}]}}]}],"RateColumns":[],"ComputationVariables":[{"N');
        builder.Append('ame":"TotalAmount","Datatype":"Number"},{"Name":"TDSTaxableAmount","Datatype":"Number"},{"Name":"Sur');
        builder.Append('chargeBaseAmt","Datatype":"Number"},{"Name":"TDSAmount","Datatype":"Number"},{"Name":"PrevInvAmountL');
        builder.Append('CY","Datatype":"Number"},{"Name":"PrevInvAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Datat');
        builder.Append('ype":"Number"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"PreviousContractAmount","Dataty');
        builder.Append('pe":"Number"},{"Name":"TotalInvAmountLCY","Datatype":"Number"},{"Name":"TotalInvAmount","Datatype":"');
        builder.Append('Number"},{"Name":"TotalInvAmtWOContractLCY","Datatype":"Number"},{"Name":"TotalInvAmtWOContract","Da');
        builder.Append('tatype":"Number"},{"Name":"PreSurchargeBaseAmt","Datatype":"Number"},{"Name":"TotalSurchargeBaseAmt"');
        builder.Append(',"Datatype":"Number"},{"Name":"PositiveAmount","Datatype":"Number"},{"Name":"PositiveAmountLCY","Dat');
        builder.Append('atype":"Number"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":');
        builder.Append('"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"St');
        builder.Append('ring"},{"Name":"TotalCurrAmountLCY","Datatype":"Number"},{"Name":"PositiveTotalCurrAmountLCY","Datat');
        builder.Append('ype":"Number"},{"Name":"AppliedAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmount","Datatyp');
        builder.Append('e":"Number"},{"Name":"TotalTaxableInvAmtWOContract","Datatype":"Number"},{"Name":"BatchAmountLCY","D');
        builder.Append('atatype":"Number"},{"Name":"BatchPaymentAmountLCY","Datatype":"Number"},{"Name":"BatchInvoiceAmountL');
        builder.Append('CY","Datatype":"Number"},{"Name":"PositiveAmtExclGST","Datatype":"Number"},{"Name":"TaxableAmountExc');
        builder.Append('lApplied","Datatype":"Number"}],"ComputationScript":[{"ActivityType":"COMMENT","Activity":{"Comment"');
        builder.Append(':"Converted Current Line''s amount and amount (LCY) to positive amount"}},{"ActivityType":"IFSTATEMEN');
        builder.Append('T","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}},"RHS":{"Type":"');
        builder.Append('Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"Pos');
        builder.Append('itiveAmount","Expression":"0-Amount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}]}},{"');
        builder.Append('ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PositiveAmountLCY","Expression":"0-Amo');
        builder.Append('untLCY","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]}}],"ElseIf":{"Condition"');
        builder.Append(':{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount"');
        builder.Append(',"OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"Amount"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Positiv');
        builder.Append('eAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen.');
        builder.Append(' Journal Line","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Conditi');
        builder.Append('on":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}},"RHS":{"Type":"Constant","Va');
        builder.Append('lue":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PositiveAm');
        builder.Append('tExclGST","Operator":"Minus","LHS":{"Type":"Constant","Value":""},"RHS":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}}}}],"El');
        builder.Append('seIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName');
        builder.Append('":"PositiveAmtExclGST","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"Amount Excl. GST"}}}}]}}},{"ActivityType":"IFSTATEMENT","Acti');
        builder.Append('vity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"PositiveAmtExclGST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[');
        builder.Append('{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmount","OutputValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}}}},{"ActivityType"');
        builder.Append(':"SETVARIABLE","Activity":{"OutputVariableName":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}}}}]}},{"ActivityType":"COMMENT');
        builder.Append('","Activity":{"Comment":"Created string for current financial year"}},{"ActivityType":"SETVARIABLE",');
        builder.Append('"Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last');
        builder.Append('","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Met');
        builder.Append('hod":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"');
        builder.Append('First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equa');
        builder.Append('ls To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jour');
        builder.Append('nal Line","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","Fi');
        builder.Append('lterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"Outp');
        builder.Append('utVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","T');
        builder.Append('ableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"F');
        builder.Append('iterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFi');
        builder.Append('lters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters"');
        builder.Append(':[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant');
        builder.Append('","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant');
        builder.Append('","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","');
        builder.Append('FieldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName');
        builder.Append('":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","Form');
        builder.Append('atString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":');
        builder.Append('"FiscalYearEndDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}}]}},{"ActivityType":"CO');
        builder.Append('MMENT","Activity":{"Comment":"Total posted Invoice amount"}},{"ActivityType":"SETVARIABLE","Activity');
        builder.Append('":{"OutputVariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table');
        builder.Append('","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFi');
        builder.Append('eldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Secti');
        builder.Append('on","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","Attribute');
        builder.Append('Name":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFie');
        builder.Append('ldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}');
        builder.Append('}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted Payment amount"}},{"ActivityType":');
        builder.Append('"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Method":"Sum","T');
        builder.Append('ableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{');
        builder.Append('"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldNa');
        builder.Append('me":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax');
        builder.Append(' Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL F');
        builder.Append('ilter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDa');
        builder.Append('teFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant');
        builder.Append('","Value":"Payment"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Sum of posted payment an');
        builder.Append('d invoice amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"PrevInvAmountLCY');
        builder.Append('","Expression":"PostedInvoiceAmount+PostedPaymentAmount","Tokens":[{"TokenName":"PostedInvoiceAmount');
        builder.Append('","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmount"}}},');
        builder.Append('{"TokenName":"PostedPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"PaymentAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted co');
        builder.Append('ntract amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreviousContractAmo');
        builder.Append('unt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFie');
        builder.Append('ldName":"Invoice Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jo');
        builder.Append('urnal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Field');
        builder.Append('Name":"TDS Section Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"Fiter');
        builder.Append('FieldName":"Per Contract","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}}');
        builder.Append('}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Posted amount without contract amount"}},{');
        builder.Append('"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmtWOContractLCY","Expression');
        builder.Append('":"TotalPostedAmount-PostedContractAmount","Tokens":[{"TokenName":"PostedContractAmount","TokenValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"To');
        builder.Append('kenName":"TotalPostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"TotalInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Payment Amo');
        builder.Append('unt on current batch"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"BatchPayment');
        builder.Append('AmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Gen. Journal L');
        builder.Append('ine","TableFieldName":"Amount (LCY)","Method":"Sum","TableFilters":[{"FiterFieldName":"Journal Templ');
        builder.Append('ate Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":"Line No');
        builder.Append('.","FilterType":"Not Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record",');
        builder.Append('"TableName":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Account Type","FilterTy');
        builder.Append('pe":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"Account Type"}}},{"FiterFieldName":"Account No.","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"Account No."}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Constant","Value":"Payment"}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Journal Batch Name"}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Inv');
        builder.Append('oice Amount on current batch"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Batc');
        builder.Append('hInvoiceAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Gen. J');
        builder.Append('ournal Line","TableFieldName":"Amount (LCY)","Method":"Sum","TableFilters":[{"FiterFieldName":"Journ');
        builder.Append('al Template Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curre');
        builder.Append('nt Record","TableName":"Gen. Journal Line","FieldName":"Journal Template Name"}}},{"FiterFieldName":');
        builder.Append('"Line No.","FilterType":"Not Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Gen. Journal Line","FieldName":"Line No."}}},{"FiterFieldName":"Account Type","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"Account Type"}}},{"FiterFieldName":"Account No.","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Account No."}}},{"FiterFieldName":"Document Type","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Constant","Value":"Invoice"}},{"FiterFieldName":"Journal Batch Name","FilterType"');
        builder.Append(':"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. J');
        builder.Append('ournal Line","FieldName":"Journal Batch Name"}}},{"FiterFieldName":"TDS Section Code","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"O');
        builder.Append('utputVariableName":"BatchInvoiceAmountLCY","Operator":"Minus","LHS":{"Type":"Constant","Value":"0"},');
        builder.Append('"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchInvoiceAmountLCY"}}}},');
        builder.Append('{"ActivityType":"COMMENT","Activity":{"Comment":"Total Batch amount including Current Line Amount"}}');
        builder.Append(',{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"BatchAmountLCY","Expression":"Batch');
        builder.Append('PaymentAmount+BatchInvoiceAmount+AmountLCY","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}}},{"TokenName":"Batch');
        builder.Append('InvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Batch');
        builder.Append('InvoiceAmountLCY"}}},{"TokenName":"BatchPaymentAmount","TokenValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Variable","VariableName":"BatchPaymentAmountLCY"}}}]}},{"ActivityType":"IFSTATEMENT","Activ');
        builder.Append('ity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"TDS Posting to G/L"}},"RHS":{"Type":"Con');
        builder.Append('stant","Value":"true"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Ba');
        builder.Append('tchAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Posit');
        builder.Append('iveAmountLCY"}}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmountL');
        builder.Append('CY","Expression":"PostedAmountLCY+BatchAmountLCY","Tokens":[{"TokenName":"BatchAmountLCY","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchAmountLCY"}}},{"TokenName');
        builder.Append('":"PostedAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('PrevInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Converted Amount from LCY t');
        builder.Append('o FCY"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTy');
        builder.Append('pe":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"Currency Code"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCAL');
        builder.Append('CULATION","Activity":{"OutputVariableName":"TotalInvAmount","Operator":"Multiply By","LHS":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Fact');
        builder.Append('or"}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmtWOContract"');
        builder.Append(',"Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"T');
        builder.Append('otalInvAmtWOContractLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Gen. Journal Line","FieldName":"Currency Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Activit');
        builder.Append('y":{"OutputVariableName":"PrevInvAmount","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}}],"ElseIf":{"');
        builder.Append('Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Total');
        builder.Append('InvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInv');
        builder.Append('AmountLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalInvAmtWOContract');
        builder.Append('","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmtWOCont');
        builder.Append('ractLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PrevInvAmount","OutputV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}}]}}},{');
        builder.Append('"ActivityType":"COMMENT","Activity":{"Comment":"Get applied amount"}},{"ActivityType":"IFSTATEMENT",');
        builder.Append('"Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Co');
        builder.Append('nstant","Value":"Invoice"}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":');
        builder.Append('[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Gen. Journal Line","FieldName":"Applies-to Doc. Type"}},"RHS":{"Type":"Constant","Value":"Payment"');
        builder.Append('}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record","Ta');
        builder.Append('bleName":"Gen. Journal Line","FieldName":"Applies-to Doc. No."}},"RHS":{"Type":"Constant","Value":""');
        builder.Append('}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount","OutputV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","TableFieldN');
        builder.Append('ame":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName":"Document No.","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jo');
        builder.Append('urnal Line","FieldName":"Applies-to Doc. No."}}},{"FiterFieldName":"TDS Section Code","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"TDS Section Code"}}}]}}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Cond');
        builder.Append('ition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current ');
        builder.Append('Record","TableName":"Gen. Journal Line","FieldName":"Applies-to ID"}},"RHS":{"Type":"Constant","Valu');
        builder.Append('e":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"AppliedAmount","Ou');
        builder.Append('tputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Vendor Ledger Entry","TableF');
        builder.Append('ieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"FiterFieldName":"Applies-to ID","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Applies-to ID"}}},{"FiterFieldName":"TDS Section Code","FilterType":"');
        builder.Append('Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"TDS Section Code"}}}]}}}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"C');
        builder.Append('ondition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"AppliedAmount"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"PositiveAmount"}}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableN');
        builder.Append('ame":"TaxableAmountExclApplied","Expression":"Amount-AppliedAmount","Tokens":[{"TokenName":"Amount",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{');
        builder.Append('"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variabl');
        builder.Append('eName":"AppliedAmount"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE');
        builder.Append('","Activity":{"OutputVariableName":"TaxableAmountExclApplied","OutputValue":{"Type":"Constant","Valu');
        builder.Append('e":"0"}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount"}},{"ActivityTyp');
        builder.Append('e":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmount","Expression":"(PostedAmoun');
        builder.Append('t+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"Pos');
        builder.Append('tedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAm');
        builder.Append('ount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Taxable Amount excluding posted c');
        builder.Append('ontract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTaxableInvAmt');
        builder.Append('WOContract","Expression":"((PostedAmount-ContractAmt)+Amount)-AppliedAmount","Tokens":[{"TokenName":');
        builder.Append('"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmo');
        builder.Append('unt"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable"');
        builder.Append(',"VariableName":"AppliedAmount"}}},{"TokenName":"ContractAmt","TokenValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"PreviousContractAmount"}}},{"TokenName":"PostedAmount","To');
        builder.Append('kenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmount"}}}]}},{"');
        builder.Append('ActivityType":"COMMENT","Activity":{"Comment":"Condition to calculate TDS Amount considering Thresho');
        builder.Append('ld limit"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Conditio');
        builder.Append('nType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName');
        builder.Append('":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldN');
        builder.Append('ame":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Sect');
        builder.Append('ion Code"}}},{"FiterFieldName":"Threshold Overlook","FilterType":"Equals","FilterValue":{"Type":"Con');
        builder.Append('stant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEM');
        builder.Append('ENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than Or Equals To","L');
        builder.Append('HS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"');
        builder.Append('IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"L');
        builder.Append('ookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Valu');
        builder.Append('e":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Co');
        builder.Append('nditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmou');
        builder.Append('ntLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amou');
        builder.Append('nt"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","');
        builder.Append('OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxableInvAmtWO');
        builder.Append('Contract"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"');
        builder.Append('Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"PositiveAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Colum');
        builder.Append('n","RateColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Out');
        builder.Append('putVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable"');
        builder.Append(',"VariableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Activity');
        builder.Append('Type":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Const');
        builder.Append('ant","Value":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals",');
        builder.Append('"LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Consta');
        builder.Append('nt","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator');
        builder.Append('":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"Tot');
        builder.Append('alInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Thres');
        builder.Append('hold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxable');
        builder.Append('Amount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalTaxabl');
        builder.Append('eInvAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":');
        builder.Append('{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}]}}}],"E');
        builder.Append('lseIf":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activ');
        builder.Append('ity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Bod');
        builder.Append('y":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}}}');
        builder.Append(',{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSAmount","Expression":"TDSTaxable');
        builder.Append('Amt*TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Component Percent","ComponentName":"Non PAN TDS"}}},{"TokenName":"TDSTaxableAmt","TokenValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ActivityTyp');
        builder.Append('e":"SETVARIABLE","Activity":{"OutputVariableName":"PreSurchargeBaseAmt","OutputValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Surcharge Base Amount","');
        builder.Append('Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"A');
        builder.Append('ccount No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}');
        builder.Append('},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","Fi');
        builder.Append('lterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"AccountingDateFilter"}}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"To');
        builder.Append('talSurchargeBaseAmt","Expression":"PreSurchargeBaseAmt+TDSAmount","Tokens":[{"TokenName":"PreSurchar');
        builder.Append('geBaseAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreSurcha');
        builder.Append('rgeBaseAmt"}}},{"TokenName":"TDSAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variab');
        builder.Append('le","VariableName":"TDSAmount"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[');
        builder.Append('{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed ');
        builder.Append('Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"Vendor No","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Surcharge Overlook","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[');
        builder.Append('{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is L');
        builder.Append('ess Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"RHS":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"Body":');
        builder.Append('[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is ');
        builder.Append('Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}]},"B');
        builder.Append('ody":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalSurchargeBaseAmt"}}}}],"El');
        builder.Append('seIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName');
        builder.Append('":"SurchargeBaseAmt","OutputValue":{"Type":"Constant","Value":"0"}}}]}}}],"ElseIf":{"Condition":{"Bo');
        builder.Append('dy":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","O');
        builder.Append('utputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}}],"');
        builder.Append('ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNa');
        builder.Append('me":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"TDSAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ');
        builder.Append('","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount');
        builder.Append('"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Outpu');
        builder.Append('tVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"PositiveAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE');
        builder.Append('","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"TDSTaxableAmount"}}}}]}}}],"PostingVariables":[{"Name":"TDSIncludingSHE');
        builder.Append('Cess","Datatype":"Number"},{"Name":"TDSIncludingSurcharge","Datatype":"Number"},{"Name":"InvoiceAmt"');
        builder.Append(',"Datatype":"Number"},{"Name":"PaymentAmt","Datatype":"Number"},{"Name":"TotalAmtLCY","Datatype":"Nu');
        builder.Append('mber"},{"Name":"TotalInvAmt","Datatype":"Number"},{"Name":"PerContract","Datatype":"Boolean"},{"Name');
        builder.Append('":"PaymentAmount","Datatype":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"FiscalY');
        builder.Append('earStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"Name":"AccountingD');
        builder.Append('ateFilter","Datatype":"String"},{"Name":"TDSPer","Datatype":"Number"},{"Name":"SurchargePer","Dataty');
        builder.Append('pe":"Number"},{"Name":"ECessPer","Datatype":"Number"},{"Name":"SHECessPer","Datatype":"Number"},{"Na');
        builder.Append('me":"VendorNo","Datatype":"String"}],"PostingScript":[{"ActivityType":"NUMERICEXPRESSION","Activity"');
        builder.Append(':{"VariableName":"TDSIncludingSHECess","Expression":"{TDS}+{Surcharge}+{eCESS}+{SHECess}","Tokens":[');
        builder.Append('{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentNa');
        builder.Append('me":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Compon');
        builder.Append('ent","ComponentName":"SHE Cess "}}},{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ActivityType":"NU');
        builder.Append('MERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSurcharge","Expression":"{TDS}+{Surcharge}"');
        builder.Append(',"Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Componen');
        builder.Append('t","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"C');
        builder.Append('ondition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}},"RHS":{"Type":"Constant","');
        builder.Append('Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalAmtLCY","');
        builder.Append('Expression":"0-{Amt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}]}}],"ElseIf":{"');
        builder.Append('Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Total');
        builder.Append('AmtLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jou');
        builder.Append('rnal Line","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVaria');
        builder.Append('bleName":"FiscalYearStartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Tax Accounting Period","TableFieldName":"Starting Date","Method":"Last","TableFilters":[{"Fite');
        builder.Append('rFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilte');
        builder.Append('rs":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]');
        builder.Append('}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"P');
        builder.Append('osting Date"}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Con');
        builder.Append('stant","Value":"true"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Cons');
        builder.Append('tant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalY');
        builder.Append('earEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accountin');
        builder.Append('g Period","TableFieldName":"Ending Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type');
        builder.Append(' Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableNam');
        builder.Append('e":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName');
        builder.Append('":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldN');
        builder.Append('ame":"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"Fi');
        builder.Append('terFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"Fi');
        builder.Append('terFieldName":"Ending Date","FilterType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date');
        builder.Append('"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter"');
        builder.Append(',"Expression":"{StartDate}..{EndDate}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVari');
        builder.Append('ableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearStartDate"}}}');
        builder.Append(',{"TokenName":"StartDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"');
        builder.Append('OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tabl');
        builder.Append('eName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"First","TableFilters":[{"FiterFieldNa');
        builder.Append('me":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","');
        builder.Append('FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName"');
        builder.Append(':"Assessee Code"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldNam');
        builder.Append('e":"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}}]}}}},{');
        builder.Append('"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmt","OutputValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Payment Amount","Meth');
        builder.Append('od":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Acc');
        builder.Append('ount No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},');
        builder.Append('{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","Filt');
        builder.Append('erType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName"');
        builder.Append(':"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableNa');
        builder.Append('me":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","Tokens":[{"TokenName":"InvoiceAmt","TokenVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"InvoiceAmt"}}},{"TokenName":"');
        builder.Append('PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentA');
        builder.Append('mt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression":');
        builder.Append('"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"TotalAmtLCY"}}},{"TokenName":"{InvAmt}","TokenValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}}}]}},{"ActivityType":"IFSTATEMENT","Ac');
        builder.Append('tivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType"');
        builder.Append(':"Table","TableName":"Allowed Sections","TableFieldName":"Threshold Overlook","Method":"First","Tabl');
        builder.Append('eFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"Fit');
        builder.Append('erFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Typ');
        builder.Append('e":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[');
        builder.Append('{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableNam');
        builder.Append('e":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Thre');
        builder.Append('shold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator');
        builder.Append('":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per');
        builder.Append(' Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Ac');
        builder.Append('tivity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Colu');
        builder.Append('mn","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"');
        builder.Append('Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","Ra');
        builder.Append('teColumnName":"Per Contract Value"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVar');
        builder.Append('iableName":"PerContract","OutputValue":{"Type":"Constant","Value":"true"}}}]}}]}}]}}]}}]}},{"Activit');
        builder.Append('yType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS"');
        builder.Append(':{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type');
        builder.Append('"}},"RHS":{"Type":"Constant","Value":"Payment"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":');
        builder.Append('{"OutputVariableName":"PaymentAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}}],"ElseIf":{"Condition":{"Body":[]}');
        builder.Append(',"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","OutputValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNam');
        builder.Append('e":"Amount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","');
        builder.Append('ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Value":"Vendor"}}]},"Body":[{"ActivityType');
        builder.Append('":"SETVARIABLE","Activity":{"OutputVariableName":"VendorNo","OutputValue":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}}],"ElseI');
        builder.Append('f":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"');
        builder.Append('VendorNo","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. J');
        builder.Append('ournal Line","FieldName":"Bal. Account No."}}}}]}}}],"Components":[{"ComponentName":"SHE Cess ","Seq');
        builder.Append('uence":4,"Formula":{"VariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{SheCessPer}/100","Tok');
        builder.Append('ens":[{"TokenName":"{SheCessPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Pe');
        builder.Append('rcent","ComponentName":"SHE Cess "}}},{"TokenName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue"');
        builder.Append(':{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"Component');
        builder.Append('Name":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Expression":"NonPANTDS+Surcharge');
        builder.Append('+eCess+SheCess","Tokens":[{"TokenName":"eCess","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Component","ComponentName":"eCESS"}}},{"TokenName":"NonPANTDS","TokenValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"TokenName":"SheCess","TokenValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"Surch');
        builder.Append('arge","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}');
        builder.Append('}]}},{"ComponentName":"TDS Base Amount","Sequence":6,"Formula":{"VariableName":"","Expression":"{TDS');
        builder.Append('BaseAmt}","Tokens":[{"TokenName":"{TDSBaseAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Variable","VariableName":"TDSBaseAmt"}}}]}},{"ComponentName":"Surcharge","Sequence":2,"Formula":{"');
        builder.Append('VariableName":"","Expression":"{TDSAmt}*{SurchargePer}/100","Tokens":[{"TokenName":"{SurchargePer}",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"');
        builder.Append('}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variabl');
        builder.Append('eName":"SurchargeBaseAmt"}}}]}},{"ComponentName":"eCESS","Sequence":3,"Formula":{"VariableName":"","');
        builder.Append('Expression":"({TDSAmt}+{SurchargeAmt})*{EcessPer}/100","Tokens":[{"TokenName":"{EcessPer}","TokenVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{"TokenNa');
        builder.Append('me":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName');
        builder.Append('":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Compo');
        builder.Append('nent","ComponentName":"Non PAN TDS"}}}]}},{"ComponentName":"Non PAN TDS","Sequence":1,"Formula":{"Va');
        builder.Append('riableName":"","Expression":"TDSTaxableAmount*NonPANTDS/100","Tokens":[{"TokenName":"NonPANTDS","Tok');
        builder.Append('enValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Non PAN TDS"}}');
        builder.Append('},{"TokenName":"TDSTaxableAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","V');
        builder.Append('ariableName":"TDSTaxableAmount"}}}]}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals"');
        builder.Append(',"LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Documen');
        builder.Append('t Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}},{"Operator":"or","ConditionType":"Equals","LH');
        builder.Append('S":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Ty');
        builder.Append('pe"}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType":"Not Equals","L');
        builder.Append('HS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"P.A.N. Status","Method":"');
        builder.Append('First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}');
        builder.Append(']}},"RHS":{"Type":"Constant","Value":" "}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lo');
        builder.Append('okup":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"P.A.N. No.","Method":"First","Tab');
        builder.Append('leFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}]}},"RHS":{');
        builder.Append('"Type":"Constant","Value":" "}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"Sou');
        builder.Append('rceType":"Table","TableName":"TDS Concessional Code","TableFieldName":"Concessional Code","Method":"');
        builder.Append('First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account ');
        builder.Append('No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"R');
        builder.Append('HS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Work Tax Nature Of Deduction"');
        builder.Append('}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}},');
        builder.Append('"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"S');
        builder.Append('ourceType":"Table","TableName":"Allowed Sections","TableFieldName":"Non Resident Payments","Method":');
        builder.Append('"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account ');
        builder.Append('No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}');
        builder.Append('},"RHS":{"Type":"Constant","Value":"Yes"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":');
        builder.Append('{"Type":"Constant","Value":"Vendor"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"System-Created Entry"}},"RH');
        builder.Append('S":{"Type":"Constant","Value":""}}]},"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","TableNa');
        builder.Append('me":"TDS Posting Setup","AccountSourceType":"Field","FieldName":"TDS Account","AccountingImpact":"Cr');
        builder.Append('edit","ReverseCharge":false,"ReverseAccountSourceType":"Field","ReverseChargeFieldName":"","When":[{');
        builder.Append('"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Com');
        builder.Append('ponent","ComponentName":"Total TDS Amount"}},"RHS":{"Type":"Constant","Value":"0"}}]},"ValueType":"I');
        builder.Append('nsert Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger":true,"RecordVariable":"","SubLedg');
        builder.Append('erGrpBy":"Component","InsertRecordFields":[{"FieldName":"Vendor No.","Sequence":4,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"VendorNo"}}},{"FieldNa');
        builder.Append('me":"T.A.N. No.","Sequence":5,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Tax Attributes","AttributeName":"TAN No."}}},{"FieldName":"Section","Sequence":6,"ReverseSign":false');
        builder.Append(',"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","');
        builder.Append('FieldName":"TDS Section Code"}}},{"FieldName":"Assessee Code","Sequence":7,"ReverseSign":false,"Look');
        builder.Append('up":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"Fi');
        builder.Append('eldName":"TDS Base Amount","Sequence":8,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName":"TDS %","Sequence":9,"Reverse');
        builder.Append('Sign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"No');
        builder.Append('n PAN TDS"}}},{"FieldName":"TDS Amount","Sequence":10,"ReverseSign":false,"Lookup":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"FieldName":"Surcharge %","Sequ');
        builder.Append('ence":11,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","C');
        builder.Append('omponentName":"Surcharge"}}},{"FieldName":"Surcharge Amount","Sequence":12,"ReverseSign":false,"Look');
        builder.Append('up":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"FieldName":');
        builder.Append('"eCess %","Sequence":13,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Compon');
        builder.Append('ent Percent","ComponentName":"eCESS"}}},{"FieldName":"eCess Amount","Sequence":14,"ReverseSign":fals');
        builder.Append('e,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"FieldNam');
        builder.Append('e":"SHE Cess %","Sequence":15,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Component Percent","ComponentName":"SHE Cess "}}},{"FieldName":"SHE Cess Amount","Sequence":16,"Reve');
        builder.Append('rseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Ces');
        builder.Append('s "}}},{"FieldName":"Concessional Code","Sequence":17,"ReverseSign":false,"Lookup":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Tax Attributes","AttributeName":"Concessional Code"}}},{"FieldName":"Concess');
        builder.Append('ional Form No.","Sequence":38,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Table","TableName":"TDS Concessional Code","TableFieldName":"Certificate No.","Method":"First","Tabl');
        builder.Append('eFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"Fi');
        builder.Append('terFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}},{"FieldName":');
        builder.Append('"Deductee PAN No.","Sequence":18,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Tax Attributes","AttributeName":"PAN No."}}},{"FieldName":"Non Resident Payments","Sequence":42,"');
        builder.Append('ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Allowed Sec');
        builder.Append('tions","TableFieldName":"Non Resident Payments","Method":"First","TableFilters":[{"FiterFieldName":"');
        builder.Append('Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","Fi');
        builder.Append('lterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName');
        builder.Append('":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}},{"FieldName":"Nature of Remittance","Seq');
        builder.Append('uence":19,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"Nature of Remittance"}}},{"FieldName":"Act Applicable","Seq');
        builder.Append('uence":37,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"Act Applicable"}}},{"FieldName":"Invoice Amount","Sequence"');
        builder.Append(':25,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName"');
        builder.Append(':"TDS Base Amount"}}},{"FieldName":"Posting Date","Sequence":3,"ReverseSign":false,"Lookup":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Postin');
        builder.Append('g Date"}}},{"FieldName":"Document Type","Sequence":26,"ReverseSign":false,"Lookup":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}');
        builder.Append('}},{"FieldName":"Document No.","Sequence":2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Posting Field","PostingVariableName":"Posted Document No."}}},{"FieldName":"Account Ty');
        builder.Append('pe","Sequence":23,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"G/L Account"}},{"FieldNam');
        builder.Append('e":"Account No.","Sequence":24,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Table","TableName":"TDS Posting Setup","TableFieldName":"TDS Account","Method":"First","TableFilter');
        builder.Append('s":[{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"Fit');
        builder.Append('erFieldName":"Effective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"');
        builder.Append('}}}]}}},{"FieldName":"Party Type","Sequence":44,"ReverseSign":false,"Lookup":{"Type":"Constant","Val');
        builder.Append('ue":"Vendor"}},{"FieldName":"Country Code","Sequence":39,"ReverseSign":false,"Lookup":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Country Code"}}},{"FieldName":"Source Co');
        builder.Append('de","Sequence":28,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"PURCHASES"}},{"FieldName"');
        builder.Append(':"TDS Amount Including Surcharge","Sequence":22,"ReverseSign":false,"Lookup":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Variable","VariableName":"TDSIncludingSurcharge"}}},{"FieldName":"Bal. TDS Includi');
        builder.Append('ng SHE CESS","Sequence":29,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Var');
        builder.Append('iable","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Remaining Surcharge Amount","Sequence":');
        builder.Append('31,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":');
        builder.Append('"Surcharge"}}},{"FieldName":"Remaining TDS Amount","Sequence":48,"ReverseSign":false,"Lookup":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Lin');
        builder.Append('e Amount","Sequence":49,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}},{"FieldName":"Total TDS Including ');
        builder.Append('SHE CESS","Sequence":21,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variab');
        builder.Append('le","VariableName":"TDSIncludingSHECess"}}},{"FieldName":"Per Contract","Sequence":45,"ReverseSign":');
        builder.Append('false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PerContract"}}},{"');
        builder.Append('FieldName":"User ID","Sequence":30,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Database","DatabaseVariableName":"UserId"}}},{"FieldName":"Transaction No.","Sequence":43,"Reve');
        builder.Append('rseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName');
        builder.Append('":"G/L Entry Transaction No."}}},{"FieldName":"Original TDS Base Amount","Sequence":27,"ReverseSign"');
        builder.Append(':false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount');
        builder.Append('"}}},{"FieldName":"Payment Amount","Sequence":46,"ReverseSign":false,"Lookup":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Variable","VariableName":"PaymentAmount"}}},{"FieldName":"Currency Code","Sequenc');
        builder.Append('e":40,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableNa');
        builder.Append('me":"Gen. Journal Line","FieldName":"Currency Code"}}},{"FieldName":"Currency Factor","Sequence":41,');
        builder.Append('"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"G');
        builder.Append('en. Journal Line","FieldName":"Currency Factor"}}},{"FieldName":"Surcharge Base Amount","Sequence":4');
        builder.Append('7,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"');
        builder.Append('Non PAN TDS"}}},{"FieldName":"G/L Entry No.","Sequence":1,"ReverseSign":false,"Lookup":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry No."}}}]}}]}],"AttachedE');
        builder.Append('vents":[{"EventName":"CallTaxEngineOnGenJnlLine","Enabled":true,"Sequence":0},{"EventName":"OnAfterG');
        builder.Append('enJnlLineUpdated","Enabled":true,"Sequence":0}]},{"Description":"Calculation of Tax Deduction at Sou');
        builder.Append('rce through General Journal for Non-Residents Vendor where both PAN No. and Concessional Codes are n');
        builder.Append('ot specified.\n","TaxType":"TDS","Code":"","TaxEntity":"Gen. Journal Line","ParentUseCase":"Calculat');
        builder.Append('ion of Tax Deduction at Source through General Journal for Non-Residents Vendor.\n","PresentationOrd');
        builder.Append('er":285,"Indent":1,"PostingTableName":"TDS Posting Setup","PostingTableFilters":[{"FiterFieldName":"');
        builder.Append('TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effective');
        builder.Append(' Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}],"Attributes":[],"R');
        builder.Append('ateColumns":[],"ComputationVariables":[{"Name":"TotalAmount","Datatype":"Number"},{"Name":"TDSTaxabl');
        builder.Append('eAmount","Datatype":"Number"},{"Name":"SurchargeBaseAmt","Datatype":"Number"},{"Name":"TDSAmount","D');
        builder.Append('atatype":"Number"},{"Name":"PrevInvAmountLCY","Datatype":"Number"},{"Name":"PrevInvAmount","Datatype');
        builder.Append('":"Number"},{"Name":"InvoiceAmount","Datatype":"Number"},{"Name":"PaymentAmount","Datatype":"Number"');
        builder.Append('},{"Name":"PreviousContractAmount","Datatype":"Number"},{"Name":"TotalInvAmountLCY","Datatype":"Numb');
        builder.Append('er"},{"Name":"TotalInvAmount","Datatype":"Number"},{"Name":"TotalInvAmtWOContractLCY","Datatype":"Nu');
        builder.Append('mber"},{"Name":"TotalInvAmtWOContract","Datatype":"Number"},{"Name":"PreSurchargeBaseAmt","Datatype"');
        builder.Append(':"Number"},{"Name":"TotalSurchargeBaseAmt","Datatype":"Number"},{"Name":"PositiveAmount","Datatype":');
        builder.Append('"Number"},{"Name":"PositiveAmountLCY","Datatype":"Number"},{"Name":"TDSBaseAmt","Datatype":"Number"}');
        builder.Append(',{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDate","Datatype":"Date"},{"N');
        builder.Append('ame":"AccountingDateFilter","Datatype":"String"},{"Name":"TotalCurrAmountLCY","Datatype":"Number"},{');
        builder.Append('"Name":"PositiveTotalCurrAmountLCY","Datatype":"Number"},{"Name":"AppliedAmount","Datatype":"Number"');
        builder.Append('},{"Name":"TotalTaxableInvAmount","Datatype":"Number"},{"Name":"TotalTaxableInvAmtWOContract","Datat');
        builder.Append('ype":"Number"},{"Name":"BatchAmountLCY","Datatype":"Number"},{"Name":"BatchPaymentAmountLCY","Dataty');
        builder.Append('pe":"Number"},{"Name":"BatchInvoiceAmountLCY","Datatype":"Number"},{"Name":"PositiveAmtExclGST","Dat');
        builder.Append('atype":"Number"},{"Name":"TaxableAmountExclApplied","Datatype":"Number"}],"ComputationScript":[{"Act');
        builder.Append('ivityType":"COMMENT","Activity":{"Comment":"Converted Current Line''s amount and amount (LCY) to posi');
        builder.Append('tive amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Condi');
        builder.Append('tionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Li');
        builder.Append('ne","FieldName":"Amount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICE');
        builder.Append('XPRESSION","Activity":{"VariableName":"PositiveAmount","Expression":"0-Amount","Tokens":[{"TokenName');
        builder.Append('":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. J');
        builder.Append('ournal Line","FieldName":"Amount"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableNam');
        builder.Append('e":"PositiveAmountLCY","Expression":"0-AmountLCY","Tokens":[{"TokenName":"AmountLCY","TokenValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Amount (LCY)"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activi');
        builder.Append('ty":{"OutputVariableName":"PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"Amount"}}}},{"ActivityType":"SETVARIABLE"');
        builder.Append(',"Activity":{"OutputVariableName":"PositiveAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}}]}}},{"Activi');
        builder.Append('tyType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount');
        builder.Append(' Excl. GST"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","A');
        builder.Append('ctivity":{"OutputVariableName":"PositiveAmtExclGST","Operator":"Minus","LHS":{"Type":"Constant","Val');
        builder.Append('ue":""},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"Amount Excl. GST"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SE');
        builder.Append('TVARIABLE","Activity":{"OutputVariableName":"PositiveAmtExclGST","OutputValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount Excl. GST"}}');
        builder.Append('}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType');
        builder.Append('":"Not Equals","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmtExclGST"}},"RHS":');
        builder.Append('{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableN');
        builder.Append('ame":"PositiveAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"PositiveAmtExclGST"}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PositiveA');
        builder.Append('mountLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveA');
        builder.Append('mtExclGST"}}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Created string for current financ');
        builder.Append('ial year"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","Ou');
        builder.Append('tputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","Tabl');
        builder.Append('eFieldName":"Starting Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type"');
        builder.Append(',"TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","Fil');
        builder.Append('terType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Set');
        builder.Append('up","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Startin');
        builder.Append('g Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FiterFieldName":');
        builder.Append('"New Fiscal Year","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFie');
        builder.Append('ldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"Act');
        builder.Append('ivityType":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending');
        builder.Append(' Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","Filt');
        builder.Append('erValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Ac');
        builder.Append('counting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","Fi');
        builder.Append('lterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":');
        builder.Append('"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","Filte');
        builder.Append('rType":"Is Greater Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current');
        builder.Append(' Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGE');
        builder.Append('XPRESSION","Activity":{"OutputVariableName":"AccountingDateFilter","Expression":"{StartDate}..{EndDa');
        builder.Append('te}","Token":[{"TokenName":"EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}},{"TokenName":"StartDate","FormatStr');
        builder.Append('ing":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Fisc');
        builder.Append('alYearStartDate"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total posted Invoice amount"');
        builder.Append('}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmount","OutputValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount');
        builder.Append('","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code');
        builder.Append('"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date",');
        builder.Append('"FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total');
        builder.Append(' posted Payment amount"}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmo');
        builder.Append('unt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFie');
        builder.Append('ldName":"Payment Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jo');
        builder.Append('urnal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Field');
        builder.Append('Name":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFie');
        builder.Append('ldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType');
        builder.Append('":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"COMMENT","Acti');
        builder.Append('vity":{"Comment":"Sum of posted payment and invoice amount"}},{"ActivityType":"NUMERICEXPRESSION","A');
        builder.Append('ctivity":{"VariableName":"PrevInvAmountLCY","Expression":"PostedInvoiceAmount+PostedPaymentAmount","');
        builder.Append('Tokens":[{"TokenName":"PostedInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Va');
        builder.Append('riable","VariableName":"InvoiceAmount"}}},{"TokenName":"PostedPaymentAmount","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"PaymentAmount"}}}]}},{"ActivityType":"COMME');
        builder.Append('NT","Activity":{"Comment":"Total posted contract amount"}},{"ActivityType":"SETVARIABLE","Activity":');
        builder.Append('{"OutputVariableName":"PreviousContractAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType"');
        builder.Append(':"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Method":"Sum","TableFilters":[{"');
        builder.Append('FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName"');
        builder.Append(':"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Posting Dat');
        builder.Append('e","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"AccountingDateFilter"}}},{"FiterFieldName":"Per Contract","FilterType":"Equals","FilterVal');
        builder.Append('ue":{"Type":"Constant","Value":"true"}}]}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total ');
        builder.Append('Posted amount without contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableNa');
        builder.Append('me":"TotalInvAmtWOContractLCY","Expression":"TotalPostedAmount-PostedContractAmount","Tokens":[{"Tok');
        builder.Append('enName":"PostedContractAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"PreviousContractAmount"}}},{"TokenName":"TotalPostedAmount","TokenValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmountLCY"}}}]}},{"ActivityType":"COMMENT');
        builder.Append('","Activity":{"Comment":"Total Payment Amount on current batch"}},{"ActivityType":"SETVARIABLE","Act');
        builder.Append('ivity":{"OutputVariableName":"BatchPaymentAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Table","TableName":"Gen. Journal Line","TableFieldName":"Amount (LCY)","Method":"Sum","Table');
        builder.Append('Filters":[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Te');
        builder.Append('mplate Name"}}},{"FiterFieldName":"Line No.","FilterType":"Not Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Line No."}}},');
        builder.Append('{"FiterFieldName":"Account Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account Type"}}},{"FiterField');
        builder.Append('Name":"Account No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Documen');
        builder.Append('t Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}},{"FiterFieldName"');
        builder.Append(':"Journal Batch Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"Journal Batch Name"}}},{"FiterFieldName"');
        builder.Append(':"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}},{"ActivityType":');
        builder.Append('"COMMENT","Activity":{"Comment":"Total Invoice Amount on current batch"}},{"ActivityType":"SETVARIAB');
        builder.Append('LE","Activity":{"OutputVariableName":"BatchInvoiceAmountLCY","OutputValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Table","TableName":"Gen. Journal Line","TableFieldName":"Amount (LCY)","Method":"Sum');
        builder.Append('","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","FilterValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Jo');
        builder.Append('urnal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Not Equals","FilterValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Line ');
        builder.Append('No."}}},{"FiterFieldName":"Account Type","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account Type"}}},{"Fi');
        builder.Append('terFieldName":"Account No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":');
        builder.Append('"Document Type","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Invoice"}},{"FiterFi');
        builder.Append('eldName":"Journal Batch Name","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal Batch Name"}}},{"FiterFi');
        builder.Append('eldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}},{"Activi');
        builder.Append('tyType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"BatchInvoiceAmountLCY","Operator":"Min');
        builder.Append('us","LHS":{"Type":"Constant","Value":"0"},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"BatchInvoiceAmountLCY"}}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Total Bat');
        builder.Append('ch amount including Current Line Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Variable');
        builder.Append('Name":"BatchAmountLCY","Expression":"BatchPaymentAmount+BatchInvoiceAmount+AmountLCY","Tokens":[{"To');
        builder.Append('kenName":"AmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":');
        builder.Append('"PositiveAmountLCY"}}},{"TokenName":"BatchInvoiceAmount","TokenValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Variable","VariableName":"BatchInvoiceAmountLCY"}}},{"TokenName":"BatchPaymentAmount","To');
        builder.Append('kenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"BatchPaymentAmountLCY"}');
        builder.Append('}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType"');
        builder.Append(':"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"TDS Posting to G/L"}},"RHS":{"Type":"Constant","Value":"true"}}]},"Body":[{"ActivityType":"SETVARI');
        builder.Append('ABLE","Activity":{"OutputVariableName":"BatchAmountLCY","OutputValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Variable","VariableName":"PositiveAmountLCY"}}}}]}},{"ActivityType":"NUMERICEXPRESSION","');
        builder.Append('Activity":{"VariableName":"TotalInvAmountLCY","Expression":"PostedAmountLCY+BatchAmountLCY","Tokens"');
        builder.Append(':[{"TokenName":"BatchAmountLCY","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Var');
        builder.Append('iableName":"BatchAmountLCY"}}},{"TokenName":"PostedAmountLCY","TokenValue":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}}]}},{"ActivityType":"COMMENT","Activit');
        builder.Append('y":{"Comment":"Converted Amount from LCY to FCY"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condit');
        builder.Append('ion":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Re');
        builder.Append('cord","TableName":"Gen. Journal Line","FieldName":"Currency Code"}},"RHS":{"Type":"Constant","Value"');
        builder.Append(':""}}]},"Body":[{"ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"TotalInvAmount');
        builder.Append('","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"Currency Factor"}}}},{"ActivityType":"NUMBERCALCULATION","Activity":{"O');
        builder.Append('utputVariableName":"TotalInvAmtWOContract","Operator":"Multiply By","LHS":{"Type":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Variable","VariableName":"TotalInvAmtWOContractLCY"}},"RHS":{"Type":"Lookup","Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Currency Factor"}}}},{"');
        builder.Append('ActivityType":"NUMBERCALCULATION","Activity":{"OutputVariableName":"PrevInvAmount","Operator":"Multi');
        builder.Append('ply By","LHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}}');
        builder.Append(',"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"Currency Factor"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABL');
        builder.Append('E","Activity":{"OutputVariableName":"TotalInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"TotalInvAmountLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"');
        builder.Append('OutputVariableName":"TotalInvAmtWOContract","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"V');
        builder.Append('ariable","VariableName":"TotalInvAmtWOContractLCY"}}}},{"ActivityType":"SETVARIABLE","Activity":{"Ou');
        builder.Append('tputVariableName":"PrevInvAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","');
        builder.Append('VariableName":"PrevInvAmountLCY"}}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comment":"Get applie');
        builder.Append('d amount"}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Conditio');
        builder.Append('nType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}}]},"Body":[{"ActivityType":"IFS');
        builder.Append('TATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. Type"}},');
        builder.Append('"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. ');
        builder.Append('No."}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Ou');
        builder.Append('tputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tab');
        builder.Append('leName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","TableFilters":[{"Fi');
        builder.Append('terFieldName":"Document No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to Doc. No."}}},{"FiterFi');
        builder.Append('eldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}}]}},{"Act');
        builder.Append('ivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equal');
        builder.Append('s","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Appli');
        builder.Append('es-to ID"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"AppliedAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table"');
        builder.Append(',"TableName":"Vendor Ledger Entry","TableFieldName":"Amount to Apply","Method":"Sum","TableFilters":');
        builder.Append('[{"FiterFieldName":"Applies-to ID","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Applies-to ID"}}},{"FiterFi');
        builder.Append('eldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}}}]}}]}},{"');
        builder.Append('ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Les');
        builder.Append('s Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}},"RHS":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}]},"Body":[{"ActivityType":');
        builder.Append('"NUMERICEXPRESSION","Activity":{"VariableName":"TaxableAmountExclApplied","Expression":"Amount-Appli');
        builder.Append('edAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}}]}}],"ElseIf":{"Condition":{"Body');
        builder.Append('":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TaxableAmountExclAppli');
        builder.Append('ed","OutputValue":{"Type":"Constant","Value":"0"}}}]}}},{"ActivityType":"COMMENT","Activity":{"Comme');
        builder.Append('nt":"Total Taxable Amount"}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalTa');
        builder.Append('xableInvAmount","Expression":"(PostedAmount+Amount)-AppliedAmount","Tokens":[{"TokenName":"Amount","');
        builder.Append('TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}},{"');
        builder.Append('TokenName":"AppliedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"AppliedAmount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Variable","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment');
        builder.Append('":"Total Taxable Amount excluding posted contract amount"}},{"ActivityType":"NUMERICEXPRESSION","Act');
        builder.Append('ivity":{"VariableName":"TotalTaxableInvAmtWOContract","Expression":"((PostedAmount-ContractAmt)+Amou');
        builder.Append('nt)-AppliedAmount","Tokens":[{"TokenName":"Amount","TokenValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"PositiveAmount"}}},{"TokenName":"AppliedAmount","TokenValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"AppliedAmount"}}},{"TokenName":"ContractA');
        builder.Append('mt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PreviousContract');
        builder.Append('Amount"}}},{"TokenName":"PostedAmount","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"PrevInvAmount"}}}]}},{"ActivityType":"COMMENT","Activity":{"Comment":"Condition t');
        builder.Append('o calculate TDS Amount considering Threshold limit"}},{"ActivityType":"IFSTATEMENT","Activity":{"Con');
        builder.Append('dition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","Tab');
        builder.Append('leName":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilters":[{"FiterFieldName":"V');
        builder.Append('endor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","Fil');
        builder.Append('terType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Threshold Overlook","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":{"Type":"Constant","Value');
        builder.Append('":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","Con');
        builder.Append('ditionType":"Is Less Than Or Equals To","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"Pre');
        builder.Append('vInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Thresh');
        builder.Append('old Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":');
        builder.Append('" ","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"Per Contra');
        builder.Append('ct Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity"');
        builder.Append(':{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceTyp');
        builder.Append('e":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Co');
        builder.Append('lumn","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":');
        builder.Append('{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Vari');
        builder.Append('able","VariableName":"TotalTaxableInvAmtWOContract"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{');
        builder.Append('"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Gr');
        builder.Append('eater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmountLCY"}},"RHS":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"Ac');
        builder.Append('tivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":');
        builder.Append('"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}],"ElseIf":{');
        builder.Append('"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDST');
        builder.Append('axableAmount","OutputValue":{"Type":"Constant","Value":""}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":');
        builder.Append('[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Column","RateColumnName":"P');
        builder.Append('er Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","');
        builder.Append('Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"');
        builder.Append('SourceType":"Variable","VariableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","A');
        builder.Append('ctivity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"TotalTaxableInvAmount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":');
        builder.Append('[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue":{"T');
        builder.Append('ype":"Constant","Value":"0"}}}]}}}]}}}],"ElseIf":{"Condition":{"Body":[{"Operator":" ","ConditionTyp');
        builder.Append('e":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"PrevInvAmountLCY"}},"R');
        builder.Append('HS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"B');
        builder.Append('ody":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSTaxableAmount","OutputValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TaxableAmountExclApplied"}}}}]}');
        builder.Append('}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVaria');
        builder.Append('bleName":"TDSTaxableAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"TaxableAmountExclApplied"}}}}]}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"Variable');
        builder.Append('Name":"TDSAmount","Expression":"TDSTaxableAmt*TDSPer/100","Tokens":[{"TokenName":"TDSPer","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Non PAN TDS"}}},{"To');
        builder.Append('kenName":"TDSTaxableAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableNa');
        builder.Append('me":"TDSTaxableAmount"}}}]}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PreSurc');
        builder.Append('hargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entry",');
        builder.Append('"TableFieldName":"Surcharge Base Amount","Method":"Sum","TableFilters":[{"FiterFieldName":"Vendor No');
        builder.Append('.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"E');
        builder.Append('quals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Jour');
        builder.Append('nal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Cod');
        builder.Append('e"}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}}]}}}},{"ActivityType":"NUMERIC');
        builder.Append('EXPRESSION","Activity":{"VariableName":"TotalSurchargeBaseAmt","Expression":"PreSurchargeBaseAmt+TDS');
        builder.Append('Amount","Tokens":[{"TokenName":"PreSurchargeBaseAmt","TokenValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Variable","VariableName":"PreSurchargeBaseAmt"}}},{"TokenName":"TDSAmount","TokenValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}]}},{"ActivityType":"IFST');
        builder.Append('ATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{');
        builder.Append('"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"","Method":"Exist","TableFilte');
        builder.Append('rs":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFiel');
        builder.Append('dName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"S');
        builder.Append('urcharge Overlook","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}}]}},"RHS":');
        builder.Append('{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Bo');
        builder.Append('dy":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"PrevInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName"');
        builder.Append(':"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"B');
        builder.Append('ody":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"TotalInvAmountLCY"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumn');
        builder.Append('Name":"Surcharge Threshold Amount"}}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVar');
        builder.Append('iableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Vari');
        builder.Append('ableName":"TotalSurchargeBaseAmt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SE');
        builder.Append('TVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Constant","Val');
        builder.Append('ue":"0"}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{');
        builder.Append('"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Varia');
        builder.Append('ble","VariableName":"TDSAmount"}}}}]}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"');
        builder.Append('SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmt","OutputValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"TDSAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Acti');
        builder.Append('vity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"');
        builder.Append('Variable","VariableName":"TDSTaxableAmount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"Acti');
        builder.Append('vityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Variable","VariableName":"PositiveAmount"}}}}],"ElseIf":{"Condition":{"Body');
        builder.Append('":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}}]}}}],"P');
        builder.Append('ostingVariables":[{"Name":"TDSIncludingSHECess","Datatype":"Number"},{"Name":"TDSIncludingSurcharge"');
        builder.Append(',"Datatype":"Number"},{"Name":"InvoiceAmt","Datatype":"Number"},{"Name":"PaymentAmt","Datatype":"Num');
        builder.Append('ber"},{"Name":"TotalAmtLCY","Datatype":"Number"},{"Name":"TotalInvAmt","Datatype":"Number"},{"Name":');
        builder.Append('"PerContract","Datatype":"Boolean"},{"Name":"PaymentAmount","Datatype":"Number"},{"Name":"InvoiceAmo');
        builder.Append('unt","Datatype":"Number"},{"Name":"FiscalYearStartDate","Datatype":"Date"},{"Name":"FiscalYearEndDat');
        builder.Append('e","Datatype":"Date"},{"Name":"AccountingDateFilter","Datatype":"String"},{"Name":"TDSPer","Datatype');
        builder.Append('":"Number"},{"Name":"SurchargePer","Datatype":"Number"},{"Name":"ECessPer","Datatype":"Number"},{"Na');
        builder.Append('me":"SHECessPer","Datatype":"Number"},{"Name":"VendorNo","Datatype":"String"}],"PostingScript":[{"Ac');
        builder.Append('tivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingSHECess","Expression":"{TDS}');
        builder.Append('+{Surcharge}+{eCESS}+{SHECess}","Tokens":[{"TokenName":"{eCESS}","TokenValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SHECess}","TokenValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"{Surchar');
        builder.Append('ge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}}');
        builder.Append(',{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentNam');
        builder.Append('e":"Non PAN TDS"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSIncludingS');
        builder.Append('urcharge","Expression":"{TDS}+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDS}","To');
        builder.Append('kenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}},{"');
        builder.Append('ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Les');
        builder.Append('s Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Amount (LCY)"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"NUMERICEXPRESSION",');
        builder.Append('"Activity":{"VariableName":"TotalAmtLCY","Expression":"0-{Amt}","Tokens":[{"TokenName":"{Amt}","Toke');
        builder.Append('nValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fi');
        builder.Append('eldName":"Amount (LCY)"}}}]}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABL');
        builder.Append('E","Activity":{"OutputVariableName":"TotalAmtLCY","OutputValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount (LCY)"}}}}]}}},{"ActivityTy');
        builder.Append('pe":"SETVARIABLE","Activity":{"OutputVariableName":"FiscalYearStartDate","OutputValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Starting Da');
        builder.Append('te","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterV');
        builder.Append('alue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accou');
        builder.Append('nting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Ta');
        builder.Append('x Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Starting Date","FilterType":"Is');
        builder.Append(' Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tab');
        builder.Append('leName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FiterFieldName":"New Fiscal Year","Filte');
        builder.Append('rType":"Equals","FilterValue":{"Type":"Constant","Value":"true"}},{"FiterFieldName":"Closed","Filter');
        builder.Append('Type":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE"');
        builder.Append(',"Activity":{"OutputVariableName":"FiscalYearEndDate","OutputValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","');
        builder.Append('TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup');
        builder.Append('","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method');
        builder.Append('":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"Fir');
        builder.Append('st","TableFilters":[]}}}]}}},{"FiterFieldName":"New Fiscal Year","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue"');
        builder.Append(':{"Type":"Constant","Value":"false"}},{"FiterFieldName":"Ending Date","FilterType":"Is Greater Than ');
        builder.Append('Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Ge');
        builder.Append('n. Journal Line","FieldName":"Posting Date"}}}]}}}},{"ActivityType":"STRINGEXPRESSION","Activity":{"');
        builder.Append('OutputVariableName":"AccountingDateFilter","Expression":"{StartDate}..{EndDate}","Token":[{"TokenNam');
        builder.Append('e":"EndDate","FormatString":"","LookupVariableName":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"FiscalYearStartDate"}}},{"TokenName":"StartDate","FormatString":"","LookupVariabl');
        builder.Append('eName":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"FiscalYearEndDate"}}}]}},{');
        builder.Append('"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"InvoiceAmt","OutputValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Table","TableName":"TDS Entry","TableFieldName":"Invoice Amount","Meth');
        builder.Append('od":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals","FilterValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Acc');
        builder.Append('ount No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},');
        builder.Append('{"FiterFieldName":"Assessee Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FiterFieldName":"Posting Date","Filt');
        builder.Append('erType":"CAL Filter","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName"');
        builder.Append(':"AccountingDateFilter"}}},{"FiterFieldName":"Document Type","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Constant","Value":"Invoice"}}]}}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableNa');
        builder.Append('me":"PaymentAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Entr');
        builder.Append('y","TableFieldName":"Payment Amount","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No."');
        builder.Append(',"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Assessee Code","FilterType":"Equals","F');
        builder.Append('ilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"Assessee Code"');
        builder.Append('}}},{"FiterFieldName":"Posting Date","FilterType":"CAL Filter","FilterValue":{"Type":"Lookup","Looku');
        builder.Append('p":{"SourceType":"Variable","VariableName":"AccountingDateFilter"}}},{"FiterFieldName":"Document Typ');
        builder.Append('e","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"Payment"}}]}}}},{"ActivityType":"');
        builder.Append('NUMERICEXPRESSION","Activity":{"VariableName":"TotalInvAmt","Expression":"InvoiceAmt+PaymentAmt","To');
        builder.Append('kens":[{"TokenName":"InvoiceAmt","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Va');
        builder.Append('riableName":"InvoiceAmt"}}},{"TokenName":"PaymentAmt","TokenValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"PaymentAmt"}}}]}},{"ActivityType":"NUMERICEXPRESSION","Activity":{');
        builder.Append('"VariableName":"TotalInvAmt","Expression":"{Amt}+{InvAmt}","Tokens":[{"TokenName":"{Amt}","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}}},{"TokenName":"');
        builder.Append('{InvAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalInvAm');
        builder.Append('t"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTy');
        builder.Append('pe":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"');
        builder.Append('Threshold Overlook","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equ');
        builder.Append('als","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Field');
        builder.Append('Name":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"IFST');
        builder.Append('ATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{"ActivityType":"IFSTATEMENT","');
        builder.Append('Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"');
        builder.Append('SourceType":"Column","RateColumnName":"Per Contract Value"}},"RHS":{"Type":"Constant","Value":""}}]}');
        builder.Append(',"Body":[{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionTy');
        builder.Append('pe":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalInvAmt"}},"RHS":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}]},"Body":[{');
        builder.Append('"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Gr');
        builder.Append('eater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalAmtLCY"}},"RHS":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Column","RateColumnName":"Per Contract Value"}}}]},"Body":[{"Activity');
        builder.Append('Type":"SETVARIABLE","Activity":{"OutputVariableName":"PerContract","OutputValue":{"Type":"Constant",');
        builder.Append('"Value":"true"}}}]}}]}}]}}]}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Op');
        builder.Append('erator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Payment"}}]},"Body":');
        builder.Append('[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"PaymentAmount","OutputValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amou');
        builder.Append('nt"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"Output');
        builder.Append('VariableName":"InvoiceAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Gen. Journal Line","FieldName":"Amount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activit');
        builder.Append('y":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"Constant","');
        builder.Append('Value":"Vendor"}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"VendorNo');
        builder.Append('","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Account No."}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVA');
        builder.Append('RIABLE","Activity":{"OutputVariableName":"VendorNo","OutputValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Bal. Account No."}}}}]}}}],"Comp');
        builder.Append('onents":[{"ComponentName":"Surcharge","Sequence":2,"Formula":{"VariableName":"","Expression":"{TDSAm');
        builder.Append('t}*{SurchargePer}/100","Tokens":[{"TokenName":"{SurchargePer}","TokenValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenVal');
        builder.Append('ue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"SurchargeBaseAmt"}}}]}},{"Com');
        builder.Append('ponentName":"Non PAN TDS","Sequence":1,"Formula":{"VariableName":"","Expression":"TDSTaxableAmount*T');
        builder.Append('DS/100","Tokens":[{"TokenName":"TDS","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component');
        builder.Append(' Percent","ComponentName":"Non PAN TDS"}}},{"TokenName":"TDSTaxableAmount","TokenValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Variable","VariableName":"TDSTaxableAmount"}}}]}},{"ComponentName":"SHE');
        builder.Append(' Cess ","Sequence":4,"Formula":{"VariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{SheCessPe');
        builder.Append('r}/100","Tokens":[{"TokenName":"{SheCessPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Component Percent","ComponentName":"SHE Cess "}}},{"TokenName":"{SurchargeAmt}","TokenValue":{"Type"');
        builder.Append(':"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}",');
        builder.Append('"TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}}');
        builder.Append(',{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Expression":"NonPANT');
        builder.Append('DS+Surcharge+eCess+SheCess","Tokens":[{"TokenName":"eCess","TokenValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"NonPANTDS","TokenValue":{"Type":"Lo');
        builder.Append('okup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"TokenName":"SheCess","To');
        builder.Append('kenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"Token');
        builder.Append('Name":"Surcharge","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"');
        builder.Append('Surcharge"}}}]}},{"ComponentName":"TDS Base Amount","Sequence":6,"Formula":{"VariableName":"","Expre');
        builder.Append('ssion":"{TDSBaseAmt}","Tokens":[{"TokenName":"{TDSBaseAmt}","TokenValue":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Variable","VariableName":"TDSBaseAmt"}}}]}},{"ComponentName":"eCESS","Sequence":3,"For');
        builder.Append('mula":{"VariableName":"","Expression":"({TDSAmt}+{SurchargeAmt})*{EcessPer}/100","Tokens":[{"TokenNa');
        builder.Append('me":"{EcessPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","Component');
        builder.Append('Name":"eCESS"}}},{"TokenName":"{SurchargeAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":');
        builder.Append('"Component","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}}]}}],"Condition":{"Body":[{"Operator');
        builder.Append('":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Jour');
        builder.Append('nal Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Invoice"}},{"Operator":"or');
        builder.Append('","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal ');
        builder.Append('Line","FieldName":"Document Type"}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","');
        builder.Append('ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldNa');
        builder.Append('me":"P.A.N. Status","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","');
        builder.Append('FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"Account No."}}}]}},"RHS":{"Type":"Constant","Value":" "}},{"Operator":"and","Conditio');
        builder.Append('nType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Vendor","TableFieldName":"P.A');
        builder.Append('.N. No.","Method":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue');
        builder.Append('":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldNam');
        builder.Append('e":"Account No."}}}]}},"RHS":{"Type":"Constant","Value":" "}},{"Operator":"and","ConditionType":"Equ');
        builder.Append('als","LHS":{"Lookup":{"SourceType":"Table","TableName":"TDS Concessional Code","TableFieldName":"Con');
        builder.Append('cessional Code","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No.","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal L');
        builder.Append('ine","FieldName":"Account No."}}},{"FiterFieldName":"Section","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equ');
        builder.Append('als","LHS":{"Lookup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"Non Resi');
        builder.Append('dent Payments","Method":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals",');
        builder.Append('"FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Lin');
        builder.Append('e","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":"Yes"}},{"Operator":"and","ConditionType"');
        builder.Append(':"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"Account Type"}},"RHS":{"Type":"Constant","Value":"Vendor"}},{"Operator":"and","ConditionType":"Not');
        builder.Append(' Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":');
        builder.Append('"TDS Section Code"}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"System');
        builder.Append('-Created Entry"}},"RHS":{"Type":"Constant","Value":""}}]},"TaxPostingSetup":[{"ComponentName":"Total');
        builder.Append(' TDS Amount","TableName":"TDS Posting Setup","AccountSourceType":"Field","FieldName":"TDS Account","');
        builder.Append('AccountingImpact":"Credit","ReverseCharge":false,"ReverseAccountSourceType":"Field","ReverseChargeFi');
        builder.Append('eldName":"","When":[{"Condition":{"Body":[{"Operator":" ","ConditionType":"Not Equals","LHS":{"Looku');
        builder.Append('p":{"SourceType":"Component","ComponentName":"Total TDS Amount"}},"RHS":{"Type":"Constant","Value":"');
        builder.Append('0"}}]},"ValueType":"Insert Record","InsertRecord":{"TableName":"TDS Entry","RunTrigger":true,"Record');
        builder.Append('Variable":"","SubLedgerGrpBy":"Component","InsertRecordFields":[{"FieldName":"Vendor No.","Sequence"');
        builder.Append(':4,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName"');
        builder.Append(':"Gen. Journal Line","FieldName":"Account No."}}},{"FieldName":"T.A.N. No.","Sequence":5,"ReverseSig');
        builder.Append('n":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"TAN No."');
        builder.Append('}}},{"FieldName":"Section","Sequence":6,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FieldN');
        builder.Append('ame":"Assessee Code","Sequence":7,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Tax Attributes","AttributeName":"Assessee Code"}}},{"FieldName":"TDS Base Amount","Sequence":8,"');
        builder.Append('ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS');
        builder.Append(' Base Amount"}}},{"FieldName":"TDS %","Sequence":9,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component Percent","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Amount","');
        builder.Append('Sequence":10,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Compo');
        builder.Append('nentName":"Non PAN TDS"}}},{"FieldName":"Surcharge %","Sequence":11,"ReverseSign":false,"Lookup":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"FieldName"');
        builder.Append(':"Surcharge Amount","Sequence":12,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTyp');
        builder.Append('e":"Component","ComponentName":"Surcharge"}}},{"FieldName":"eCess %","Sequence":13,"ReverseSign":fal');
        builder.Append('se,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}},{');
        builder.Append('"FieldName":"eCess Amount","Sequence":14,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"So');
        builder.Append('urceType":"Component","ComponentName":"eCESS"}}},{"FieldName":"SHE Cess %","Sequence":15,"ReverseSig');
        builder.Append('n":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE C');
        builder.Append('ess "}}},{"FieldName":"SHE Cess Amount","Sequence":16,"ReverseSign":false,"Lookup":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"FieldName":"Concessional Code","');
        builder.Append('Sequence":17,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","');
        builder.Append('AttributeName":"Concessional Code"}}},{"FieldName":"Deductee PAN No.","Sequence":18,"ReverseSign":fa');
        builder.Append('lse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Tax Attributes","AttributeName":"PAN No."}}},{');
        builder.Append('"FieldName":"Non Resident Payments","Sequence":41,"ReverseSign":false,"Lookup":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Table","TableName":"Allowed Sections","TableFieldName":"Non Resident Payments","');
        builder.Append('Method":"First","TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"');
        builder.Append('Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"');
        builder.Append('Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Co');
        builder.Append('de"}}}]}}},{"FieldName":"Nature of Remittance","Sequence":19,"ReverseSign":false,"Lookup":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Nature o');
        builder.Append('f Remittance"}}},{"FieldName":"Act Applicable","Sequence":37,"ReverseSign":false,"Lookup":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Act Appl');
        builder.Append('icable"}}},{"FieldName":"Work Tax %","Sequence":32,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lo');
        builder.Append('okup":{"SourceType":"Component Percent","ComponentName":"Work Tax"}}},{"FieldName":"Work Tax Amount"');
        builder.Append(',"Sequence":34,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Com');
        builder.Append('ponentName":"Work Tax"}}},{"FieldName":"Work Tax Base Amount","Sequence":33,"ReverseSign":false,"Loo');
        builder.Append('kup":{"Type":"Constant","Value":"0.00"}},{"FieldName":"Invoice Amount","Sequence":25,"ReverseSign":f');
        builder.Append('alse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}');
        builder.Append('}},{"FieldName":"Posting Date","Sequence":3,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"FieldN');
        builder.Append('ame":"Document Type","Sequence":26,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}}},{"FieldName":"Do');
        builder.Append('cument No.","Sequence":2,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posti');
        builder.Append('ng Field","PostingVariableName":"Posted Document No."}}},{"FieldName":"Account Type","Sequence":23,"');
        builder.Append('ReverseSign":false,"Lookup":{"Type":"Constant","Value":"G/L Account"}},{"FieldName":"Account No.","S');
        builder.Append('equence":24,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName"');
        builder.Append(':"TDS Posting Setup","TableFieldName":"TDS Account","Method":"First","TableFilters":[{"FiterFieldNam');
        builder.Append('e":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Curren');
        builder.Append('t Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Effec');
        builder.Append('tive Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]}}},{"FieldName');
        builder.Append('":"Party Type","Sequence":43,"ReverseSign":false,"Lookup":{"Type":"Constant","Value":"Vendor"}},{"Fi');
        builder.Append('eldName":"Country Code","Sequence":38,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Tax Attributes","AttributeName":"Country Code"}}},{"FieldName":"Source Code","Sequence":28,"');
        builder.Append('ReverseSign":false,"Lookup":{"Type":"Constant","Value":"PURCHASES"}},{"FieldName":"TDS Amount Includ');
        builder.Append('ing Surcharge","Sequence":22,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('omponent","ComponentName":"TDS Including Surcharge"}}},{"FieldName":"Bal. TDS Including SHE CESS","S');
        builder.Append('equence":29,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variabl');
        builder.Append('eName":"TDSIncludingSHECess"}}},{"FieldName":"Remaining Surcharge Amount","Sequence":31,"ReverseSign');
        builder.Append('":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcharge"}}},');
        builder.Append('{"FieldName":"Remaining TDS Amount","Sequence":47,"ReverseSign":false,"Lookup":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},{"FieldName":"TDS Line Amount","Sequ');
        builder.Append('ence":48,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","Tabl');
        builder.Append('eName":"Gen. Journal Line","FieldName":"Amount"}}},{"FieldName":"Total TDS Including SHE CESS","Sequ');
        builder.Append('ence":21,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","Component');
        builder.Append('Name":"Total TDS Amount"}}},{"FieldName":"Per Contract","Sequence":44,"ReverseSign":false,"Lookup":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"PerContract"}}},{"FieldName":"User');
        builder.Append(' ID","Sequence":30,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Database","');
        builder.Append('DatabaseVariableName":"UserId"}}},{"FieldName":"Transaction No.","Sequence":42,"ReverseSign":false,"');
        builder.Append('Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Posting Field","PostingVariableName":"G/L Entry Tra');
        builder.Append('nsaction No."}}},{"FieldName":"Original TDS Base Amount","Sequence":27,"ReverseSign":false,"Lookup":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"TDS Base Amount"}}},{"FieldName');
        builder.Append('":"Payment Amount","Sequence":45,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"PaymentAmount"}}},{"FieldName":"Currency Code","Sequence":39,"ReverseSi');
        builder.Append('gn":false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journa');
        builder.Append('l Line","FieldName":"Currency Code"}}},{"FieldName":"Currency Factor","Sequence":40,"ReverseSign":fa');
        builder.Append('lse,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line');
        builder.Append('","FieldName":"Currency Factor"}}},{"FieldName":"Surcharge Base Amount","Sequence":46,"ReverseSign":');
        builder.Append('false,"Lookup":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Non PAN TDS"}}},');
        builder.Append('{"FieldName":"G/L Entry No.","Sequence":1,"ReverseSign":false,"Lookup":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Posting Field","PostingVariableName":"G/L Entry No."}}}]}}]}],"AttachedEvents":[{"EventN');
        builder.Append('ame":"CallTaxEngineOnGenJnlLine","Enabled":true,"Sequence":0},{"EventName":"OnAfterGenJnlLineUpdated');
        builder.Append('","Enabled":true,"Sequence":0}]},{"Description":"Calculation of Tax Deducted at Source through throu');
        builder.Append('gh Bank Receipt Voucher/Cash Receipt Voucher/General Journal/Cash Receipt Journal for Customers.","T');
        builder.Append('axType":"TDS","Code":"","TaxEntity":"Gen. Journal Line","ParentUseCase":"","PresentationOrder":293,"');
        builder.Append('Indent":0,"Attributes":[{"Name":"Assessee Code","When":[{"ValueType":"Relation","Relation":{"TableNa');
        builder.Append('me":"Customer","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account');
        builder.Append(' No."}}}]}}]},{"Name":"Section Code","When":[{"ValueType":"Relation","Relation":{"TableName":"Gen. J');
        builder.Append('ournal Line","TableFilters":[{"FiterFieldName":"Journal Template Name","FilterType":"Equals","Filter');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"Journal Template Name"}}},{"FiterFieldName":"Line No.","FilterType":"Equals","FilterValue":');
        builder.Append('{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName"');
        builder.Append(':"Line No."}}},{"FiterFieldName":"Journal Batch Name","FilterType":"Equals","FilterValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Journal ');
        builder.Append('Batch Name"}}}]}}]}],"RateColumns":[{"Name":"Effective Date","When":[{"ValueType":"Lookup","Lookup":');
        builder.Append('{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}]}],"Comp');
        builder.Append('utationVariables":[],"ComputationScript":[],"PostingVariables":[],"PostingScript":[],"Components":[]');
        builder.Append(',"AttachedEvents":[]},{"Description":"Calculation of Tax Deducted at Source through through Bank Rec');
        builder.Append('eipt Voucher/Cash Receipt Voucher/General Journal/Cash Receipt Journal for Customers with PAN and Co');
        builder.Append('ncessional Code.","TaxType":"TDS","Code":"","TaxEntity":"Gen. Journal Line","ParentUseCase":"Calcula');
        builder.Append('tion of Tax Deducted at Source through through Bank Receipt Voucher/Cash Receipt Voucher/General Jou');
        builder.Append('rnal/Cash Receipt Journal for Customers.","PresentationOrder":294,"Indent":1,"PostingTableName":"TDS');
        builder.Append(' Posting Setup","PostingTableFilters":[{"FiterFieldName":"TDS Section","FilterType":"Equals","Filter');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"TDS Section Code"}}},{"FiterFieldName":"Effective Date","FilterType":"Is Less Than Or Equal');
        builder.Append('s To","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journ');
        builder.Append('al Line","FieldName":"Posting Date"}}}],"Attributes":[{"Name":"Concessional Code","When":[{"ValueTyp');
        builder.Append('e":"Relation","Relation":{"TableName":"TDS Customer Concessional Code","TableFilters":[{"FiterFieldN');
        builder.Append('ame":"Customer No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Sec');
        builder.Append('tion Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}}]},{"Name":"PAN No.","When":');
        builder.Append('[{"ValueType":"Relation","Relation":{"TableName":"Customer","TableFilters":[{"FiterFieldName":"No.",');
        builder.Append('"FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableN');
        builder.Append('ame":"Gen. Journal Line","FieldName":"Account No."}}}]}}]}],"RateColumns":[],"ComputationVariables":');
        builder.Append('[{"Name":"ThresholdAmount","Datatype":"Number"},{"Name":"SurchargeThresholdAmount","Datatype":"Numbe');
        builder.Append('r"},{"Name":"TotalAmount","Datatype":"Number"},{"Name":"TDSBaseAmt","Datatype":"Number"},{"Name":"TD');
        builder.Append('SAmt","Datatype":"Number"},{"Name":"SurchargeBaseAmount","Datatype":"Number"},{"Name":"AccountingSta');
        builder.Append('rtDate","Datatype":"Date"},{"Name":"AccountingEndDate","Datatype":"Date"},{"Name":"TotalEcessAmt","D');
        builder.Append('atatype":"Number"},{"Name":"SurchargeBaseAmt","Datatype":"Number"}],"ComputationScript":[{"ActivityT');
        builder.Append('ype":"SETVARIABLE","Activity":{"OutputVariableName":"ThresholdAmount","OutputValue":{"Type":"Lookup"');
        builder.Append(',"Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount"}}}},{"ActivityType":"IFSTAT');
        builder.Append('EMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Looku');
        builder.Append('p":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}},"RHS":{"Typ');
        builder.Append('e":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":');
        builder.Append('"TotalAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Ge');
        builder.Append('n. Journal Line","FieldName":"Credit Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"Activi');
        builder.Append('tyType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalAmount","OutputValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Debit Amount"}}');
        builder.Append('}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType');
        builder.Append('":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"TotalAmount"}},"RHS":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"ThresholdAmount"}}},{"Operator":"and",');
        builder.Append('"ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"Customer Allowed Section');
        builder.Append('s","TableFieldName":"Threshold Overlook","Method":"First","TableFilters":[{"FiterFieldName":"Custome');
        builder.Append('r No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","');
        builder.Append('TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterT');
        builder.Append('ype":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Ge');
        builder.Append('n. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body"');
        builder.Append(':[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":');
        builder.Append('"Constant","Value":""}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","A');
        builder.Append('ctivity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"V');
        builder.Append('ariable","VariableName":"TotalAmount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":');
        builder.Append('{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Recor');
        builder.Append('d","TableName":"Gen. Journal Line","FieldName":"Amount"}},"RHS":{"Type":"Constant","Value":""}}]},"B');
        builder.Append('ody":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Cr');
        builder.Append('edit Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity"');
        builder.Append(':{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current R');
        builder.Append('ecord","TableName":"Gen. Journal Line","FieldName":"Debit Amount"}}}}]}}},{"ActivityType":"SETVARIAB');
        builder.Append('LE","Activity":{"OutputVariableName":"SurchargeThresholdAmount","OutputValue":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount"}}}},{"ActivityType":"NUMERI');
        builder.Append('CEXPRESSION","Activity":{"VariableName":"TDSAmt","Expression":"{Amount}*{TDSPer}/100","Tokens":[{"To');
        builder.Append('kenName":"{Amount}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"');
        builder.Append('TDSBaseAmt"}}},{"TokenName":"{TDSPer}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Compone');
        builder.Append('nt Percent","ComponentName":"TDS"}}}]}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body');
        builder.Append('":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","Variable');
        builder.Append('Name":"TDSAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"SurchargeT');
        builder.Append('hresholdAmount"}}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table",');
        builder.Append('"TableName":"Customer Allowed Sections","TableFieldName":"Surcharge Overlook","Method":"First","Tabl');
        builder.Append('eFilters":[{"FiterFieldName":"Customer No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"F');
        builder.Append('iterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceT');
        builder.Append('ype":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"T');
        builder.Append('ype":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName');
        builder.Append('":"SurchargeBaseAmount","OutputValue":{"Type":"Constant","Value":"0"}}}],"ElseIf":{"Condition":{"Bod');
        builder.Append('y":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeBaseAmount",');
        builder.Append('"OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmt"}}}}]}}},{"A');
        builder.Append('ctivityType":"SETVARIABLE","Activity":{"OutputVariableName":"AccountingStartDate","OutputValue":{"Ty');
        builder.Append('pe":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"St');
        builder.Append('arting Date","Method":"First","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals');
        builder.Append('","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldNa');
        builder.Append('me":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equa');
        builder.Append('ls","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFiel');
        builder.Append('dName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Closed","FilterType":');
        builder.Append('"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"SETVARIABLE","Acti');
        builder.Append('vity":{"OutputVariableName":"AccountingEndDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending Date","Method":"Last","TableF');
        builder.Append('ilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Accounting Period","Method":"Fir');
        builder.Append('st","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","T');
        builder.Append('ableFilters":[]}}}]}}},{"FiterFieldName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Const');
        builder.Append('ant","Value":"false"}}]}}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operato');
        builder.Append('r":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"Ac');
        builder.Append('countingStartDate"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen');
        builder.Append('. Journal Line","FieldName":"Posting Date"}}},{"Operator":"or","ConditionType":"Is Less Than","LHS":');
        builder.Append('{"Lookup":{"SourceType":"Variable","VariableName":"AccountingEndDate"}},"RHS":{"Type":"Lookup","Look');
        builder.Append('up":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}]},"');
        builder.Append('Body":[{"ActivityType":"ALERTMESSAGE","Activity":{"MessageText":{"Type":"Constant","Value":"The Post');
        builder.Append('ing Date doesnt lie in Tax Accounting Period."},"ThrowError":true}}]}},{"ActivityType":"NUMERICEXPRE');
        builder.Append('SSION","Activity":{"VariableName":"SurchargeBaseAmt","Expression":"{Surcharge}*{SurchargePer}/100","');
        builder.Append('Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"SurchargeBaseAmount"}}},{"TokenName":"{SurchargePer}","TokenValue":{"Type":"Lookup",');
        builder.Append('"Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}}]}},{"ActivityType":"NUMERI');
        builder.Append('CEXPRESSION","Activity":{"VariableName":"TotalEcessAmt","Expression":"{TDSAmt}+{Surcharge}","Tokens"');
        builder.Append(':[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Variab');
        builder.Append('leName":"SurchargeBaseAmt"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"TDSAmt"}}}]}}],"PostingVariables":[],"PostingScript":[],"Component');
        builder.Append('s":[{"ComponentName":"Surcharge","Sequence":2,"Formula":{"VariableName":"","Expression":"{TDSAmt}*{S');
        builder.Append('urchargePer}/100","Tokens":[{"TokenName":"{SurchargePer}","TokenValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Component Percent","ComponentName":"Surcharge"}}},{"TokenName":"{TDSAmt}","TokenValue":{');
        builder.Append('"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"SurchargeBaseAmount"}}}]}},{"Compo');
        builder.Append('nentName":"TDS Base Amount","Sequence":6,"Formula":{"VariableName":"","Expression":"{TDSBaseAmt}","T');
        builder.Append('okens":[{"TokenName":"{TDSBaseAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable",');
        builder.Append('"VariableName":"TotalAmount"}}}]}},{"ComponentName":"SHE Cess ","Sequence":4,"Formula":{"VariableNam');
        builder.Append('e":"","Expression":"{EcessAmt}*{SheCess}/100","Tokens":[{"TokenName":"{EcessAmt}","TokenValue":{"Typ');
        builder.Append('e":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TotalEcessAmt"}}},{"TokenName":"{SheCe');
        builder.Append('ss}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE C');
        builder.Append('ess "}}}]}},{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableName":"","Expressio');
        builder.Append('n":"{TDS}+{Surchrge}+{Ecess}+{SheCess}","Tokens":[{"TokenName":"{Ecess}","TokenValue":{"Type":"Looku');
        builder.Append('p","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"{SheCess}","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}}},{"TokenName":"');
        builder.Append('{Surchrge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"Surcha');
        builder.Append('rge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Compo');
        builder.Append('nentName":"TDS"}}}]}},{"ComponentName":"eCESS","Sequence":3,"Formula":{"VariableName":"","Expression');
        builder.Append('":"{EcessAmt}*{EcessPer}/100","Tokens":[{"TokenName":"{EcessAmt}","TokenValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Variable","VariableName":"TotalEcessAmt"}}},{"TokenName":"{EcessPer}","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}}]}},{"Compo');
        builder.Append('nentName":"TDS","Sequence":1,"Formula":{"VariableName":"","Expression":"{TDSAmt}","Tokens":[{"TokenN');
        builder.Append('ame":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSA');
        builder.Append('mt"}}}]}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals","LHS":{"Lookup":{"SourceTyp');
        builder.Append('e":"Current Record","TableName":"Gen. Journal Line","FieldName":"Document Type"}},"RHS":{"Type":"Con');
        builder.Append('stant","Value":"Payment"}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceTy');
        builder.Append('pe":"Table","TableName":"Customer","TableFieldName":"P.A.N. No.","Method":"First","TableFilters":[{"');
        builder.Append('FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}]}},"RHS":{"Type":"Consta');
        builder.Append('nt","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","T');
        builder.Append('ableName":"Customer","TableFieldName":"P.A.N. Status","Method":"First","TableFilters":[{"FiterFieldN');
        builder.Append('ame":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Reco');
        builder.Append('rd","TableName":"Gen. Journal Line","FieldName":"Account No."}}}]}},"RHS":{"Type":"Constant","Value"');
        builder.Append(':" "}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Current Record"');
        builder.Append(',"TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}},"RHS":{"Type":"Constant","Value":"');
        builder.Append('"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","Table');
        builder.Append('Name":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"Constant","Value":"Customer"}}');
        builder.Append(',{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Current Record","TableNam');
        builder.Append('e":"Gen. Journal Line","FieldName":"System-Created Entry"}},"RHS":{"Type":"Constant","Value":""}},{"');
        builder.Append('Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{"SourceType":"Table","TableName":"TDS ');
        builder.Append('Customer Concessional Code","TableFieldName":"Concessional Code","Method":"First","TableFilters":[{"');
        builder.Append('FiterFieldName":"Customer No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFieldNam');
        builder.Append('e":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"C');
        builder.Append('urrent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"C');
        builder.Append('onstant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Curr');
        builder.Append('ent Record","TableName":"Gen. Journal Line","FieldName":"TDS Certificate Receivable"}},"RHS":{"Type"');
        builder.Append(':"Constant","Value":"true"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType');
        builder.Append('":"Current Record","TableName":"Gen. Journal Line","FieldName":"System-Created Entry"}},"RHS":{"Type');
        builder.Append('":"Constant","Value":""}}]},"TaxPostingSetup":[{"ComponentName":"Total TDS Amount","TableName":"TDS ');
        builder.Append('Posting Setup","AccountSourceType":"Field","FieldName":"TDS Receivable Account","AccountingImpact":"');
        builder.Append('Debit","ReverseCharge":false,"ReverseAccountSourceType":"Field","ReverseChargeFieldName":"","When":[');
        builder.Append(']}],"AttachedEvents":[{"EventName":"CallTaxEngineOnGenJnlLine","Enabled":true,"Sequence":0},{"EventN');
        builder.Append('ame":"OnAfterGenJnlLineUpdated","Enabled":true,"Sequence":0}]},{"Description":"Calculation of Tax De');
        builder.Append('ducted at Source through through Bank Receipt Voucher/Cash Receipt Voucher/General Journal/Cash Rece');
        builder.Append('ipt Journal for Customers with PAN and without Concessional Code.","TaxType":"TDS","Code":"","TaxEnt');
        builder.Append('ity":"Gen. Journal Line","ParentUseCase":"Calculation of Tax Deducted at Source through through Bank');
        builder.Append(' Receipt Voucher/Cash Receipt Voucher/General Journal/Cash Receipt Journal for Customers.","Presenta');
        builder.Append('tionOrder":295,"Indent":1,"PostingTableName":"TDS Posting Setup","PostingTableFilters":[{"FiterField');
        builder.Append('Name":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}},{"FiterFieldName":"Ef');
        builder.Append('fective Date","FilterType":"Is Less Than Or Equals To","FilterValue":{"Type":"Lookup","Lookup":{"Sou');
        builder.Append('rceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}}],"Attributes');
        builder.Append('":[{"Name":"PAN No.","When":[{"ValueType":"Relation","Relation":{"TableName":"Customer","TableFilter');
        builder.Append('s":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}]}}]}],"RateColumns');
        builder.Append('":[],"ComputationVariables":[{"Name":"ThresholdAmount","Datatype":"Number"},{"Name":"SurchargeThresh');
        builder.Append('oldAmount","Datatype":"Number"},{"Name":"TotalAmount","Datatype":"Number"},{"Name":"TDSBaseAmt","Dat');
        builder.Append('atype":"Number"},{"Name":"TDSAmt","Datatype":"Number"},{"Name":"SurchargeBaseAmount","Datatype":"Num');
        builder.Append('ber"},{"Name":"AccountingStartDate","Datatype":"Date"},{"Name":"AccountingEndDate","Datatype":"Date"');
        builder.Append('},{"Name":"TotalEcessAmt","Datatype":"Number"},{"Name":"TotalSurchargeAmt","Datatype":"Number"}],"Co');
        builder.Append('mputationScript":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"ThresholdAmount","');
        builder.Append('OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"TDS Threshold Amount');
        builder.Append('"}}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType"');
        builder.Append(':"Is Less Than","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fiel');
        builder.Append('dName":"Amount"}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Act');
        builder.Append('ivity":{"OutputVariableName":"TotalAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"Credit Amount"}}}}],"ElseIf":{"Condition"');
        builder.Append(':{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TotalAmount","O');
        builder.Append('utputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line"');
        builder.Append(',"FieldName":"Debit Amount"}}}}]}}},{"ActivityType":"IFSTATEMENT","Activity":{"Condition":{"Body":[{');
        builder.Append('"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName');
        builder.Append('":"TotalAmount"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"Threshold');
        builder.Append('Amount"}}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceType":"Table","TableNa');
        builder.Append('me":"Customer Allowed Sections","TableFieldName":"Threshold Overlook","Method":"First","TableFilters');
        builder.Append('":[{"FiterFieldName":"Customer No","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"S');
        builder.Append('ourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},{"FiterFiel');
        builder.Append('dName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Cu');
        builder.Append('rrent Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":{"Type":"Co');
        builder.Append('nstant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBa');
        builder.Append('seAmt","OutputValue":{"Type":"Constant","Value":""}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"A');
        builder.Append('ctivityType":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Variable","VariableName":"TotalAmount"}}}}]}}},{"ActivityType":"IFSTATEM');
        builder.Append('ENT","Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup"');
        builder.Append(':{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Amount"}},"RHS":{"Type"');
        builder.Append(':"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"T');
        builder.Append('DSBaseAmt","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. ');
        builder.Append('Journal Line","FieldName":"Credit Amount"}}}}],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityT');
        builder.Append('ype":"SETVARIABLE","Activity":{"OutputVariableName":"TDSBaseAmt","OutputValue":{"Type":"Lookup","Loo');
        builder.Append('kup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Debit Amount"}}}}]}');
        builder.Append('}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"SurchargeThresholdAmount","Output');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Column","RateColumnName":"Surcharge Threshold Amount');
        builder.Append('"}}}},{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TDSAmt","Expression":"{Amount}');
        builder.Append('*{TDSPer}/100","Tokens":[{"TokenName":"{Amount}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType');
        builder.Append('":"Variable","VariableName":"TDSBaseAmt"}}},{"TokenName":"{TDSPer}","TokenValue":{"Type":"Lookup","L');
        builder.Append('ookup":{"SourceType":"Component Percent","ComponentName":"TDS"}}}]}},{"ActivityType":"IFSTATEMENT","');
        builder.Append('Activity":{"Condition":{"Body":[{"Operator":" ","ConditionType":"Is Less Than","LHS":{"Lookup":{"Sou');
        builder.Append('rceType":"Variable","VariableName":"TDSAmt"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Variabl');
        builder.Append('e","VariableName":"SurchargeThresholdAmount"}}},{"Operator":"and","ConditionType":"Equals","LHS":{"L');
        builder.Append('ookup":{"SourceType":"Table","TableName":"Customer Allowed Sections","TableFieldName":"Surcharge Ove');
        builder.Append('rlook","Method":"First","TableFilters":[{"FiterFieldName":"Customer No","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fi');
        builder.Append('eldName":"Account No."}}},{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type');
        builder.Append('":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS ');
        builder.Append('Section Code"}}}]}},"RHS":{"Type":"Constant","Value":""}}]},"Body":[{"ActivityType":"SETVARIABLE","A');
        builder.Append('ctivity":{"OutputVariableName":"SurchargeBaseAmount","OutputValue":{"Type":"Constant","Value":"0"}}}');
        builder.Append('],"ElseIf":{"Condition":{"Body":[]},"Body":[{"ActivityType":"SETVARIABLE","Activity":{"OutputVariabl');
        builder.Append('eName":"SurchargeBaseAmount","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","Varia');
        builder.Append('bleName":"TDSAmt"}}}}]}}},{"ActivityType":"SETVARIABLE","Activity":{"OutputVariableName":"Accounting');
        builder.Append('StartDate","OutputValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting');
        builder.Append(' Period","TableFieldName":"Starting Date","Method":"First","TableFilters":[{"FiterFieldName":"Tax Ty');
        builder.Append('pe Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableN');
        builder.Append('ame":"Tax Type","TableFieldName":"Accounting Period","Method":"First","TableFilters":[{"FiterFieldNa');
        builder.Append('me":"Code","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","Tabl');
        builder.Append('eName":"TDS Setup","TableFieldName":"Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFiel');
        builder.Append('dName":"Closed","FilterType":"Equals","FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"Acti');
        builder.Append('vityType":"SETVARIABLE","Activity":{"OutputVariableName":"AccountingEndDate","OutputValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Accounting Period","TableFieldName":"Ending ');
        builder.Append('Date","Method":"Last","TableFilters":[{"FiterFieldName":"Tax Type Code","FilterType":"Equals","Filte');
        builder.Append('rValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"Tax Type","TableFieldName":"Acc');
        builder.Append('ounting Period","Method":"First","TableFilters":[{"FiterFieldName":"Code","FilterType":"Equals","Fil');
        builder.Append('terValue":{"Type":"Lookup","Lookup":{"SourceType":"Table","TableName":"TDS Setup","TableFieldName":"');
        builder.Append('Tax Type","Method":"First","TableFilters":[]}}}]}}},{"FiterFieldName":"Closed","FilterType":"Equals"');
        builder.Append(',"FilterValue":{"Type":"Constant","Value":"false"}}]}}}},{"ActivityType":"IFSTATEMENT","Activity":{"');
        builder.Append('Condition":{"Body":[{"Operator":" ","ConditionType":"Is Greater Than","LHS":{"Lookup":{"SourceType":');
        builder.Append('"Variable","VariableName":"AccountingStartDate"}},"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Cur');
        builder.Append('rent Record","TableName":"Gen. Journal Line","FieldName":"Posting Date"}}},{"Operator":"or","Conditi');
        builder.Append('onType":"Is Less Than","LHS":{"Lookup":{"SourceType":"Variable","VariableName":"AccountingEndDate"}}');
        builder.Append(',"RHS":{"Type":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","Fie');
        builder.Append('ldName":"Posting Date"}}}]},"Body":[{"ActivityType":"ALERTMESSAGE","Activity":{"MessageText":{"Type"');
        builder.Append(':"Constant","Value":"The Posting Date doesnt lie in Tax Accounting Period."},"ThrowError":true}}]}},');
        builder.Append('{"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalEcessAmt","Expression":"{Surchr');
        builder.Append('ge}*{SurchrgePer}/100","Tokens":[{"TokenName":"{Surchrge}","TokenValue":{"Type":"Lookup","Lookup":{"');
        builder.Append('SourceType":"Variable","VariableName":"SurchargeBaseAmount"}}},{"TokenName":"{SurchrgePer}","TokenVa');
        builder.Append('lue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}}]}},{');
        builder.Append('"ActivityType":"NUMERICEXPRESSION","Activity":{"VariableName":"TotalEcessAmt","Expression":"{TDSAmt}');
        builder.Append('+{Surcharge}","Tokens":[{"TokenName":"{Surcharge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceTy');
        builder.Append('pe":"Variable","VariableName":"TotalSurchargeAmt"}}},{"TokenName":"{TDSAmt}","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmt"}}}]}}],"PostingVariables":[],"Posti');
        builder.Append('ngScript":[],"Components":[{"ComponentName":"SHE Cess ","Sequence":4,"Formula":{"VariableName":"","E');
        builder.Append('xpression":"{EcessAmt}*{SHecessPer}/100","Tokens":[{"TokenName":"{EcessAmt}","TokenValue":{"Type":"L');
        builder.Append('ookup","Lookup":{"SourceType":"Variable","VariableName":"TotalEcessAmt"}}},{"TokenName":"{SHecessPer');
        builder.Append('}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"SHE Ces');
        builder.Append('s "}}}]}},{"ComponentName":"eCESS","Sequence":3,"Formula":{"VariableName":"","Expression":"{EcessAmt');
        builder.Append('}*{EcessPer}/100","Tokens":[{"TokenName":"{EcessAmt}","TokenValue":{"Type":"Lookup","Lookup":{"Sourc');
        builder.Append('eType":"Variable","VariableName":"TotalEcessAmt"}}},{"TokenName":"{EcessPer}","TokenValue":{"Type":"');
        builder.Append('Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"eCESS"}}}]}},{"ComponentName":"T');
        builder.Append('DS","Sequence":1,"Formula":{"VariableName":"","Expression":"{TDSAmt}","Tokens":[{"TokenName":"{TDSAm');
        builder.Append('t}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName":"TDSAmt"}}}]}},{"');
        builder.Append('ComponentName":"TDS Base Amount","Sequence":6,"Formula":{"VariableName":"","Expression":"{TDSBaseAmt');
        builder.Append('}","Tokens":[{"TokenName":"{TDSBaseAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Varia');
        builder.Append('ble","VariableName":"TotalAmount"}}}]}},{"ComponentName":"Surcharge","Sequence":2,"Formula":{"Variab');
        builder.Append('leName":"","Expression":"{TDSAmt}*{SurchargePer}/100","Tokens":[{"TokenName":"{SurchargePer}","Token');
        builder.Append('Value":{"Type":"Lookup","Lookup":{"SourceType":"Component Percent","ComponentName":"Surcharge"}}},{"');
        builder.Append('TokenName":"{TDSAmt}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Variable","VariableName"');
        builder.Append(':"SurchargeBaseAmount"}}}]}},{"ComponentName":"Total TDS Amount","Sequence":5,"Formula":{"VariableNa');
        builder.Append('me":"","Expression":"{TDS}+{Surchrge}+{Ecess}+{SheCess}","Tokens":[{"TokenName":"{Ecess}","TokenValu');
        builder.Append('e":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"eCESS"}}},{"TokenName":"{She');
        builder.Append('Cess}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","ComponentName":"SHE Cess "}');
        builder.Append('}},{"TokenName":"{Surchrge}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"Component","Compo');
        builder.Append('nentName":"Surcharge"}}},{"TokenName":"{TDS}","TokenValue":{"Type":"Lookup","Lookup":{"SourceType":"');
        builder.Append('Component","ComponentName":"TDS"}}}]}}],"Condition":{"Body":[{"Operator":" ","ConditionType":"Equals');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Docume');
        builder.Append('nt Type"}},"RHS":{"Type":"Constant","Value":"Payment"}},{"Operator":"and","ConditionType":"Not Equal');
        builder.Append('s","LHS":{"Lookup":{"SourceType":"Table","TableName":"Customer","TableFieldName":"P.A.N. No.","Metho');
        builder.Append('d":"First","TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Look');
        builder.Append('up","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No.');
        builder.Append('"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Loo');
        builder.Append('kup":{"SourceType":"Table","TableName":"Customer","TableFieldName":"P.A.N. Status","Method":"First",');
        builder.Append('"TableFilters":[{"FiterFieldName":"No.","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup');
        builder.Append('":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}}]}},"RH');
        builder.Append('S":{"Type":"Constant","Value":" "}},{"Operator":"and","ConditionType":"Not Equals","LHS":{"Lookup":{');
        builder.Append('"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}},"RHS"');
        builder.Append(':{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"Source');
        builder.Append('Type":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account Type"}},"RHS":{"Type":"C');
        builder.Append('onstant","Value":"Customer"}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceTyp');
        builder.Append('e":"Table","TableName":"Allowed Sections","TableFieldName":"Non Resident Payments","Method":"First",');
        builder.Append('"TableFilters":[{"FiterFieldName":"Vendor No","FilterType":"Equals","FilterValue":{"Type":"Lookup","');
        builder.Append('Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"Account No."}}},');
        builder.Append('{"FiterFieldName":"TDS Section","FilterType":"Equals","FilterValue":{"Type":"Lookup","Lookup":{"Sour');
        builder.Append('ceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Section Code"}}}]}},"RHS":');
        builder.Append('{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS":{"Lookup":{"SourceT');
        builder.Append('ype":"Table","TableName":"TDS Customer Concessional Code","TableFieldName":"Concessional Code","Meth');
        builder.Append('od":"First","TableFilters":[{"FiterFieldName":"Customer No.","FilterType":"Equals","FilterValue":{"T');
        builder.Append('ype":"Lookup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"A');
        builder.Append('ccount No."}}},{"FiterFieldName":"TDS Section Code","FilterType":"Equals","FilterValue":{"Type":"Loo');
        builder.Append('kup","Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Sectio');
        builder.Append('n Code"}}}]}},"RHS":{"Type":"Constant","Value":""}},{"Operator":"and","ConditionType":"Equals","LHS"');
        builder.Append(':{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"TDS Certifica');
        builder.Append('te Receivable"}},"RHS":{"Type":"Constant","Value":"true"}},{"Operator":"and","ConditionType":"Equals');
        builder.Append('","LHS":{"Lookup":{"SourceType":"Current Record","TableName":"Gen. Journal Line","FieldName":"System');
        builder.Append('-Created Entry"}},"RHS":{"Type":"Constant","Value":""}}]},"TaxPostingSetup":[{"ComponentName":"Total');
        builder.Append(' TDS Amount","TableName":"TDS Posting Setup","AccountSourceType":"Field","FieldName":"TDS Receivable');
        builder.Append(' Account","AccountingImpact":"Debit","ReverseCharge":false,"ReverseAccountSourceType":"Field","Rever');
        builder.Append('seChargeFieldName":""}],"AttachedEvents":[{"EventName":"CallTaxEngineOnGenJnlLine","Enabled":true,"S');
        builder.Append('equence":0},{"EventName":"OnAfterGenJnlLineUpdated","Enabled":true,"Sequence":0}]}]}]');

        exit(builder.ToText());
    end;
}